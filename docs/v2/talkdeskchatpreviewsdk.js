(function(G,ve){typeof exports=="object"&&typeof module<"u"?module.exports=ve():typeof define=="function"&&define.amd?define(ve):(G=typeof globalThis<"u"?globalThis:G||self,G.TalkdeskChatPreviewSDK=ve())})(this,function(){"use strict";/*!
* Talkdesk Confidential
*
* Copyright (C) Talkdesk Inc. 2024
*
* The source code for this program is not published or otherwise divested
* of its trade secrets, irrespective of what has been deposited with the
* U.S. Copyright Office. Unauthorized copying of this file, via any medium
* is strictly prohibited.
*/var G=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var le=function(e){return e&&e.Math===Math&&e},O=le(typeof globalThis=="object"&&globalThis)||le(typeof window=="object"&&window)||le(typeof self=="object"&&self)||le(typeof G=="object"&&G)||le(typeof G=="object"&&G)||function(){return this}()||Function("return this")(),hn={exports:{}},gn=O,fs=Object.defineProperty,Sr=function(e,r){try{fs(gn,e,{value:r,configurable:!0,writable:!0})}catch{gn[e]=r}return r},ds=O,ps=Sr,yn="__core-js_shared__",mn=hn.exports=ds[yn]||ps(yn,{});(mn.versions||(mn.versions=[])).push({version:"3.38.0",mode:"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Or=hn.exports,bn=Or,$n=function(e,r){return bn[e]||(bn[e]=r||{})},w=function(e){try{return!!e()}catch{return!0}},hs=w,je=!hs(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),wn=je,Sn=Function.prototype,Er=Sn.call,gs=wn&&Sn.bind.bind(Er,Er),I=wn?gs:function(e){return function(){return Er.apply(e,arguments)}},Z=function(e){return e==null},ys=Z,ms=TypeError,fe=function(e){if(ys(e))throw new ms("Can't call method on "+e);return e},bs=fe,$s=Object,de=function(e){return $s(bs(e))},ws=I,Ss=de,Os=ws({}.hasOwnProperty),j=Object.hasOwn||function(r,t){return Os(Ss(r),t)},Es=I,Is=0,Ps=Math.random(),Ts=Es(1 .toString),Ir=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Ts(++Is+Ps,36)},Cs=O,On=Cs.navigator,En=On&&On.userAgent,pe=En?String(En):"",In=O,Pr=pe,Pn=In.process,Tn=In.Deno,Cn=Pn&&Pn.versions||Tn&&Tn.version,Rn=Cn&&Cn.v8,A,Ae;Rn&&(A=Rn.split("."),Ae=A[0]>0&&A[0]<4?1:+(A[0]+A[1])),!Ae&&Pr&&(A=Pr.match(/Edge\/(\d+)/),(!A||A[1]>=74)&&(A=Pr.match(/Chrome\/(\d+)/),A&&(Ae=+A[1])));var Le=Ae,_n=Le,Rs=w,_s=O,xs=_s.String,xn=!!Object.getOwnPropertySymbols&&!Rs(function(){var e=Symbol("symbol detection");return!xs(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_n&&_n<41}),js=xn,jn=js&&!Symbol.sham&&typeof Symbol.iterator=="symbol",As=O,Ls=$n,An=j,Ms=Ir,Ns=xn,Ds=jn,ee=As.Symbol,Tr=Ls("wks"),Fs=Ds?ee.for||ee:ee&&ee.withoutSetter||Ms,P=function(e){return An(Tr,e)||(Tr[e]=Ns&&An(ee,e)?ee[e]:Fs("Symbol."+e)),Tr[e]},Bs=P,ks=Bs("toStringTag"),Ln={};Ln[ks]="z";var Cr=String(Ln)==="[object z]",Rr=typeof document=="object"&&document.all,E=typeof Rr>"u"&&Rr!==void 0?function(e){return typeof e=="function"||e===Rr}:function(e){return typeof e=="function"},L={},Gs=w,_=!Gs(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Us=E,T=function(e){return typeof e=="object"?e!==null:Us(e)},Ks=O,Mn=T,_r=Ks.document,Ws=Mn(_r)&&Mn(_r.createElement),Me=function(e){return Ws?_r.createElement(e):{}},Vs=_,zs=w,Hs=Me,Nn=!Vs&&!zs(function(){return Object.defineProperty(Hs("div"),"a",{get:function(){return 7}}).a!==7}),Ys=_,Xs=w,Dn=Ys&&Xs(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Js=T,qs=String,Qs=TypeError,M=function(e){if(Js(e))return e;throw new Qs(qs(e)+" is not an object")},Zs=je,Ne=Function.prototype.call,N=Zs?Ne.bind(Ne):function(){return Ne.apply(Ne,arguments)},xr=O,eu=E,ru=function(e){return eu(e)?e:void 0},z=function(e,r){return arguments.length<2?ru(xr[e]):xr[e]&&xr[e][r]},tu=I,De=tu({}.isPrototypeOf),nu=z,au=E,iu=De,ou=jn,su=Object,Fn=ou?function(e){return typeof e=="symbol"}:function(e){var r=nu("Symbol");return au(r)&&iu(r.prototype,su(e))},uu=String,Fe=function(e){try{return uu(e)}catch{return"Object"}},cu=E,vu=Fe,lu=TypeError,U=function(e){if(cu(e))return e;throw new lu(vu(e)+" is not a function")},fu=U,du=Z,jr=function(e,r){var t=e[r];return du(t)?void 0:fu(t)},Ar=N,Lr=E,Mr=T,pu=TypeError,hu=function(e,r){var t,n;if(r==="string"&&Lr(t=e.toString)&&!Mr(n=Ar(t,e))||Lr(t=e.valueOf)&&!Mr(n=Ar(t,e))||r!=="string"&&Lr(t=e.toString)&&!Mr(n=Ar(t,e)))return n;throw new pu("Can't convert object to primitive value")},gu=N,Bn=T,kn=Fn,yu=jr,mu=hu,bu=P,$u=TypeError,wu=bu("toPrimitive"),Su=function(e,r){if(!Bn(e)||kn(e))return e;var t=yu(e,wu),n;if(t){if(r===void 0&&(r="default"),n=gu(t,e,r),!Bn(n)||kn(n))return n;throw new $u("Can't convert object to primitive value")}return r===void 0&&(r="number"),mu(e,r)},Ou=Su,Eu=Fn,Gn=function(e){var r=Ou(e,"string");return Eu(r)?r:r+""},Iu=_,Pu=Nn,Tu=Dn,Be=M,Un=Gn,Cu=TypeError,Nr=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Dr="enumerable",Fr="configurable",Br="writable";L.f=Iu?Tu?function(r,t,n){if(Be(r),t=Un(t),Be(n),typeof r=="function"&&t==="prototype"&&"value"in n&&Br in n&&!n[Br]){var a=Ru(r,t);a&&a[Br]&&(r[t]=n.value,n={configurable:Fr in n?n[Fr]:a[Fr],enumerable:Dr in n?n[Dr]:a[Dr],writable:!1})}return Nr(r,t,n)}:Nr:function(r,t,n){if(Be(r),t=Un(t),Be(n),Pu)try{return Nr(r,t,n)}catch{}if("get"in n||"set"in n)throw new Cu("Accessors not supported");return"value"in n&&(r[t]=n.value),r};var Kn={exports:{}},kr=_,_u=j,Wn=Function.prototype,xu=kr&&Object.getOwnPropertyDescriptor,Gr=_u(Wn,"name"),ju=Gr&&(function(){}).name==="something",Au=Gr&&(!kr||kr&&xu(Wn,"name").configurable),ke={EXISTS:Gr,PROPER:ju,CONFIGURABLE:Au},Lu=I,Mu=E,Ur=Or,Nu=Lu(Function.toString);Mu(Ur.inspectSource)||(Ur.inspectSource=function(e){return Nu(e)});var Kr=Ur.inspectSource,Du=O,Fu=E,Vn=Du.WeakMap,Bu=Fu(Vn)&&/native code/.test(String(Vn)),Ge=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}},ku=_,Gu=L,Uu=Ge,he=ku?function(e,r,t){return Gu.f(e,r,Uu(1,t))}:function(e,r,t){return e[r]=t,e},Ku=$n,Wu=Ir,zn=Ku("keys"),Wr=function(e){return zn[e]||(zn[e]=Wu(e))},Ue={},Vu=Bu,Hn=O,zu=T,Hu=he,Vr=j,zr=Or,Yu=Wr,Xu=Ue,Yn="Object already initialized",Hr=Hn.TypeError,Ju=Hn.WeakMap,Ke,ge,We,qu=function(e){return We(e)?ge(e):Ke(e,{})},Qu=function(e){return function(r){var t;if(!zu(r)||(t=ge(r)).type!==e)throw new Hr("Incompatible receiver, "+e+" required");return t}};if(Vu||zr.state){var D=zr.state||(zr.state=new Ju);D.get=D.get,D.has=D.has,D.set=D.set,Ke=function(e,r){if(D.has(e))throw new Hr(Yn);return r.facade=e,D.set(e,r),r},ge=function(e){return D.get(e)||{}},We=function(e){return D.has(e)}}else{var re=Yu("state");Xu[re]=!0,Ke=function(e,r){if(Vr(e,re))throw new Hr(Yn);return r.facade=e,Hu(e,re,r),r},ge=function(e){return Vr(e,re)?e[re]:{}},We=function(e){return Vr(e,re)}}var ye={set:Ke,get:ge,has:We,enforce:qu,getterFor:Qu},Yr=I,Zu=w,ec=E,Ve=j,Xr=_,rc=ke.CONFIGURABLE,tc=Kr,Xn=ye,nc=Xn.enforce,ac=Xn.get,Jn=String,ze=Object.defineProperty,ic=Yr("".slice),oc=Yr("".replace),sc=Yr([].join),uc=Xr&&!Zu(function(){return ze(function(){},"length",{value:8}).length!==8}),cc=String(String).split("String"),vc=Kn.exports=function(e,r,t){ic(Jn(r),0,7)==="Symbol("&&(r="["+oc(Jn(r),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Ve(e,"name")||rc&&e.name!==r)&&(Xr?ze(e,"name",{value:r,configurable:!0}):e.name=r),uc&&t&&Ve(t,"arity")&&e.length!==t.arity&&ze(e,"length",{value:t.arity});try{t&&Ve(t,"constructor")&&t.constructor?Xr&&ze(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var n=nc(e);return Ve(n,"source")||(n.source=sc(cc,typeof r=="string"?r:"")),e};Function.prototype.toString=vc(function(){return ec(this)&&ac(this).source||tc(this)},"toString");var qn=Kn.exports,lc=E,fc=L,dc=qn,pc=Sr,B=function(e,r,t,n){n||(n={});var a=n.enumerable,i=n.name!==void 0?n.name:r;if(lc(t)&&dc(t,i,n),n.global)a?e[r]=t:pc(r,t);else{try{n.unsafe?e[r]&&(a=!0):delete e[r]}catch{}a?e[r]=t:fc.f(e,r,{value:t,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},Qn=I,hc=Qn({}.toString),gc=Qn("".slice),H=function(e){return gc(hc(e),8,-1)},yc=Cr,mc=E,He=H,bc=P,$c=bc("toStringTag"),wc=Object,Sc=He(function(){return arguments}())==="Arguments",Oc=function(e,r){try{return e[r]}catch{}},Ye=yc?He:function(e){var r,t,n;return e===void 0?"Undefined":e===null?"Null":typeof(t=Oc(r=wc(e),$c))=="string"?t:Sc?He(r):(n=He(r))==="Object"&&mc(r.callee)?"Arguments":n},Ec=Cr,Ic=Ye,Pc=Ec?{}.toString:function(){return"[object "+Ic(this)+"]"},Tc=Cr,Cc=B,Rc=Pc;Tc||Cc(Object.prototype,"toString",Rc,{unsafe:!0});var _c={tdGatewayUs:"/tdgateway/us",tdGatewayEu:"/tdgateway/eu",tdGatewayCa:"/tdgateway/ca",tdGatewayUsFed:"/tdgateway/usfed",tdChatSdk:"/tdchatsdk",tdReporter:"/tdreporter",twilioUs1:"/tdsocketprovider/us1/v3/wsconnect",twilioIe1:"/tdsocketprovider/ie1/v3/wsconnect",twilioMcsUs1:"/tdmcsprovider/us1",twilioMcsIe1:"/tdmcsprovider/ie1",twilioMediaUs1:"/tdmediaprovider/us1",twilioMediaIe1:"/tdmediaprovider/ie1"};function xc(e,r){return!e||!r?!1:e.contains?e.contains(r):e.childNodes?Array.prototype.indexOf.call(e.childNodes,r)!==-1:!1}function Jr(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function jc(e){if(Array.isArray(e))return e}function Ac(e){if(Array.isArray(e))return Jr(e)}function Zn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Lc(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,na(n.key),n)}}function ea(e,r,t){return r&&Lc(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R(e,r,t){return(r=na(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Mc(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Nc(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n,a,i,o,u=[],v=!0,s=!1;try{if(i=(t=t.call(e)).next,r===0){if(Object(t)!==t)return;v=!1}else for(;!(v=(n=i.call(t)).done)&&(u.push(n.value),u.length!==r);v=!0);}catch(c){s=!0,a=c}finally{try{if(!v&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(s)throw a}}return u}}function Dc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ra(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function F(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ra(Object(t),!0).forEach(function(n){R(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ra(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function ta(e,r){return jc(e)||Nc(e,r)||aa(e,r)||Dc()}function Bc(e){return Ac(e)||Mc(e)||aa(e)||Fc()}function kc(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var n=t.call(e,r);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function na(e){var r=kc(e,"string");return typeof r=="symbol"?r:r+""}function aa(e,r){if(e){if(typeof e=="string")return Jr(e,r);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Jr(e,r):void 0}}var qr={},ia={},oa={}.propertyIsEnumerable,sa=Object.getOwnPropertyDescriptor,Gc=sa&&!oa.call({1:2},1);ia.f=Gc?function(r){var t=sa(this,r);return!!t&&t.enumerable}:oa;var Uc=I,Kc=w,Wc=H,Qr=Object,Vc=Uc("".split),Zr=Kc(function(){return!Qr("z").propertyIsEnumerable(0)})?function(e){return Wc(e)==="String"?Vc(e,""):Qr(e)}:Qr,zc=Zr,Hc=fe,Y=function(e){return zc(Hc(e))},Yc=_,Xc=N,Jc=ia,qc=Ge,Qc=Y,Zc=Gn,ev=j,rv=Nn,ua=Object.getOwnPropertyDescriptor;qr.f=Yc?ua:function(r,t){if(r=Qc(r),t=Zc(t),rv)try{return ua(r,t)}catch{}if(ev(r,t))return qc(!Xc(Jc.f,r,t),r[t])};var Xe={},tv=Math.ceil,nv=Math.floor,av=Math.trunc||function(r){var t=+r;return(t>0?nv:tv)(t)},iv=av,et=function(e){var r=+e;return r!==r||r===0?0:iv(r)},ov=et,sv=Math.max,uv=Math.min,cv=function(e,r){var t=ov(e);return t<0?sv(t+r,0):uv(t,r)},vv=et,lv=Math.min,fv=function(e){var r=vv(e);return r>0?lv(r,9007199254740991):0},dv=fv,Je=function(e){return dv(e.length)},pv=Y,hv=cv,gv=Je,ca=function(e){return function(r,t,n){var a=pv(r),i=gv(a);if(i===0)return!e&&-1;var o=hv(n,i),u;if(e&&t!==t){for(;i>o;)if(u=a[o++],u!==u)return!0}else for(;i>o;o++)if((e||o in a)&&a[o]===t)return e||o||0;return!e&&-1}},yv={includes:ca(!0),indexOf:ca(!1)},mv=I,rt=j,bv=Y,$v=yv.indexOf,wv=Ue,va=mv([].push),la=function(e,r){var t=bv(e),n=0,a=[],i;for(i in t)!rt(wv,i)&&rt(t,i)&&va(a,i);for(;r.length>n;)rt(t,i=r[n++])&&(~$v(a,i)||va(a,i));return a},tt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sv=la,Ov=tt,Ev=Ov.concat("length","prototype");Xe.f=Object.getOwnPropertyNames||function(r){return Sv(r,Ev)};var fa={};fa.f=Object.getOwnPropertySymbols;var Iv=z,Pv=I,Tv=Xe,Cv=fa,Rv=M,_v=Pv([].concat),xv=Iv("Reflect","ownKeys")||function(r){var t=Tv.f(Rv(r)),n=Cv.f;return n?_v(t,n(r)):t},da=j,jv=xv,Av=qr,Lv=L,Mv=function(e,r,t){for(var n=jv(r),a=Lv.f,i=Av.f,o=0;o<n.length;o++){var u=n[o];!da(e,u)&&!(t&&da(t,u))&&a(e,u,i(r,u))}},Nv=w,Dv=E,Fv=/#|\.prototype\./,me=function(e,r){var t=kv[Bv(e)];return t===Uv?!0:t===Gv?!1:Dv(r)?Nv(r):!!r},Bv=me.normalize=function(e){return String(e).replace(Fv,".").toLowerCase()},kv=me.data={},Gv=me.NATIVE="N",Uv=me.POLYFILL="P",nt=me,qe=O,Kv=qr.f,Wv=he,Vv=B,zv=Sr,Hv=Mv,Yv=nt,C=function(e,r){var t=e.target,n=e.global,a=e.stat,i,o,u,v,s,c;if(n?o=qe:a?o=qe[t]||zv(t,{}):o=qe[t]&&qe[t].prototype,o)for(u in r){if(s=r[u],e.dontCallGetSet?(c=Kv(o,u),v=c&&c.value):v=o[u],i=Yv(n?u:t+(a?".":"#")+u,e.forced),!i&&v!==void 0){if(typeof s==typeof v)continue;Hv(s,v)}(e.sham||v&&v.sham)&&Wv(s,"sham",!0),Vv(o,u,s,e)}},Xv=w,pa=function(e,r){var t=[][e];return!!t&&Xv(function(){t.call(null,r||function(){return 1},1)})},Jv=C,qv=I,Qv=Zr,Zv=Y,el=pa,rl=qv([].join),tl=Qv!==Object,nl=tl||!el("join",",");Jv({target:"Array",proto:!0,forced:nl},{join:function(r){return rl(Zv(this),r===void 0?",":r)}});var al=H,il=I,ol=function(e){if(al(e)==="Function")return il(e)},ha=ol,sl=U,ul=je,cl=ha(ha.bind),be=function(e,r){return sl(e),r===void 0?e:ul?cl(e,r):function(){return e.apply(r,arguments)}},vl=H,ga=Array.isArray||function(r){return vl(r)==="Array"},ll=I,fl=w,ya=E,dl=Ye,pl=z,hl=Kr,ma=function(){},ba=pl("Reflect","construct"),at=/^\s*(?:class|function)\b/,gl=ll(at.exec),yl=!at.test(ma),$e=function(r){if(!ya(r))return!1;try{return ba(ma,[],r),!0}catch{return!1}},$a=function(r){if(!ya(r))return!1;switch(dl(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return yl||!!gl(at,hl(r))}catch{return!0}};$a.sham=!0;var wa=!ba||fl(function(){var e;return $e($e.call)||!$e(Object)||!$e(function(){e=!0})||e})?$a:$e,Sa=ga,ml=wa,bl=T,$l=P,wl=$l("species"),Oa=Array,Sl=function(e){var r;return Sa(e)&&(r=e.constructor,ml(r)&&(r===Oa||Sa(r.prototype))?r=void 0:bl(r)&&(r=r[wl],r===null&&(r=void 0))),r===void 0?Oa:r},Ol=Sl,Ea=function(e,r){return new(Ol(e))(r===0?0:r)},El=be,Il=I,Pl=Zr,Tl=de,Cl=Je,Rl=Ea,Ia=Il([].push),K=function(e){var r=e===1,t=e===2,n=e===3,a=e===4,i=e===6,o=e===7,u=e===5||i;return function(v,s,c,l){for(var f=Tl(v),d=Pl(f),g=Cl(d),y=El(s,c),m=0,p=l||Rl,h=r?p(v,g):t||o?p(v,0):void 0,$,S;g>m;m++)if((u||m in d)&&($=d[m],S=y($,m,f),e))if(r)h[m]=S;else if(S)switch(e){case 3:return!0;case 5:return $;case 6:return m;case 2:Ia(h,$)}else switch(e){case 4:return!1;case 7:Ia(h,$)}return i?-1:n||a?a:h}},it={forEach:K(0),map:K(1),filter:K(2),some:K(3),every:K(4),find:K(5),findIndex:K(6),filterReject:K(7)},_l=w,xl=P,jl=Le,Al=xl("species"),ot=function(e){return jl>=51||!_l(function(){var r=[],t=r.constructor={};return t[Al]=function(){return{foo:1}},r[e](Boolean).foo!==1})},Ll=C,Ml=it.map,Nl=ot,Dl=Nl("map");Ll({target:"Array",proto:!0,forced:!Dl},{map:function(r){return Ml(this,r,arguments.length>1?arguments[1]:void 0)}});var Fl=la,Bl=tt,Pa=Object.keys||function(r){return Fl(r,Bl)},kl=C,Gl=de,Ta=Pa,Ul=w,Kl=Ul(function(){Ta(1)});kl({target:"Object",stat:!0,forced:Kl},{keys:function(r){return Ta(Gl(r))}});function Wl(e){var r=e.charCodeAt(0);return r>=65&&r<=90}function Ca(e){var r=Bc(e).map(function(t,n){return Wl(t)?n===0?t.toLowerCase():"-"+t.toLowerCase():t}).join("");return"--".concat(r)}function Vl(e,r){var t=Object.keys(r);return t.length?t.reduce(function(n,a){return a.indexOf("-")>-1||a.indexOf("_")>-1?n:(e.style.setProperty(Ca(a),r[a]),F(F({},n),{},R({},Ca(a),r[a])))},{}):{}}function Ra(e,r){var t;if(typeof e=="string"?t=e.indexOf("#")>-1?document.querySelector(e):document.getElementById(e):t=e,t)return Vl(t,r)}function zl(e){var r=document.createElement("style");return r.id=e,r}function st(e,r){return r.querySelector("#".concat(e))}function Hl(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document.head,n=st(r,t);if(n)return n.innerHTML=e,function(){var i=st(r,t);i&&t.removeChild(i)};var a=zl(r);return a.innerHTML=e,t.appendChild(a),function(){var i=st(r,t);i&&t.removeChild(i)}}function Yl(e,r){try{return JSON.stringify(e)}catch{return""}}function Xl(e,r,t){try{return JSON.parse(e)}catch{return r}}var Jl=function(){function e(r){var t=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zn(this,e),R(this,"_moving",!1),R(this,"_moved",!1),R(this,"_initialXY",[0,0]),R(this,"_startXY",[0,0]),R(this,"_boundaryValue",5),R(this,"_rb",null),R(this,"_isPC",!0),this.current=r,this.options=n,this.onMoveStart=this.onMoveStart.bind(this),this.onMoving=this.onMoving.bind(this),this.onMoveEnd=this.onMoveEnd.bind(this),this.removeDocumentListeners=this.removeDocumentListeners.bind(this),this.current.addEventListener("mousedown",this.onMoveStart),this.current.addEventListener("touchstart",this.onMoveStart),this._rb=new ResizeObserver(function(){t.reset()}),this._rb.observe(document.body)}return ea(e,[{key:"getEventInfo",value:function(t){return t.touches?(this._isPC=!1,{clientXY:[t.touches[0].clientX,t.touches[0].clientY]}):(this._isPC=!0,{clientXY:[t.clientX,t.clientY]})}},{key:"onMoveStart",value:function(t){t.stopPropagation(),t.preventDefault(),this._initialXY=[this.current.offsetLeft,this.current.offsetTop],this._startXY=this.getEventInfo(t).clientXY,this._moved=!1,this.addDocumentListeners()}},{key:"onMoving",value:function(t){var n,a;t.stopPropagation(),t.preventDefault();var i=this.getEventInfo(t),o=i.clientXY,u=ta(o,2),v=u[0],s=u[1],c=v-this._startXY[0],l=s-this._startXY[1];Math.abs(c)<this._boundaryValue&&Math.abs(l)<this._boundaryValue||(this._moved||(this._moved=!0),this._moving=!0,this.current.style.left=Math.min(Math.max(0,this._initialXY[0]+c),window.innerWidth-this.current.offsetWidth)+"px",this.current.style.top=Math.min(Math.max(0,this._initialXY[1]+l),window.innerHeight-this.current.offsetHeight)+"px",(n=this.options)===null||n===void 0||(a=n.onChange)===null||a===void 0||a.call(n,"moving"))}},{key:"onMoveEnd",value:function(t){if(t.stopPropagation(),t.preventDefault(),this._moving){var n,a;(n=this.options)===null||n===void 0||(a=n.onChange)===null||a===void 0||a.call(n,"moveEnded")}if(!this._moved){var i,o;(i=this.options)===null||i===void 0||(o=i.onClick)===null||o===void 0||o.call(i)}this._moved=!1,this.removeDocumentListeners()}},{key:"addDocumentListeners",value:function(){document.addEventListener("mousemove",this.onMoving,{passive:!1}),document.addEventListener("mouseup",this.onMoveEnd,{passive:!1}),this.current.addEventListener("touchmove",this.onMoving,{passive:!1}),this.current.addEventListener("touchend",this.onMoveEnd,{passive:!1})}},{key:"removeDocumentListeners",value:function(){document.removeEventListener("mousemove",this.onMoving),document.removeEventListener("mouseup",this.onMoveEnd),this.current.removeEventListener("touchmove",this.onMoveEnd),this.current.removeEventListener("touchend",this.onMoveEnd)}},{key:"reset",value:function(){this._isPC&&(this.current.style.top="",this.current.style.left="")}},{key:"destroy",value:function(){var t;this.current.removeEventListener("mousedown",this.onMoveStart),this.current.removeEventListener("touchstart",this.onMoveStart),this.removeDocumentListeners(),(t=this._rb)===null||t===void 0||t.disconnect(),this._rb=null}}])}(),_a={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ql=Me,ut=ql("span").classList,xa=ut&&ut.constructor&&ut.constructor.prototype,ja=xa===Object.prototype?void 0:xa,Ql=it.forEach,Zl=pa,ef=Zl("forEach"),rf=ef?[].forEach:function(r){return Ql(this,r,arguments.length>1?arguments[1]:void 0)},Aa=O,La=_a,tf=ja,ct=rf,nf=he,Ma=function(e){if(e&&e.forEach!==ct)try{nf(e,"forEach",ct)}catch{e.forEach=ct}};for(var vt in La)La[vt]&&Ma(Aa[vt]&&Aa[vt].prototype);Ma(tf);function af(e,r){var t=F({},e);return Object.keys(t).forEach(function(n){(e[n]===void 0||e[n]===null)&&delete t[n],r!=null&&r.removeEmptyString&&e[n]===""&&delete t[n]}),t}var we=O,of=pe,sf=H,Qe=function(e){return of.slice(0,e.length)===e},Na=function(){return Qe("Bun/")?"BUN":Qe("Cloudflare-Workers")?"CLOUDFLARE":Qe("Deno/")?"DENO":Qe("Node.js/")?"NODE":we.Bun&&typeof Bun.version=="string"?"BUN":we.Deno&&typeof Deno.version=="object"?"DENO":sf(we.process)==="process"?"NODE":we.window&&we.document?"BROWSER":"REST"}(),uf=Na,lt=uf==="NODE",cf=I,vf=U,lf=function(e,r,t){try{return cf(vf(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}},ff=T,df=function(e){return ff(e)||e===null},pf=df,hf=String,gf=TypeError,yf=function(e){if(pf(e))return e;throw new gf("Can't set "+hf(e)+" as a prototype")},mf=lf,bf=T,$f=fe,wf=yf,ft=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=mf(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return function(a,i){return $f(a),wf(i),bf(a)&&(e?t(a,i):a.__proto__=i),a}}():void 0),Sf=L.f,Of=j,Ef=P,Da=Ef("toStringTag"),Se=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Of(e,Da)&&Sf(e,Da,{configurable:!0,value:r})},Fa=qn,If=L,Ba=function(e,r,t){return t.get&&Fa(t.get,r,{getter:!0}),t.set&&Fa(t.set,r,{setter:!0}),If.f(e,r,t)},Pf=z,Tf=Ba,Cf=P,Rf=_,ka=Cf("species"),Ga=function(e){var r=Pf(e);Rf&&r&&!r[ka]&&Tf(r,ka,{configurable:!0,get:function(){return this}})},_f=De,xf=TypeError,dt=function(e,r){if(_f(r,e))return e;throw new xf("Incorrect invocation")},jf=wa,Af=Fe,Lf=TypeError,Mf=function(e){if(jf(e))return e;throw new Lf(Af(e)+" is not a constructor")},Ua=M,Nf=Mf,Df=Z,Ff=P,Bf=Ff("species"),kf=function(e,r){var t=Ua(e).constructor,n;return t===void 0||Df(n=Ua(t)[Bf])?r:Nf(n)},Gf=je,Ka=Function.prototype,Wa=Ka.apply,Va=Ka.call,Uf=typeof Reflect=="object"&&Reflect.apply||(Gf?Va.bind(Wa):function(){return Va.apply(Wa,arguments)}),Kf=z,za=Kf("document","documentElement"),Wf=I,Ha=Wf([].slice),Vf=TypeError,zf=function(e,r){if(e<r)throw new Vf("Not enough arguments");return e},Hf=pe,Ya=/(?:ipad|iphone|ipod).*applewebkit/i.test(Hf),x=O,Yf=Uf,Xf=be,Xa=E,Jf=j,Ja=w,qa=za,qf=Ha,Qa=Me,Qf=zf,Zf=Ya,ed=lt,pt=x.setImmediate,ht=x.clearImmediate,rd=x.process,gt=x.Dispatch,td=x.Function,Za=x.MessageChannel,nd=x.String,yt=0,Oe={},ei="onreadystatechange",Ee,X,mt,bt;Ja(function(){Ee=x.location});var $t=function(e){if(Jf(Oe,e)){var r=Oe[e];delete Oe[e],r()}},wt=function(e){return function(){$t(e)}},ri=function(e){$t(e.data)},ti=function(e){x.postMessage(nd(e),Ee.protocol+"//"+Ee.host)};(!pt||!ht)&&(pt=function(r){Qf(arguments.length,1);var t=Xa(r)?r:td(r),n=qf(arguments,1);return Oe[++yt]=function(){Yf(t,void 0,n)},X(yt),yt},ht=function(r){delete Oe[r]},ed?X=function(e){rd.nextTick(wt(e))}:gt&&gt.now?X=function(e){gt.now(wt(e))}:Za&&!Zf?(mt=new Za,bt=mt.port2,mt.port1.onmessage=ri,X=Xf(bt.postMessage,bt)):x.addEventListener&&Xa(x.postMessage)&&!x.importScripts&&Ee&&Ee.protocol!=="file:"&&!Ja(ti)?(X=ti,x.addEventListener("message",ri,!1)):ei in Qa("script")?X=function(e){qa.appendChild(Qa("script"))[ei]=function(){qa.removeChild(this),$t(e)}}:X=function(e){setTimeout(wt(e),0)});var ni={set:pt,clear:ht},ai=O,ad=_,id=Object.getOwnPropertyDescriptor,od=function(e){if(!ad)return ai[e];var r=id(ai,e);return r&&r.value},ii=function(){this.head=null,this.tail=null};ii.prototype={add:function(e){var r={item:e,next:null},t=this.tail;t?t.next=r:this.head=r,this.tail=r},get:function(){var e=this.head;if(e){var r=this.head=e.next;return r===null&&(this.tail=null),e.item}}};var oi=ii,sd=pe,ud=/ipad|iphone|ipod/i.test(sd)&&typeof Pebble<"u",cd=pe,vd=/web0s(?!.*chrome)/i.test(cd),te=O,ld=od,si=be,St=ni.set,fd=oi,dd=Ya,pd=ud,hd=vd,Ot=lt,ui=te.MutationObserver||te.WebKitMutationObserver,ci=te.document,vi=te.process,Ze=te.Promise,Et=ld("queueMicrotask"),ne,It,Pt,er,li;if(!Et){var rr=new fd,tr=function(){var e,r;for(Ot&&(e=vi.domain)&&e.exit();r=rr.get();)try{r()}catch(t){throw rr.head&&ne(),t}e&&e.enter()};!dd&&!Ot&&!hd&&ui&&ci?(It=!0,Pt=ci.createTextNode(""),new ui(tr).observe(Pt,{characterData:!0}),ne=function(){Pt.data=It=!It}):!pd&&Ze&&Ze.resolve?(er=Ze.resolve(void 0),er.constructor=Ze,li=si(er.then,er),ne=function(){li(tr)}):Ot?ne=function(){vi.nextTick(tr)}:(St=si(St,te),ne=function(){St(tr)}),Et=function(e){rr.head||ne(),rr.add(e)}}var gd=Et,yd=function(e,r){try{arguments.length===1?console.error(e):console.error(e,r)}catch{}},Tt=function(e){try{return{error:!1,value:e()}}catch(r){return{error:!0,value:r}}},md=O,nr=md.Promise,bd=O,Ie=nr,$d=E,wd=nt,Sd=Kr,Od=P,fi=Na,Ct=Le;Ie&&Ie.prototype;var Ed=Od("species"),Rt=!1,di=$d(bd.PromiseRejectionEvent),Id=wd("Promise",function(){var e=Sd(Ie),r=e!==String(Ie);if(!r&&Ct===66)return!0;if(!Ct||Ct<51||!/native code/.test(e)){var t=new Ie(function(i){i(1)}),n=function(i){i(function(){},function(){})},a=t.constructor={};if(a[Ed]=n,Rt=t.then(function(){})instanceof n,!Rt)return!0}return!r&&(fi==="BROWSER"||fi==="DENO")&&!di}),Pe={CONSTRUCTOR:Id,REJECTION_EVENT:di,SUBCLASSING:Rt},ae={},pi=U,Pd=TypeError,Td=function(e){var r,t;this.promise=new e(function(n,a){if(r!==void 0||t!==void 0)throw new Pd("Bad Promise constructor");r=n,t=a}),this.resolve=pi(r),this.reject=pi(t)};ae.f=function(e){return new Td(e)};var Cd=C,ar=lt,W=O,ie=N,hi=B,gi=ft,Rd=Se,_d=Ga,xd=U,ir=E,jd=T,Ad=dt,Ld=kf,yi=ni.set,_t=gd,Md=yd,Nd=Tt,Dd=oi,mi=ye,or=nr,xt=Pe,bi=ae,sr="Promise",$i=xt.CONSTRUCTOR,Fd=xt.REJECTION_EVENT,Bd=xt.SUBCLASSING,jt=mi.getterFor(sr),kd=mi.set,oe=or&&or.prototype,J=or,ur=oe,wi=W.TypeError,At=W.document,Lt=W.process,Mt=bi.f,Gd=Mt,Ud=!!(At&&At.createEvent&&W.dispatchEvent),Si="unhandledrejection",Kd="rejectionhandled",Oi=0,Ei=1,Wd=2,Nt=1,Ii=2,cr,Pi,Vd,Ti,Ci=function(e){var r;return jd(e)&&ir(r=e.then)?r:!1},Ri=function(e,r){var t=r.value,n=r.state===Ei,a=n?e.ok:e.fail,i=e.resolve,o=e.reject,u=e.domain,v,s,c;try{a?(n||(r.rejection===Ii&&Hd(r),r.rejection=Nt),a===!0?v=t:(u&&u.enter(),v=a(t),u&&(u.exit(),c=!0)),v===e.promise?o(new wi("Promise-chain cycle")):(s=Ci(v))?ie(s,v,i,o):i(v)):o(t)}catch(l){u&&!c&&u.exit(),o(l)}},_i=function(e,r){e.notified||(e.notified=!0,_t(function(){for(var t=e.reactions,n;n=t.get();)Ri(n,e);e.notified=!1,r&&!e.rejection&&zd(e)}))},xi=function(e,r,t){var n,a;Ud?(n=At.createEvent("Event"),n.promise=r,n.reason=t,n.initEvent(e,!1,!0),W.dispatchEvent(n)):n={promise:r,reason:t},!Fd&&(a=W["on"+e])?a(n):e===Si&&Md("Unhandled promise rejection",t)},zd=function(e){ie(yi,W,function(){var r=e.facade,t=e.value,n=ji(e),a;if(n&&(a=Nd(function(){ar?Lt.emit("unhandledRejection",t,r):xi(Si,r,t)}),e.rejection=ar||ji(e)?Ii:Nt,a.error))throw a.value})},ji=function(e){return e.rejection!==Nt&&!e.parent},Hd=function(e){ie(yi,W,function(){var r=e.facade;ar?Lt.emit("rejectionHandled",r):xi(Kd,r,e.value)})},se=function(e,r,t){return function(n){e(r,n,t)}},ue=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=Wd,_i(e,!0))},Dt=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw new wi("Promise can't be resolved itself");var n=Ci(r);n?_t(function(){var a={done:!1};try{ie(n,r,se(Dt,a,e),se(ue,a,e))}catch(i){ue(a,i,e)}}):(e.value=r,e.state=Ei,_i(e,!1))}catch(a){ue({done:!1},a,e)}}};if($i&&(J=function(r){Ad(this,ur),xd(r),ie(cr,this);var t=jt(this);try{r(se(Dt,t),se(ue,t))}catch(n){ue(t,n)}},ur=J.prototype,cr=function(r){kd(this,{type:sr,done:!1,notified:!1,parent:!1,reactions:new Dd,rejection:!1,state:Oi,value:void 0})},cr.prototype=hi(ur,"then",function(r,t){var n=jt(this),a=Mt(Ld(this,J));return n.parent=!0,a.ok=ir(r)?r:!0,a.fail=ir(t)&&t,a.domain=ar?Lt.domain:void 0,n.state===Oi?n.reactions.add(a):_t(function(){Ri(a,n)}),a.promise}),Pi=function(){var e=new cr,r=jt(e);this.promise=e,this.resolve=se(Dt,r),this.reject=se(ue,r)},bi.f=Mt=function(e){return e===J||e===Vd?new Pi(e):Gd(e)},ir(or)&&oe!==Object.prototype)){Ti=oe.then,Bd||hi(oe,"then",function(r,t){var n=this;return new J(function(a,i){ie(Ti,n,a,i)}).then(r,t)},{unsafe:!0});try{delete oe.constructor}catch{}gi&&gi(oe,ur)}Cd({global:!0,constructor:!0,wrap:!0,forced:$i},{Promise:J}),Rd(J,sr,!1),_d(sr);var Te={},Yd=P,Xd=Te,Jd=Yd("iterator"),qd=Array.prototype,Qd=function(e){return e!==void 0&&(Xd.Array===e||qd[Jd]===e)},Zd=Ye,Ai=jr,ep=Z,rp=Te,tp=P,np=tp("iterator"),Li=function(e){if(!ep(e))return Ai(e,np)||Ai(e,"@@iterator")||rp[Zd(e)]},ap=N,ip=U,op=M,sp=Fe,up=Li,cp=TypeError,vp=function(e,r){var t=arguments.length<2?up(e):r;if(ip(t))return op(ap(t,e));throw new cp(sp(e)+" is not iterable")},lp=N,Mi=M,fp=jr,dp=function(e,r,t){var n,a;Mi(e);try{if(n=fp(e,"return"),!n){if(r==="throw")throw t;return t}n=lp(n,e)}catch(i){a=!0,n=i}if(r==="throw")throw t;if(a)throw n;return Mi(n),t},pp=be,hp=N,gp=M,yp=Fe,mp=Qd,bp=Je,Ni=De,$p=vp,wp=Li,Di=dp,Sp=TypeError,vr=function(e,r){this.stopped=e,this.result=r},Fi=vr.prototype,lr=function(e,r,t){var n=t&&t.that,a=!!(t&&t.AS_ENTRIES),i=!!(t&&t.IS_RECORD),o=!!(t&&t.IS_ITERATOR),u=!!(t&&t.INTERRUPTED),v=pp(r,n),s,c,l,f,d,g,y,m=function(h){return s&&Di(s,"normal",h),new vr(!0,h)},p=function(h){return a?(gp(h),u?v(h[0],h[1],m):v(h[0],h[1])):u?v(h,m):v(h)};if(i)s=e.iterator;else if(o)s=e;else{if(c=wp(e),!c)throw new Sp(yp(e)+" is not iterable");if(mp(c)){for(l=0,f=bp(e);f>l;l++)if(d=p(e[l]),d&&Ni(Fi,d))return d;return new vr(!1)}s=$p(e,c)}for(g=i?e.next:s.next;!(y=hp(g,s)).done;){try{d=p(y.value)}catch(h){Di(s,"throw",h)}if(typeof d=="object"&&d&&Ni(Fi,d))return d}return new vr(!1)},Op=P,Bi=Op("iterator"),ki=!1;try{var Ep=0,Gi={next:function(){return{done:!!Ep++}},return:function(){ki=!0}};Gi[Bi]=function(){return this},Array.from(Gi,function(){throw 2})}catch{}var Ui=function(e,r){try{if(!r&&!ki)return!1}catch{return!1}var t=!1;try{var n={};n[Bi]=function(){return{next:function(){return{done:t=!0}}}},e(n)}catch{}return t},Ip=nr,Pp=Ui,Tp=Pe.CONSTRUCTOR,Ki=Tp||!Pp(function(e){Ip.all(e).then(void 0,function(){})}),Cp=C,Rp=N,_p=U,xp=ae,jp=Tt,Ap=lr,Lp=Ki;Cp({target:"Promise",stat:!0,forced:Lp},{all:function(r){var t=this,n=xp.f(t),a=n.resolve,i=n.reject,o=jp(function(){var u=_p(t.resolve),v=[],s=0,c=1;Ap(r,function(l){var f=s++,d=!1;c++,Rp(u,t,l).then(function(g){d||(d=!0,v[f]=g,--c||a(v))},i)}),--c||a(v)});return o.error&&i(o.value),n.promise}});var Mp=C,Np=Pe.CONSTRUCTOR,Ft=nr,Dp=z,Fp=E,Bp=B,Wi=Ft&&Ft.prototype;if(Mp({target:"Promise",proto:!0,forced:Np,real:!0},{catch:function(e){return this.then(void 0,e)}}),Fp(Ft)){var Vi=Dp("Promise").prototype.catch;Wi.catch!==Vi&&Bp(Wi,"catch",Vi,{unsafe:!0})}var kp=C,Gp=N,Up=U,Kp=ae,Wp=Tt,Vp=lr,zp=Ki;kp({target:"Promise",stat:!0,forced:zp},{race:function(r){var t=this,n=Kp.f(t),a=n.reject,i=Wp(function(){var o=Up(t.resolve);Vp(r,function(u){Gp(o,t,u).then(n.resolve,a)})});return i.error&&a(i.value),n.promise}});var Hp=C,Yp=ae,Xp=Pe.CONSTRUCTOR;Hp({target:"Promise",stat:!0,forced:Xp},{reject:function(r){var t=Yp.f(this),n=t.reject;return n(r),t.promise}});var Jp=M,qp=T,Qp=ae,Zp=function(e,r){if(Jp(e),qp(r)&&r.constructor===e)return r;var t=Qp.f(e),n=t.resolve;return n(r),t.promise},eh=C,rh=z,th=Pe.CONSTRUCTOR,nh=Zp;rh("Promise"),eh({target:"Promise",stat:!0,forced:th},{resolve:function(r){return nh(this,r)}});var V={Topic:"WidgetCommunication",Methods:{Maximize:"Maximize",Minimize:"Minimize",GetAllConfig:"GetAllConfig",GetCredentials:"GetCredentials",GetTdAccessToken:"GetTdAccessToken",SetBadge:"SetBadge",FrameOpened:"FrameOpened",DownloadTranscript:"DownloadTranscript",UpdatePreviewConfig:"UpdatePreviewConfig",PreviewReady:"PreviewReady",ConversationStart:"ConversationStart",FrameReady:"FrameReady",FrameResize:"FrameResize",UpdateAppConfigs:"UpdateAppConfigs",UpdateContext:"UpdateContext",OnSend:"OnSend",UpdateMessage:"UpdateMessage",OnComposer:"OnComposer"}},Bt={exports:{}},ce=typeof Reflect=="object"?Reflect:null,zi=ce&&typeof ce.apply=="function"?ce.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},fr;ce&&typeof ce.ownKeys=="function"?fr=ce.ownKeys:Object.getOwnPropertySymbols?fr=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:fr=function(r){return Object.getOwnPropertyNames(r)};function ah(e){console&&console.warn&&console.warn(e)}var Hi=Number.isNaN||function(r){return r!==r};function b(){b.init.call(this)}Bt.exports=b,Bt.exports.once=uh,b.EventEmitter=b,b.prototype._events=void 0,b.prototype._eventsCount=0,b.prototype._maxListeners=void 0;var Yi=10;function dr(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return Yi},set:function(e){if(typeof e!="number"||e<0||Hi(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Yi=e}}),b.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},b.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||Hi(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function Xi(e){return e._maxListeners===void 0?b.defaultMaxListeners:e._maxListeners}b.prototype.getMaxListeners=function(){return Xi(this)},b.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var a=r==="error",i=this._events;if(i!==void 0)a=a&&i.error===void 0;else if(!a)return!1;if(a){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var v=i[r];if(v===void 0)return!1;if(typeof v=="function")zi(v,this,t);else for(var s=v.length,c=eo(v,s),n=0;n<s;++n)zi(c[n],this,t);return!0};function Ji(e,r,t,n){var a,i,o;if(dr(t),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),o=i[r]),o===void 0)o=i[r]=t,++e._eventsCount;else if(typeof o=="function"?o=i[r]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),a=Xi(e),a>0&&o.length>a&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=r,u.count=o.length,ah(u)}return e}b.prototype.addListener=function(r,t){return Ji(this,r,t,!1)},b.prototype.on=b.prototype.addListener,b.prototype.prependListener=function(r,t){return Ji(this,r,t,!0)};function ih(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function qi(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},a=ih.bind(n);return a.listener=t,n.wrapFn=a,a}b.prototype.once=function(r,t){return dr(t),this.on(r,qi(this,r,t)),this},b.prototype.prependOnceListener=function(r,t){return dr(t),this.prependListener(r,qi(this,r,t)),this},b.prototype.removeListener=function(r,t){var n,a,i,o,u;if(dr(t),a=this._events,a===void 0)return this;if(n=a[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete a[r],a.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){u=n[o].listener,i=o;break}if(i<0)return this;i===0?n.shift():oh(n,i),n.length===1&&(a[r]=n[0]),a.removeListener!==void 0&&this.emit("removeListener",r,u||t)}return this},b.prototype.off=b.prototype.removeListener,b.prototype.removeAllListeners=function(r){var t,n,a;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var i=Object.keys(n),o;for(a=0;a<i.length;++a)o=i[a],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(a=t.length-1;a>=0;a--)this.removeListener(r,t[a]);return this};function Qi(e,r,t){var n=e._events;if(n===void 0)return[];var a=n[r];return a===void 0?[]:typeof a=="function"?t?[a.listener||a]:[a]:t?sh(a):eo(a,a.length)}b.prototype.listeners=function(r){return Qi(this,r,!0)},b.prototype.rawListeners=function(r){return Qi(this,r,!1)},b.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):Zi.call(e,r)},b.prototype.listenerCount=Zi;function Zi(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}b.prototype.eventNames=function(){return this._eventsCount>0?fr(this._events):[]};function eo(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function oh(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function sh(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function uh(e,r){return new Promise(function(t,n){function a(o){e.removeListener(r,i),n(o)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),t([].slice.call(arguments))}ro(e,r,i,{once:!0}),r!=="error"&&ch(e,a,{once:!0})})}function ch(e,r,t){typeof e.on=="function"&&ro(e,"error",r,t)}function ro(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function a(i){n.once&&e.removeEventListener(r,a),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var vh=Bt.exports;const lh=ve(vh);var pr=function(){return pr=Object.assign||function(r){for(var t,n=1,a=arguments.length;n<a;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},pr.apply(this,arguments)};function to(e,r,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function u(c){try{s(n.next(c))}catch(l){o(l)}}function v(c){try{s(n.throw(c))}catch(l){o(l)}}function s(c){c.done?i(c.value):a(c.value).then(u,v)}s((n=n.apply(e,[])).next())})}function no(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(s){return function(c){return v([s,c])}}function v(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(t=0)),t;)try{if(n=1,a&&(i=s[0]&2?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,a=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=r.call(e,t)}catch(c){s=[6,c],a=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}typeof SuppressedError=="function"&&SuppressedError;var fh=function(){function e(r){this.options=r,this._traceId=0,this._methods=new Map,this._emitter=new lh,this._handlerOnMessageByBound=this.handlerOnMessage.bind(this),this.createService(),this.getListener().addEventListener("message",this._handlerOnMessageByBound,!1)}return e.jsonParseData=function(r,t){try{return JSON.parse(r)}catch{return t}},e.jsonStringifyData=function(r){try{return JSON.stringify(r)}catch{return""}},e.runHandler=function(r){return to(this,void 0,void 0,function(){var t,n;return no(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,r()];case 1:return t=a.sent(),[2,{data:t,error:null}];case 2:return n=a.sent(),[2,{error:typeof n=="string"?n:n.message}];case 3:return[2]}})})},e.prototype.destroy=function(){this._emitter.removeAllListeners(),this._methods.clear(),this.getListener().removeEventListener("message",this._handlerOnMessageByBound,!1)},e.prototype.register=function(r,t){this._methods.set(r,t),this.log("Register ".concat(r),this._methods)},e.prototype.unregister=function(r){this._methods.delete(r),this.log("Unregister ".concat(r),this._methods)},e.prototype.trigger=function(r){for(var t=this,n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return new Promise(function(i){var o=t.createId();t.sendMessage({id:o,method:r,payload:n,type:"request"}),t.log("Trigger ".concat(r," | ").concat(o),n),t._emitter.once("response_".concat(o),function(u){i(u.payload),t.log("Receive ".concat(r," | ").concat(o),e.jsonStringifyData(u))})})},e.prototype.createId=function(){return"".concat(this.options.name,"_").concat(this._traceId++)},e.prototype.createService=function(){var r=this;this._emitter.on(this.options.topic,function(t){return to(r,void 0,void 0,function(){var n,a,i,o,u;return no(this,function(v){switch(v.label){case 0:return n=t.id,a=t.payload,i=t.method,o=this._methods.get(i),o?[4,e.runHandler(function(){return o.apply(void 0,a)})]:[3,2];case 1:return u=v.sent(),this.sendMessage({id:n,method:i,payload:u,type:"response"}),[3,3];case 2:this.sendMessage({id:n,method:i,payload:{error:"No found method in service"},type:"response"}),v.label=3;case 3:return[2]}})})})},e.prototype.sendMessage=function(r){var t=this.options,n=t.sender,a=t.origin,i=t.topic,o=e.jsonStringifyData(pr(pr({},r),{topic:i}));if(!n.postMessage)throw new Error("The sender no found postMessage method please check the sender option");o&&n.postMessage(o,a||"*")},e.prototype.handlerOnMessage=function(r){var t=r.data;if(t){var n=e.jsonParseData(t,null);if(!(!n||n.topic!==this.options.topic)){var a=n.id,i=n.type;i==="request"&&this._emitter.emit(this.options.topic,n),i==="response"&&this._emitter.emit("response_".concat(a),n)}}},e.prototype.getListener=function(){return this.options.listener||window},e.prototype.log=function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var a=this.options,i=a.debug,o=a.name;if(i){var u=new Date().toISOString(),v="[RPC] [".concat(u,"] [").concat(o,"] ").concat(r);console.groupCollapsed(v),t!=null&&t.length&&console.info.apply(console,t),console.groupEnd()}},Object.defineProperty(e.prototype,"methods",{get:function(){return this._methods},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emitter",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e}(),dh=function(){function e(){Zn(this,e),R(this,"appConfig",{}),R(this,"touchpoint",null),R(this,"appProps",null),R(this,"context",{}),R(this,"participantName","")}return ea(e,[{key:"setAppConfig",value:function(t){var n,a=(t==null?void 0:t.styles)||{};return this.appConfig=F(F(F({},this.appConfig),t),{},{styles:Object.keys(a).length?F(F({},(n=this.appConfig)===null||n===void 0?void 0:n.styles),a):{}}),this.appConfig}},{key:"setTouchpoint",value:function(t){this.touchpoint=t}},{key:"setParticipantName",value:function(t){this.participantName=t}},{key:"setAppProps",value:function(t){this.appProps=t}},{key:"getAllConfig",value:function(){return{appConfig:this.appConfig,touchpoint:this.touchpoint,context:this.context,appProps:this.appProps,participantName:this.participantName,injectorWindowHref:window.location.href,injectorWindowHostname:window.location.hostname}}},{key:"setContextParam",value:function(t){this.context=t}},{key:"clearAll",value:function(){this.appConfig={},this.touchpoint=null,this.context={},this.participantName=""}}])}();const q=new dh;var ph=function(r){var t={chatIcon:r.chatIcon?"url(".concat(r.chatIcon,")"):void 0,chatThemeColor:r.chatThemeColor,chatHoverThemeColor:r.chatHoverThemeColor,triggerButtonWidth:r.triggerButtonWidth,triggerButtonHeight:r.triggerButtonHeight,triggerButtonPositionBottom:r.triggerButtonPositionBottom,triggerButtonPositionRight:r.triggerButtonPositionRight,chatPositionBottom:r.chatPositionBottom,chatContainerHeight:r.chatContainerHeight,chatContainerWidth:r.chatContainerWidth,chatLauncherColor:r.chatLauncherColor,chatHoverLauncherColor:r.chatHoverLauncherColor};return af(t,{removeEmptyString:!0})};const hh='.tdw-widget-wrapper{--chat-z-index: 99999;position:fixed;z-index:var(--chat-z-index)}.tdw-widget-wrapper[data-preview]{position:sticky;display:flex;flex-direction:column;gap:24px;align-items:self-end}.tdw-widget{position:fixed;right:20px;bottom:var(--chat-position-bottom, 20px);z-index:var(--chat-z-index);width:var(--chat-container-width, 360px);min-width:360px;height:var(--chat-container-height, 680px);border:none;border-radius:20px;box-shadow:0 32px 20px #00000005,0 16px 16px #0000000a,0 4px 8px #0000000f,0 -4px 24px #00000014;overflow:hidden;transition:height .2s linear;will-change:height;max-height:calc(var(--chat-screen-height) - var(--chat-position-bottom, 20px) - 20px)}.tdw-widget[data-preview]{position:unset}.tdw-widget iframe{width:100%;height:100%;border:none;border-radius:inherit}@media only screen and (max-width: 600px),(max-height: 620px){.tdw-widget[data-responsive-layout=true]{top:0;right:0;bottom:0;left:0;overflow:hidden;width:var(--chat-screen-width, 100%);min-width:var(--chat-screen-width, 100%);max-width:var(--chat-screen-width, 100%);height:var(--chat-screen-height, 100%);min-height:var(--chat-screen-height, 100%);max-height:var(--chat-screen-height, 100%);border-radius:0}}.tdw-widget-trigger{position:fixed;right:var(--trigger-button-position-right, 10px);bottom:var(--trigger-button-position-bottom, 20px);z-index:var(--chat-z-index);display:flex;justify-content:center;align-items:center;width:var(--trigger-button-width, 64px);height:var(--trigger-button-height, 64px);border:none;border-radius:50%;cursor:pointer;background-image:var(--chat-icon, url(https://prd-cdn-talkdesk.talkdesk.com/cdn-assets/latest/talkdesk/product/app-icons/sms.svg));background-color:var(--chat-launcher-color, #1f1f1f);background-size:56%;background-repeat:no-repeat;background-position:center;transition:background-color .1s ease-in-out}.tdw-widget-trigger:hover{background-color:var(--chat-hover-launcher-color, #383838)}.tdw-widget-trigger[data-preview]{position:relative;right:unset;bottom:unset}.tdw-widget-trigger-badge{position:absolute;top:0;right:0;width:16px;height:16px;line-height:16px;text-align:center;color:#fff;background-color:#f5222d;font-size:10px;border-radius:50%;box-sizing:border-box;transition:right,width,border-radius .25s ease}.tdw-widget-trigger-badge-more{right:-4px;width:28px;border-radius:48px}.tdw-widget-loading{display:flex;flex-direction:column;width:100%;height:100%}.tdw-widget-header{height:64px;background-color:var(--chat-header-background-color, #f8f8f8);border-top-left-radius:8px;border-top-right-radius:8px}.tdw-widget-content{display:flex;flex-direction:column;justify-content:center;align-items:center;height:calc(100% - 56px);padding:16px;box-sizing:border-box}.tdw-loader{position:relative;width:100px;height:10px}.tdw-loader:before,.tdw-loader:after{content:"";position:absolute;top:0;left:0;width:10px;height:10px;margin-left:25%;border-radius:50%;box-shadow:20px 0 #e9e9e9;background:#e9e9e9;animation:move-x 1s linear infinite}.tdw-loader:after{box-shadow:none;transform:translate(40px) scale(1);z-index:2;animation:loading 1s linear infinite}@keyframes loading{0%,5%{transform:translate(40px) scale(1);background:#e9e9e9}10%{transform:translate(40px) scale(1);background:var(--chat-theme-color, #1f1f1f)}40%{transform:translate(20px) scale(1.5);background:var(--chat-theme-color, #1f1f1f)}90%,95%{transform:translate(0) scale(1);background:var(--chat-theme-color, #1f1f1f)}to{transform:translate(0) scale(1);background:#e9e9e9}}@keyframes move-x{0%,10%{transform:translate(0)}90%,to{transform:translate(20px)}}';var gh="talkdesk-chat-widget-style";function yh(e){var r,t,n,a=e==null?void 0:e.config,i=a?Xl(a,{}):e==null?void 0:e.widgetSettings,o={};if(i!=null&&(r=i.appearance)!==null&&r!==void 0&&(r=r.theme)!==null&&r!==void 0&&r.brandColor){var u,v;o.chatThemeColor=i==null||(u=i.appearance)===null||u===void 0?void 0:u.theme.brandColor,o.chatHoverThemeColor=i==null||(v=i.appearance)===null||v===void 0?void 0:v.theme.brandColor}if(i!=null&&(t=i.appearance)!==null&&t!==void 0&&(t=t.launcher)!==null&&t!==void 0&&t.color){var s,c;o.chatLauncherColor=i==null||(s=i.appearance)===null||s===void 0||(s=s.launcher)===null||s===void 0?void 0:s.color,o.chatHoverLauncherColor=i==null||(c=i.appearance)===null||c===void 0||(c=c.launcher)===null||c===void 0?void 0:c.color}if(i!=null&&(n=i.appearance)!==null&&n!==void 0&&(n=n.launcher)!==null&&n!==void 0&&n.iconUrl){var l;o.chatIcon=i==null||(l=i.appearance)===null||l===void 0||(l=l.launcher)===null||l===void 0?void 0:l.iconUrl}return o}function mh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return ph(F(F({},yh(r)),e))}function bh(e){var r=[];return r.push(Hl(hh,gh,e)),function(){r.forEach(function(t){return t()}),r.length=0}}function $h(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0,n=mh(r,t),a=Object.keys(n);if(a.length)return Ra(e,n)}function wh(e,r){var t=function(){Ra(e,{chatScreenWidth:window.innerWidth+"px",chatScreenHeight:window.innerHeight+"px"})},n=function(){t()};return t(),window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}var ao="tdw-widget-wrapper";function Sh(e){var r=e.root,t=e.isPreview,n=t===void 0?!1:t,a=document.createElement("div");return a.className=ao,a.setAttribute("data-".concat(ao),""),n&&a.setAttribute("data-preview",""),r.appendChild(a),{element:a,destroy:function(){xc(r,a)&&r.removeChild(a),a.remove()}}}var Oh=Ye,Eh=String,hr=function(e){if(Oh(e)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return Eh(e)},Ih=M,Ph=function(){var e=Ih(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r},Th=N,Ch=j,Rh=De,_h=Ph,io=RegExp.prototype,xh=function(e){var r=e.flags;return r===void 0&&!("flags"in io)&&!Ch(e,"flags")&&Rh(io,e)?Th(_h,e):r},jh=ke.PROPER,Ah=B,Lh=M,oo=hr,Mh=w,Nh=xh,kt="toString",so=RegExp.prototype,uo=so[kt],Dh=Mh(function(){return uo.call({source:"a",flags:"b"})!=="/a/b"}),Fh=jh&&uo.name!==kt;(Dh||Fh)&&Ah(so,kt,function(){var r=Lh(this),t=oo(r.source),n=oo(Nh(r));return"/"+t+"/"+n},{unsafe:!0});var co="talkdesk-chat-widget-trigger";function Bh(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=document.createElement("button");n.id=co,n.className="tdw-widget-trigger",n.ariaLabel="Open chat widget",t&&n.setAttribute("data-preview","");var a=null,i=null,o=function(){var y;(y=i)===null||y===void 0||y.destroy(),i=null},u=function(){i||(i=new Jl(n,{onClick:function(){}}))},v=function(){document.getElementById(co)||(e.appendChild(n),n.onclick=function(){})},s=function(){v(),n.style.display=""},c=function(){n.style.display="none"},l=function(y){var m=y.enablePointMoveTriggerButton;m&&u()},f=function(){o(),n.remove()},d=function(y){y>0?(a||(a=document.createElement("span"),a.className="tdw-widget-trigger-badge ".concat(y>9?"tdw-widget-trigger-badge-more":""),a.ariaLabel="new message indicator",n.appendChild(a)),a.textContent=y>99?"99+":y.toString()):a&&(a.remove(),a=null)};return{open:s,close:c,update:l,destroy:f,setBadge:d}}var kh=TypeError,Gh=9007199254740991,Uh=function(e){if(e>Gh)throw kh("Maximum allowed index exceeded");return e},Kh=_,Wh=L,Vh=Ge,zh=function(e,r,t){Kh?Wh.f(e,r,Vh(0,t)):e[r]=t},Hh=C,Yh=w,Xh=ga,Jh=T,qh=de,Qh=Je,vo=Uh,lo=zh,Zh=Ea,eg=ot,rg=P,tg=Le,fo=rg("isConcatSpreadable"),ng=tg>=51||!Yh(function(){var e=[];return e[fo]=!1,e.concat()[0]!==e}),ag=function(e){if(!Jh(e))return!1;var r=e[fo];return r!==void 0?!!r:Xh(e)},ig=!ng||!eg("concat");Hh({target:"Array",proto:!0,arity:1,forced:ig},{concat:function(r){var t=qh(this),n=Zh(t,0),a=0,i,o,u,v,s;for(i=-1,u=arguments.length;i<u;i++)if(s=i===-1?t:arguments[i],ag(s))for(v=Qh(s),vo(a+v),o=0;o<v;o++,a++)o in s&&lo(n,a,s[o]);else vo(a+1),lo(n,a++,s);return n.length=a,n}});var og=C,sg=it.filter,ug=ot,cg=ug("filter");og({target:"Array",proto:!0,forced:!cg},{filter:function(r){return sg(this,r,arguments.length>1?arguments[1]:void 0)}});var po=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`,vg=I,lg=fe,fg=hr,Gt=po,ho=vg("".replace),dg=RegExp("^["+Gt+"]+"),pg=RegExp("(^|[^"+Gt+"])["+Gt+"]+$"),Ut=function(e){return function(r){var t=fg(lg(r));return e&1&&(t=ho(t,dg,"")),e&2&&(t=ho(t,pg,"$1")),t}},hg={start:Ut(1),end:Ut(2),trim:Ut(3)},gg=ke.PROPER,yg=w,go=po,yo="âÂá ",mg=function(e){return yg(function(){return!!go[e]()||yo[e]()!==yo||gg&&go[e].name!==e})},bg=C,$g=hg.trim,wg=mg;bg({target:"String",proto:!0,forced:wg("trim")},{trim:function(){return $g(this)}});function Kt(e){try{return!isNaN(+e)}catch{return!1}}function Sg(e){if(!e)return!1;try{var r=e.toString().split(".").map(function(o){return o.trim()}).filter(Boolean);if(r.length!==3)return!1;var t=ta(r,3),n=t[0],a=t[1],i=t[2];return Kt(n)&&Kt(a)&&Kt(i)}catch{return!1}}var mo={},Og=_,Eg=Dn,Ig=L,Pg=M,Tg=Y,Cg=Pa;mo.f=Og&&!Eg?Object.defineProperties:function(r,t){Pg(r);for(var n=Tg(t),a=Cg(t),i=a.length,o=0,u;i>o;)Ig.f(r,u=a[o++],n[u]);return r};var Rg=M,_g=mo,bo=tt,xg=Ue,jg=za,Ag=Me,Lg=Wr,$o=">",wo="<",Wt="prototype",Vt="script",So=Lg("IE_PROTO"),zt=function(){},Oo=function(e){return wo+Vt+$o+e+wo+"/"+Vt+$o},Eo=function(e){e.write(Oo("")),e.close();var r=e.parentWindow.Object;return e=null,r},Mg=function(){var e=Ag("iframe"),r="java"+Vt+":",t;return e.style.display="none",jg.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Oo("document.F=Object")),t.close(),t.F},gr,yr=function(){try{gr=new ActiveXObject("htmlfile")}catch{}yr=typeof document<"u"?document.domain&&gr?Eo(gr):Mg():Eo(gr);for(var e=bo.length;e--;)delete yr[Wt][bo[e]];return yr()};xg[So]=!0;var Ht=Object.create||function(r,t){var n;return r!==null?(zt[Wt]=Rg(r),n=new zt,zt[Wt]=null,n[So]=r):n=yr(),t===void 0?n:_g.f(n,t)},Ng=P,Dg=Ht,Fg=L.f,Yt=Ng("unscopables"),Xt=Array.prototype;Xt[Yt]===void 0&&Fg(Xt,Yt,{configurable:!0,value:Dg(null)});var Bg=function(e){Xt[Yt][e]=!0},kg=w,Gg=!kg(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Ug=j,Kg=E,Wg=de,Vg=Wr,zg=Gg,Io=Vg("IE_PROTO"),Jt=Object,Hg=Jt.prototype,Po=zg?Jt.getPrototypeOf:function(e){var r=Wg(e);if(Ug(r,Io))return r[Io];var t=r.constructor;return Kg(t)&&r instanceof t?t.prototype:r instanceof Jt?Hg:null},Yg=w,Xg=E,Jg=T,To=Po,qg=B,Qg=P,qt=Qg("iterator"),Co=!1,Q,Qt,Zt;[].keys&&(Zt=[].keys(),"next"in Zt?(Qt=To(To(Zt)),Qt!==Object.prototype&&(Q=Qt)):Co=!0);var Zg=!Jg(Q)||Yg(function(){var e={};return Q[qt].call(e)!==e});Zg&&(Q={}),Xg(Q[qt])||qg(Q,qt,function(){return this});var Ro={IteratorPrototype:Q,BUGGY_SAFARI_ITERATORS:Co},ey=Ro.IteratorPrototype,ry=Ht,ty=Ge,ny=Se,ay=Te,iy=function(){return this},oy=function(e,r,t,n){var a=r+" Iterator";return e.prototype=ry(ey,{next:ty(+!n,t)}),ny(e,a,!1),ay[a]=iy,e},sy=C,uy=N,_o=ke,cy=E,vy=oy,xo=Po,jo=ft,ly=Se,fy=he,en=B,dy=P,py=Te,Ao=Ro,hy=_o.PROPER,gy=_o.CONFIGURABLE,Lo=Ao.IteratorPrototype,mr=Ao.BUGGY_SAFARI_ITERATORS,Ce=dy("iterator"),Mo="keys",Re="values",No="entries",yy=function(){return this},rn=function(e,r,t,n,a,i,o){vy(t,r,n);var u=function(p){if(p===a&&f)return f;if(!mr&&p&&p in c)return c[p];switch(p){case Mo:return function(){return new t(this,p)};case Re:return function(){return new t(this,p)};case No:return function(){return new t(this,p)}}return function(){return new t(this)}},v=r+" Iterator",s=!1,c=e.prototype,l=c[Ce]||c["@@iterator"]||a&&c[a],f=!mr&&l||u(a),d=r==="Array"&&c.entries||l,g,y,m;if(d&&(g=xo(d.call(new e)),g!==Object.prototype&&g.next&&(xo(g)!==Lo&&(jo?jo(g,Lo):cy(g[Ce])||en(g,Ce,yy)),ly(g,v,!0))),hy&&a===Re&&l&&l.name!==Re&&(gy?fy(c,"name",Re):(s=!0,f=function(){return uy(l,this)})),a)if(y={values:u(Re),keys:i?f:u(Mo),entries:u(No)},o)for(m in y)(mr||s||!(m in c))&&en(c,m,y[m]);else sy({target:r,proto:!0,forced:mr||s},y);return c[Ce]!==f&&en(c,Ce,f,{name:a}),py[r]=f,y},tn=function(e,r){return{value:e,done:r}},my=Y,nn=Bg,Do=Te,Fo=ye,by=L.f,$y=rn,br=tn,wy=_,Bo="Array Iterator",Sy=Fo.set,Oy=Fo.getterFor(Bo),Ey=$y(Array,"Array",function(e,r){Sy(this,{type:Bo,target:my(e),index:0,kind:r})},function(){var e=Oy(this),r=e.target,t=e.index++;if(!r||t>=r.length)return e.target=void 0,br(void 0,!0);switch(e.kind){case"keys":return br(t,!1);case"values":return br(r[t],!1)}return br([t,r[t]],!1)},"values"),ko=Do.Arguments=Do.Array;if(nn("keys"),nn("values"),nn("entries"),wy&&ko.name!=="values")try{by(ko,"name",{value:"values"})}catch{}var Go={exports:{}},Uo={},Iy=H,Py=Y,Ko=Xe.f,Ty=Ha,Wo=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Cy=function(e){try{return Ko(e)}catch{return Ty(Wo)}};Uo.f=function(r){return Wo&&Iy(r)==="Window"?Cy(r):Ko(Py(r))};var Ry=w,_y=Ry(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),xy=w,jy=T,Ay=H,Vo=_y,$r=Object.isExtensible,Ly=xy(function(){$r(1)}),My=Ly||Vo?function(r){return!jy(r)||Vo&&Ay(r)==="ArrayBuffer"?!1:$r?$r(r):!0}:$r,Ny=w,Dy=!Ny(function(){return Object.isExtensible(Object.preventExtensions({}))}),Fy=C,By=I,ky=Ue,Gy=T,an=j,Uy=L.f,zo=Xe,Ky=Uo,on=My,Wy=Ir,Vy=Dy,Ho=!1,k=Wy("meta"),zy=0,sn=function(e){Uy(e,k,{value:{objectID:"O"+zy++,weakData:{}}})},Hy=function(e,r){if(!Gy(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!an(e,k)){if(!on(e))return"F";if(!r)return"E";sn(e)}return e[k].objectID},Yy=function(e,r){if(!an(e,k)){if(!on(e))return!0;if(!r)return!1;sn(e)}return e[k].weakData},Xy=function(e){return Vy&&Ho&&on(e)&&!an(e,k)&&sn(e),e},Jy=function(){qy.enable=function(){},Ho=!0;var e=zo.f,r=By([].splice),t={};t[k]=1,e(t).length&&(zo.f=function(n){for(var a=e(n),i=0,o=a.length;i<o;i++)if(a[i]===k){r(a,i,1);break}return a},Fy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Ky.f}))},qy=Go.exports={enable:Jy,fastKey:Hy,getWeakData:Yy,onFreeze:Xy};ky[k]=!0;var Yo=Go.exports,Qy=E,Zy=T,Xo=ft,em=function(e,r,t){var n,a;return Xo&&Qy(n=r.constructor)&&n!==t&&Zy(a=n.prototype)&&a!==t.prototype&&Xo(e,a),e},rm=C,tm=O,nm=I,Jo=nt,am=B,im=Yo,om=lr,sm=dt,um=E,cm=Z,un=T,cn=w,vm=Ui,lm=Se,fm=em,dm=function(e,r,t){var n=e.indexOf("Map")!==-1,a=e.indexOf("Weak")!==-1,i=n?"set":"add",o=tm[e],u=o&&o.prototype,v=o,s={},c=function(p){var h=nm(u[p]);am(u,p,p==="add"?function(S){return h(this,S===0?0:S),this}:p==="delete"?function($){return a&&!un($)?!1:h(this,$===0?0:$)}:p==="get"?function(S){return a&&!un(S)?void 0:h(this,S===0?0:S)}:p==="has"?function(S){return a&&!un(S)?!1:h(this,S===0?0:S)}:function(S,Jm){return h(this,S===0?0:S,Jm),this})},l=Jo(e,!um(o)||!(a||u.forEach&&!cn(function(){new o().entries().next()})));if(l)v=t.getConstructor(r,e,n,i),im.enable();else if(Jo(e,!0)){var f=new v,d=f[i](a?{}:-0,1)!==f,g=cn(function(){f.has(1)}),y=vm(function(p){new o(p)}),m=!a&&cn(function(){for(var p=new o,h=5;h--;)p[i](h,h);return!p.has(-0)});y||(v=r(function(p,h){sm(p,u);var $=fm(new o,p,v);return cm(h)||om(h,$[i],{that:$,AS_ENTRIES:n}),$}),v.prototype=u,u.constructor=v),(g||m)&&(c("delete"),c("has"),n&&c("get")),(m||d)&&c(i),a&&u.clear&&delete u.clear}return s[e]=v,rm({global:!0,constructor:!0,forced:v!==o},s),lm(v,e),a||t.setStrong(v,e,n),v},pm=B,hm=function(e,r,t){for(var n in r)pm(e,n,r[n],t);return e},qo=Ht,gm=Ba,Qo=hm,ym=be,mm=dt,bm=Z,$m=lr,wm=rn,wr=tn,Sm=Ga,_e=_,Zo=Yo.fastKey,es=ye,rs=es.set,vn=es.getterFor,Om={getConstructor:function(e,r,t,n){var a=e(function(s,c){mm(s,i),rs(s,{type:r,index:qo(null),first:void 0,last:void 0,size:0}),_e||(s.size=0),bm(c)||$m(c,s[n],{that:s,AS_ENTRIES:t})}),i=a.prototype,o=vn(r),u=function(s,c,l){var f=o(s),d=v(s,c),g,y;return d?d.value=l:(f.last=d={index:y=Zo(c,!0),key:c,value:l,previous:g=f.last,next:void 0,removed:!1},f.first||(f.first=d),g&&(g.next=d),_e?f.size++:s.size++,y!=="F"&&(f.index[y]=d)),s},v=function(s,c){var l=o(s),f=Zo(c),d;if(f!=="F")return l.index[f];for(d=l.first;d;d=d.next)if(d.key===c)return d};return Qo(i,{clear:function(){for(var c=this,l=o(c),f=l.first;f;)f.removed=!0,f.previous&&(f.previous=f.previous.next=void 0),f=f.next;l.first=l.last=void 0,l.index=qo(null),_e?l.size=0:c.size=0},delete:function(s){var c=this,l=o(c),f=v(c,s);if(f){var d=f.next,g=f.previous;delete l.index[f.index],f.removed=!0,g&&(g.next=d),d&&(d.previous=g),l.first===f&&(l.first=d),l.last===f&&(l.last=g),_e?l.size--:c.size--}return!!f},forEach:function(c){for(var l=o(this),f=ym(c,arguments.length>1?arguments[1]:void 0),d;d=d?d.next:l.first;)for(f(d.value,d.key,this);d&&d.removed;)d=d.previous},has:function(c){return!!v(this,c)}}),Qo(i,t?{get:function(c){var l=v(this,c);return l&&l.value},set:function(c,l){return u(this,c===0?0:c,l)}}:{add:function(c){return u(this,c=c===0?0:c,c)}}),_e&&gm(i,"size",{configurable:!0,get:function(){return o(this).size}}),a},setStrong:function(e,r,t){var n=r+" Iterator",a=vn(r),i=vn(n);wm(e,r,function(o,u){rs(this,{type:n,target:o,state:a(o),kind:u,last:void 0})},function(){for(var o=i(this),u=o.kind,v=o.last;v&&v.removed;)v=v.previous;return!o.target||!(o.last=v=v?v.next:o.state.first)?(o.target=void 0,wr(void 0,!0)):wr(u==="keys"?v.key:u==="values"?v.value:[v.key,v.value],!1)},t?"entries":"values",!t,!0),Sm(r)}},Em=dm,Im=Om;Em("Map",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},Im);var ln=I,Pm=et,Tm=hr,Cm=fe,Rm=ln("".charAt),ts=ln("".charCodeAt),_m=ln("".slice),ns=function(e){return function(r,t){var n=Tm(Cm(r)),a=Pm(t),i=n.length,o,u;return a<0||a>=i?e?"":void 0:(o=ts(n,a),o<55296||o>56319||a+1===i||(u=ts(n,a+1))<56320||u>57343?e?Rm(n,a):o:e?_m(n,a,a+2):(o-55296<<10)+(u-56320)+65536)}},xm={codeAt:ns(!1),charAt:ns(!0)},jm=xm.charAt,Am=hr,as=ye,Lm=rn,is=tn,os="String Iterator",Mm=as.set,Nm=as.getterFor(os);Lm(String,"String",function(e){Mm(this,{type:os,string:Am(e),index:0})},function(){var r=Nm(this),t=r.string,n=r.index,a;return n>=t.length?is(void 0,!0):(a=jm(t,n),r.index+=a.length,is(a,!1))});var ss=O,us=_a,Dm=ja,xe=Ey,cs=he,Fm=Se,Bm=P,fn=Bm("iterator"),dn=xe.values,vs=function(e,r){if(e){if(e[fn]!==dn)try{cs(e,fn,dn)}catch{e[fn]=dn}if(Fm(e,r,!0),us[r]){for(var t in xe)if(e[t]!==xe[t])try{cs(e,t,xe[t])}catch{e[t]=xe[t]}}}};for(var pn in us)vs(ss[pn]&&ss[pn].prototype,pn);vs(Dm,"DOMTokenList");function km(e){var r=document.createElement("div");r.id=e,r.className="tdw-widget";var t=new Map,n=function(){r.remove(),t.forEach(function(c){return c.destroy()}),t.clear()},a=function(c,l){t.set(c,l),r.appendChild(l.element)},i=function(c){var l=t.get(c);l&&(l.destroy(),t.delete(c))},o=function(){r.style.visibility="visible",r.style.pointerEvents="auto"},u=function(){r.style.visibility="hidden",r.style.pointerEvents="none"},v=function(){return!!document.getElementById(e)};return{element:r,append:a,remove:i,show:o,hide:u,isMounted:v,destroy:n}}function Gm(){var e=document.createElement("div");e.className="tdw-widget-loading",e.id="tdw-widget-loading",e.ariaLabel="Loading",e.innerHTML=['<div class="tdw-widget-content">','<span class="tdw-loader"></span>',"</div>"].join("");var r=function(){e.remove()};return{element:e,destroy:r}}function Um(e){var r=document.createElement("iframe");r.title="Chat Widget",r.allowFullscreen=!0,r.style.display="none";var t=function(){r.style.display="block",e()};r.addEventListener("load",t);var n=function(){r.removeEventListener("load",t),r.remove()};return{element:r,destroy:n}}var Km="talkdesk-chat-widget",ls="loading-element",Wm="iframe-element",Vm=function(){var r=q.getAllConfig(),t=r.touchpoint,n=r.appProps,a=n!=null&&n.proxyHost?"//".concat(n.proxyHost).concat(_c.tdChatSdk):"",i=(t==null?void 0:t.release_version)||"",o=Sg(i);return"".concat(a||"https://talkdeskchatsdk.talkdeskapp.com","/v2/widget/").concat(o?i:"latest","/index.html?touchpointId=").concat(n==null?void 0:n.touchpointId)},zm=function(){return"./widget/latest/preview.html"};function Hm(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=km(Km),a=Um(function(){n.remove(ls)});n.append(ls,Gm()),n.hide(),t&&n.element.setAttribute("data-preview","");var i=function(){n.isMounted()||(e.appendChild(n.element),a.element.src=t?zm():Vm(),n.append(Wm,a),r&&a.element.contentWindow&&r(a.element.contentWindow))},o=function(){i()},u=function(d){var g=d.height;g&&(n.element.style.height=typeof g=="string"?g:"".concat(g,"px"))},v=function(){i(),n.show()},s=function(){n.hide()},c=function(){n.destroy()},l=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=d.enableResponsiveLayout,y=g===void 0?!1:g;y?n.element.setAttribute("data-responsive-layout","true"):n.element.removeAttribute("data-responsive-layout")};return{initInBackground:o,resize:u,open:v,close:s,destroy:c,update:l}}function Ym(e){var r=document.getElementById(e);if(!r)throw new Error('The element not exist, element id = "#'.concat(e,'"'));var t=[],n=null,a=null,i=null,o=!1,u=null,v=null,s=Sh({root:r,isPreview:!0}),c=Bh(s.element,function(){},!0),l=Hm(s.element,function(m){i=new fh({name:"SDK",sender:m,topic:V.Topic,debug:!1}),i.register(V.Methods.GetAllConfig,function(){var p=q.getAllConfig();return p}),i.register(V.Methods.PreviewReady,function(){var p;o=!0,(p=i)===null||p===void 0||p.trigger(V.Methods.UpdatePreviewConfig,u)}),i.register(V.Methods.OnSend,function(p){var h;(h=n)===null||h===void 0||h(p)}),i.register(V.Methods.OnComposer,function(){for(var p,h=arguments.length,$=new Array(h),S=0;S<h;S++)$[S]=arguments[S];(p=a)===null||p===void 0||p.apply(void 0,$)})},!0),f=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};q.setAppConfig(p),t.push(bh(s.element)),v||(v=wh(s.element)),l.open(),c.open()},d=function(){var p;c.destroy(),l.destroy(),s.destroy(),t.forEach(function(h){return h()}),t.length=0,u=null,q.clearAll(),(p=v)===null||p===void 0||p(),v=null,n=null,a=null},g=function(p){var h;if(q.setTouchpoint({active:!0,config:Yl(p==null?void 0:p.widgetSettings),account_id:""}),q.setParticipantName(p.userName||""),$h(s.element,(h=q.getAllConfig())===null||h===void 0||(h=h.appConfig)===null||h===void 0?void 0:h.styles,p),o){var $;($=i)===null||$===void 0||$.trigger(V.Methods.UpdatePreviewConfig,p)}else u=p},y=function(p){var h;(h=i)===null||h===void 0||h.trigger(V.Methods.UpdateMessage,p)};return{init:f,destroy:d,updateConfig:g,updateMessage:y,set onSend(m){n=m},set onComposer(m){a=m}}}function Xm(e){return Ym(e)}return Xm});
