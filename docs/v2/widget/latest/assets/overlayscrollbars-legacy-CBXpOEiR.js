!function(){var e=["severityNumber","severityText"],t=["_meta"],n=["sid","tid","enableRTL","hasName","hasAvatar","hasTimestamp","status","avatarUrl","avatarType","avatarVerticalAlign","formattedTime","participantName","alignment","linkProtocol","linkTarget","isLastMessage","isInSeries","onButtonClick","onResend","onMediaSourceError","errorMessageText","onMessageError"],r=["element","options","events","defer","children"],u=["forwardedRef","children","onClick","disabled","className"];function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(s())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var u=new(e.bind.apply(e,r));return n&&p(u,n.prototype),u}(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},a(e)}function o(e,t){if(null==e)return{};var n,r,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(u[n]=e[n])}return u}function i(e,t,n){return t=d(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function c(e,t,n,r){var u=l(d(1&r?e.prototype:e),t,n);return 2&r?function(e){return u.apply(n,e)}:u}function l(){return l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var u=Object.getOwnPropertyDescriptor(r,t);return u.get?u.get.call(arguments.length<3?e:n):u.value}},l.apply(null,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,u,a,o,i=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){c=!0,u=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw u}}return i}}(e,t)||k(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */g=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof _?t:_,o=Object.create(a.prototype),i=new T(r||[]);return u(o,"_invoke",{value:k(e,n,i)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var f="suspendedStart",p="suspendedYield",v="executing",m="completed",D={};function _(){}function y(){}function b(){}var C={};c(C,o,(function(){return this}));var E=Object.getPrototypeOf,A=E&&E(E(O([])));A&&A!==n&&r.call(A,o)&&(C=A);var x=b.prototype=_.prototype=Object.create(C);function F(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function n(u,a,o,i){var s=d(e[u],e,a);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"==h(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,o,i)}),(function(e){n("throw",e,o,i)})):t.resolve(l).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,i)}))}i(s.arg)}var a;u(this,"_invoke",{value:function(e,r){function u(){return new t((function(t,u){n(e,r,t,u)}))}return a=a?a.then(u,u):u()}})}function k(t,n,r){var u=f;return function(a,o){if(u===v)throw Error("Generator is already running");if(u===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var s=B(i,r);if(s){if(s===D)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(u===f)throw u=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);u=v;var c=d(t,n,r);if("normal"===c.type){if(u=r.done?m:p,c.arg===D)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(u=m,r.method="throw",r.arg=c.arg)}}}function B(t,n){var r=n.method,u=t.iterator[r];if(u===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,B(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),D;var a=d(u,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,D;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,D):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,D)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var u=-1,a=function n(){for(;++u<t.length;)if(r.call(t,u))return n.value=t[u],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(h(t)+" is not iterable")}return y.prototype=b,u(x,"constructor",{value:b,configurable:!0}),u(b,"constructor",{value:y,configurable:!0}),y.displayName=c(b,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},F(w.prototype),c(w.prototype,i,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,u,a){void 0===a&&(a=Promise);var o=new w(l(e,n,r,u),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},F(x),c(x,s,"Generator"),c(x,o,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function u(r,u){return i.type="throw",i.arg=t,n.next=r,u&&(n.method="next",n.arg=e),!!u}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return u("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return u(o.catchLoc,!0);if(this.prev<o.finallyLoc)return u(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return u(o.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return u(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var u=this.tryEntries[n];if(u.tryLoc<=this.prev&&r.call(u,"finallyLoc")&&this.prev<u.finallyLoc){var a=u;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,D):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),D},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),D}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var u=r.arg;S(n)}return u}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),D}},t}function m(e,t,n,r,u,a,o){try{var i=e[a](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,u)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,u){var a=e.apply(t,n);function o(e){m(a,r,u,o,i,"next",e)}function i(e){m(a,r,u,o,i,"throw",e)}o(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,x(r.key),r)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=x(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}function F(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||k(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=k(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw a}}}}function k(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}
/*!
* Talkdesk Confidential
*
* Copyright (C) Talkdesk Inc. 2024
*
* The source code for this program is not published or otherwise divested
* of its trade secrets, irrespective of what has been deposited with the
* U.S. Copyright Office. Unauthorized copying of this file, via any medium
* is strictly prohibited.
*/System.register(["./main-vendor-legacy-jrOTSjzZ.js","./reporter-vendor-legacy-BVegT3cb.js"],(function(s,l){"use strict";var d,p,m,y,C,x,k,B,j,S,T,O,I,N,L,M,P,z,R,Z,U,V,H,W,q,Y,G,$,K,J,Q;return{setters:[function(e){d=e.i,p=e.d,m=e.c,y=e.g,C=e.E,x=e.a,k=e.e,B=e.s,j=e.p,S=e.r,T=e.j,O=e.f,I=e.R,N=e.u,L=e.L,M=e.h,P=e.C,z=e.k},function(e){R=e.O,Z=e.a,U=e.R,V=e.S,H=e.L,W=e.b,q=e.l,Y=e.W,G=e.c,$=e.Z,K=e.t,J=e.d,Q=e.e}],execute:function(){var X,ee=document.createElement("style");ee.textContent='._AvatarBox_15kim_11{display:flex;justify-content:center;align-items:center;width:var(--bot-icon-width, 24px);height:var(--bot-icon-height, 24px);border-radius:50%;background-color:var(--avatar-background-color, #e9e9e9);overflow:hidden}._AvatarBox_15kim_11 svg{width:100%;height:100%}._skeleton_nc38p_6{display:flex;justify-content:center;align-items:center;width:240px;height:36px;border-radius:12px;background-color:#e9e9e9;background-size:300% 100%;background-image:linear-gradient(100deg,#e9e9e9 40%,#f8f8f8,#e9e9e9 60%);animation:_gradient-background_nc38p_1 1.5s linear infinite}@keyframes _gradient-background_nc38p_1{0%{background-position:100% 50%}to{background-position:0 50%}}._rounded_tu8ax_11,._normal_tu8ax_11,._noBubble_tu8ax_11{font-size:14px;line-height:20px;min-height:20px}._transparent_tu8ax_17,._rounded_tu8ax_11{border-radius:12px}._bubble_tu8ax_21._received_tu8ax_21 a{color:var(--bot-anchor-text-color, #1f1f1f)}._bubble_tu8ax_21._received_tu8ax_21 a:visited{color:var(--bot-anchor-text-color-visited, #1f1f1f)}._bubble_tu8ax_21._received_tu8ax_21 ._normal_tu8ax_11,._bubble_tu8ax_21._received_tu8ax_21 ._rounded_tu8ax_11{background-color:var(--bot-background-color, #ffffff);color:var(--bot-text-color, #1f1f1f)}._bubble_tu8ax_21._received_tu8ax_21 ._normal_tu8ax_11 button[aria-label=file],._bubble_tu8ax_21._received_tu8ax_21 ._rounded_tu8ax_11 button[aria-label=file]{color:var(--bot-anchor-text-color, #1f1f1f)}._bubble_tu8ax_21._received_tu8ax_21 ._normal_tu8ax_11 button[aria-label=file] svg>path,._bubble_tu8ax_21._received_tu8ax_21 ._rounded_tu8ax_11 button[aria-label=file] svg>path{fill:var(--bot-anchor-text-color, #1f1f1f)}html[data-layout-direction=rtl] ._bubble_tu8ax_21._sent_tu8ax_42 ._normal_tu8ax_11,._bubble_tu8ax_21._received_tu8ax_21 ._normal_tu8ax_11{border-radius:0 12px 12px}._bubble_tu8ax_21._sent_tu8ax_42 a{color:var(--user-anchor-text-color, #ffffff)}._bubble_tu8ax_21._sent_tu8ax_42 a:visited{color:var(--user-anchor-text-color-visited, #ffffff)}._bubble_tu8ax_21._sent_tu8ax_42 ._normal_tu8ax_11,._bubble_tu8ax_21._sent_tu8ax_42 ._rounded_tu8ax_11{background-color:var(--user-background-color, #1f1f1f);color:var(--user-text-color, #ffffff)}._bubble_tu8ax_21._sent_tu8ax_42 ._normal_tu8ax_11 button[aria-label=file],._bubble_tu8ax_21._sent_tu8ax_42 ._rounded_tu8ax_11 button[aria-label=file]{color:var(--user-anchor-text-color, #ffffff)}._bubble_tu8ax_21._sent_tu8ax_42 ._normal_tu8ax_11 button[aria-label=file] svg>path,._bubble_tu8ax_21._sent_tu8ax_42 ._rounded_tu8ax_11 button[aria-label=file] svg>path{fill:var(--user-anchor-text-color, #ffffff)}html[data-layout-direction=rtl] ._bubble_tu8ax_21._received_tu8ax_21 ._normal_tu8ax_11,._bubble_tu8ax_21._sent_tu8ax_42 ._normal_tu8ax_11{border-radius:12px 0 12px 12px}._bubble_tu8ax_21{display:grid;margin-top:20px;margin-left:20px;margin-right:20px}._bubble_tu8ax_21 ._avatar_tu8ax_77{grid-area:avatar}._bubble_tu8ax_21 ._messageContainer_tu8ax_80{display:grid;grid-area:messageContainer;grid-template-areas:"status message";align-items:center}._bubble_tu8ax_21 ._messageContainer_tu8ax_80 ._message_tu8ax_80{border:none}._bubble_tu8ax_21 ._messageContainer_tu8ax_80 ._message_tu8ax_80:not(._relative_tu8ax_89){grid-area:message;box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._bubble_tu8ax_21 ._messageContainer_tu8ax_80 ._status_tu8ax_93{grid-area:status;align-self:center;line-height:0}._bubble_tu8ax_21 ._nameAndTimestamp_tu8ax_98{display:grid;grid-area:nameAndTimestamp;grid-template-areas:"name divide timestamp";align-items:center;max-width:150px;margin-top:4px;color:#8c8c8c}._bubble_tu8ax_21 ._nameAndTimestamp_tu8ax_98 ._name_tu8ax_98{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._bubble_tu8ax_21 ._nameAndTimestamp_tu8ax_98 ._divide_tu8ax_112{margin:0 4px;text-align:center;color:#8c8c8c}._bubble_tu8ax_21 ._nameAndTimestamp_tu8ax_98 ._divide_tu8ax_112>span{font-size:12px;line-height:normal}._bubble_tu8ax_21 ._nameAndTimestamp_tu8ax_98 ._timestamp_tu8ax_121{text-align:right}._bubble_tu8ax_21._received_tu8ax_21{grid-template-columns:minmax(var(--bot-icon-width, 24px),min-content) fit-content(75%);grid-template-areas:"avatar messageContainer" ". nameAndTimestamp";justify-items:start;justify-content:start;-moz-column-gap:12px;column-gap:12px}._bubble_tu8ax_21._sent_tu8ax_42{grid-template-columns:min-content fit-content(75%);grid-template-rows:auto auto;grid-template-areas:". messageContainer" ". nameAndTimestamp";justify-items:end;justify-content:end}._bubble_tu8ax_21._sent_tu8ax_42 ._messageContainer_tu8ax_80{-moz-column-gap:4px;column-gap:4px;justify-items:end;justify-content:end}._bubble_tu8ax_21._inSeries_tu8ax_143{margin-top:12px}._bubble_tu8ax_21._lastMessage_tu8ax_146{margin-bottom:20px}._noBubble_tu8ax_11{max-width:100%;margin:20px 0}._normal_tu8ax_11,._rounded_tu8ax_11{max-width:100%;padding:12px}._transparent_tu8ax_17{max-width:100%;background-color:#fff;font-size:0}._relative_tu8ax_89{position:relative;width:calc(100vw - var(--bot-icon-width, 24px) - 52px)}._demo_tu8ax_176{box-shadow:none!important}@media only screen and (min-width: 360.02px){._bubble_tu8ax_21 ._relative_tu8ax_89{width:calc(360px - var(--bot-icon-width, 24px) - 40px)}}._bottom_zl3d8_6{align-self:flex-end}._timestamp_zl3d8_10,._name_zl3d8_11{font-size:12px;color:#8c8c8c;line-height:normal}._small_1ri7f_6{width:20px;height:20px}._medium_1ri7f_11{width:28px;height:28px}._large_1ri7f_16{width:36px;height:36px}._fail_1ri7f_21{margin:0;padding:0;border-style:none;background:none;font-size:0;cursor:pointer}._spinner_13lho_11{display:inline-block;width:20px;height:20px;border:2px solid #e9e9e9;border-bottom-color:var(--loading-color, #bfbfbf);border-radius:50%;box-sizing:border-box;animation:_rotation_13lho_1 1s linear infinite}._tiny_13lho_22{width:16px;height:16px}._small_13lho_27{width:20px;height:20px}._medium_13lho_32{width:24px;height:24px}@keyframes _rotation_13lho_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}._buttonsText_na049_11{display:inline-block;margin-bottom:12px;line-height:1.43em}._container_na049_17{display:flex;flex-direction:column;gap:8px}._button_na049_11{color:var(--button-text-color, #1f1f1f);background-color:var(--button-background-color, #e9e9e9);border-radius:8px;display:block;height:auto;padding:8px 12px;text-align:center;font-family:inherit;overflow:hidden;font-size:14px;font-weight:600;transition:background-color .2s ease-in-out;border:none;cursor:pointer;overflow-wrap:anywhere;white-space:pre-line}._button_na049_11:hover{background-color:var(--button-hover-background-color, #f8f8f8)}._system-message_xyb9s_6{width:100%;text-align:center;font-size:12px;line-height:1.34em;color:#8c8c8c}._loading_o4oef_1{box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02);background-color:#fff;padding:12px;border-radius:0 12px 12px}._resWrapper_o4oef_8{width:100%;display:flex;flex-direction:column;box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02);background-color:#fff;padding:12px;border-radius:0 12px 12px}._resItem_o4oef_18{width:100%;white-space:pre-wrap;word-break:break-word;box-sizing:border-box;-webkit-hyphens:none;hyphens:none;font-size:14px;padding-bottom:12px}._resItem_o4oef_18 span{cursor:pointer;color:#3e048b;background-color:#f1edf8;display:inline-flex;flex-direction:column;align-items:center;justify-content:center;position:relative;top:2px;margin-left:2px;border-radius:50%;width:18px;height:18px}._resItem_o4oef_18 span svg{width:14px;height:14px}._sourceWrapper_o4oef_47{width:100%;box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02);background-color:#fff;border-radius:12px;overflow:hidden}._sourceCount_o4oef_55{width:100%;color:#6f767d;font-size:14px;position:relative;font-weight:500;padding:10px 12px;cursor:pointer}._sourceCount_o4oef_55 svg{position:absolute;right:12px;top:50%;transform:translateY(-50%);transition:transform .3s ease-in-out}._sourceCount_o4oef_55 svg[data-arrow=up]{transform:translateY(-50%) rotate(180deg)}._sourceList_o4oef_75{width:100%;display:flex;flex-direction:column;background-color:#fafafa;transition:max-height .3s;overflow:auto;box-sizing:border-box;gap:4px;padding:6px 0}._sourceList_o4oef_75[aria-hidden=true]{max-height:0;padding:0}._sourceList_o4oef_75[aria-hidden=false]{max-height:240px}._sourceItem_o4oef_94{width:100%;padding:0 6px;overflow:hidden}._sourceItemInfo_o4oef_100{font-size:14px;color:#3e048b;background-color:#f1edf8;border-radius:16px;padding:2px 8px;display:flex;flex-direction:row;align-items:center;width:66vw;overflow:hidden;gap:4px}._sourceItemInfo_o4oef_100 span{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}._button_o4oef_120{width:100%;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:#fff;font-size:12px;font-weight:500;border:0;color:#3e048b}._button_o4oef_120 svg{margin-right:4px}._button_o4oef_120:hover{color:#6942b5}._button_o4oef_120:hover svg{fill:#6942b5}._refer_o4oef_142{position:absolute;z-index:5;left:0;right:0;top:64px;bottom:0;transition:transform .3s ease-in-out}._refer_o4oef_142[aria-hidden=true]{transform:translate(100%)}._refer_o4oef_142[aria-hidden=false]{display:block;transform:translate(0)}._referClose_o4oef_159{position:absolute;right:20px;top:12px;border-radius:50%;padding:4px;display:flex;flex-direction:column;align-items:center;justify-content:center}._referClose_o4oef_159:hover{background-color:rgba(0,0,0,.26)}._referClose_o4oef_159 svg{width:18px;height:18px}._referInfo_o4oef_178{width:100%;height:100%;overflow:auto;background-color:#fff;padding:12px}._referInfo_o4oef_178 ._referInfoTitle_o4oef_185{margin:0;padding:0;display:flex;flex-direction:row;align-items:center;overflow:hidden;gap:4px}._referInfo_o4oef_178 ._referInfoTitle_o4oef_185 svg{cursor:pointer}._referInfo_o4oef_178 ._referInfoTitle_o4oef_185 div{flex:1;overflow:hidden}._referInfo_o4oef_178 h3,._referInfo_o4oef_178 h4{display:block;box-sizing:border-box;margin:0;padding:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%}._referInfo_o4oef_178 h3{font-size:14px;font-weight:500}._referInfo_o4oef_178 h4{font-size:14px;color:#6f767d;font-weight:400;padding-top:2px}._referInfo_o4oef_178 p{font-size:14px;-webkit-hyphens:none;hyphens:none;white-space:pre-wrap;word-break:break-word;padding:12px 24px}@keyframes _blink_11a6b_1{50%{opacity:1}}._loading_11a6b_11 span{display:inline-block;width:6px;height:6px;background-color:#8c8c8c;border-radius:50%;opacity:.4}._loading_11a6b_11 span:nth-of-type(2){margin:0 4px}._loading_11a6b_11 span:nth-child(1){animation:_blink_11a6b_1 1s infinite .1s}._loading_11a6b_11 span:nth-child(2){animation:_blink_11a6b_1 1s infinite .2s}._loading_11a6b_11 span:nth-child(3){animation:_blink_11a6b_1 1s infinite .3s}._error_2hw0o_11{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100%;gap:32px}._message_2hw0o_20{padding:0 24px;color:#202830;font-size:16px;text-align:center}._retry_2hw0o_27{padding:8px 16px;border-radius:8px;border:1px solid transparent;font-size:14px;font-family:inherit;background-color:#f9f9f9;cursor:pointer;transition:border-color .25s}._bottomFixedArea_12mgx_6{padding:0 24px;position:absolute;bottom:0;z-index:1;max-height:45.5%;overflow:hidden scroll;background-color:#f8f8f8}._bottomFixedArea_12mgx_6._paddingBottom_12mgx_15{padding-bottom:20px}._text_1gk1d_6{text-align:center;color:#8c8c8c;font-size:12px;margin:20px 0;line-height:1.34em}._feedbackMessage_1ke5d_6{color:#8c8c8c;font-size:12px;text-align:center;white-space:break-spaces;margin:20px 0}._feedbackContainer_1ke5d_14{position:relative;width:calc(100% - 40px);padding:0;will-change:height}._feedbackContainer_1ke5d_14[aria-hidden=true]{height:0}._feedbackContainer_1ke5d_14[aria-hidden=false]{display:flex;justify-content:center;align-items:center;height:430px;margin:20px auto;border-radius:12px;background-color:#fff;box-shadow:0 4px 8px rgba(0,0,0,.02),0 2px 2px rgba(0,0,0,.04),0 -2px 2px rgba(0,0,0,.02)}._iframe_1ke5d_34{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;height:100%;margin:0;padding:0;border:none;box-sizing:border-box;border-radius:12px}._hidden_1ke5d_49{box-sizing:border-box;width:0;height:0}._hidden_xxytr_1{width:0;max-width:50px;height:0;overflow:hidden}._wrapper_ivzoz_14{position:relative;display:flex;flex:1;flex-direction:column;overflow:hidden auto}._chatContent_ivzoz_22{flex:1;overflow:hidden;-webkit-hyphens:var(--chat-message-hyphens, auto);hyphens:var(--chat-message-hyphens, auto)}._dropdown-wrapper_rc6w0_19{position:relative;display:flex}._dropdown-input_rc6w0_24{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;cursor:pointer;padding:0 8px;position:relative;display:flex;justify-content:space-between;align-items:center;width:100%;min-width:150px;height:32px;line-height:32px;font-size:14px;color:#1f1f1f;border:1px solid #bfbfbf;background-color:#fff;border-radius:4px;transition:border .2s ease;text-align:left;touch-action:manipulation}._dropdown-input_rc6w0_24:hover{border-color:#8c8c8c}._dropdown-input_rc6w0_24[data-focus=true]{border-color:#000;box-shadow:0 0 0 1px #e9e9e9}._dropdown-input-placeholder_rc6w0_54{color:#8c8c8c}._dropdown-input-arrow_rc6w0_57{transform:rotate(90deg);transition:transform .2s ease}._dropdown-input_rc6w0_24[data-focus=true] ._dropdown-input-arrow_rc6w0_57{transform:rotate(-90deg)}._dropdown-popup_rc6w0_65{position:absolute;z-index:10000;height:0;margin-top:12px;background-color:#fff;color:var(--chat-theme-color, #1f1f1f);box-shadow:0 12px 12px rgba(0,0,0,.02),0 8px 8px rgba(0,0,0,.02),0 4px 4px rgba(0,0,0,.04);border-radius:8px;visibility:hidden;opacity:0;transition:all .1s ease-in-out}._dropdown-popup-visible_rc6w0_78{opacity:1;visibility:visible;height:auto}._dropdown-content_rc6w0_84{padding:4px;display:flex;flex-grow:1;flex-shrink:0;min-width:150px;max-height:250px;margin:0;background-color:#fff;border-radius:8px;list-style:none;flex-flow:column nowrap;overflow:auto}._dropdown-content-item_rc6w0_99{cursor:pointer;flex:1;transition-property:background-color,color;transition-duration:.2s;transition-timing-function:ease;white-space:nowrap;font-size:14px}._dropdown-content-item_rc6w0_99 button{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;display:flex;justify-content:flex-start;align-items:center;width:100%;text-align:left;height:32px;line-height:32px;font-size:14px;color:#1f1f1f;gap:4px}._dropdown-content-item_rc6w0_99:hover,._dropdown-content-item_rc6w0_99:focus{border-radius:4px;background-color:#f8f8f8}._dropdown-content-item_rc6w0_99:hover button,._dropdown-content-item_rc6w0_99:hover svg>path,._dropdown-content-item_rc6w0_99:focus button,._dropdown-content-item_rc6w0_99:focus svg>path{color:var(--chat-theme-color, #1f1f1f);fill:var(--chat-theme-color, #1f1f1f)}._dropdown-content-item_rc6w0_99:active{color:var(--chat-theme-color, #1f1f1f);background-color:#f8f8f8;border-radius:4px}._dropdown-content-item_rc6w0_99[data-disabled=true]{opacity:.4;pointer-events:none}._dropdown-content-item_rc6w0_99[data-disabled=true]>*{cursor:not-allowed}._dropdown-content-item_rc6w0_99[data-active=true]{background-color:#f8f8f8;color:var(--chat-theme-color, #1f1f1f)}._logo_3ajxb_19{display:flex;justify-content:center;align-items:center;width:var(--chat-title-icon-width, 32px);height:var(--chat-title-icon-height, 32px);border-radius:50%;background-color:var(--chat-theme-color, #1f1f1f)}._customizedLogo_3ajxb_29{width:100%;height:100%;background-repeat:no-repeat;background-position:center;background-size:var(--chat-title-icon-width, 32px) var(--chat-title-icon-height, 32px)}._defaultLogo_3ajxb_37{fill:var(--chat-title-icon-color, #ffffff)}@keyframes _circle_15l67_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _loading_15l67_1{0%,5%{transform:translate(40px) scale(1);background:#e9e9e9}10%{transform:translate(40px) scale(1);background:var(--chat-theme-color, #1f1f1f)}40%{transform:translate(20px) scale(1.5);background:var(--chat-theme-color, #1f1f1f)}90%,95%{transform:translate(0) scale(1);background:var(--chat-theme-color, #1f1f1f)}to{transform:translate(0) scale(1);background:#e9e9e9}}@keyframes _move-x_15l67_1{0%,10%{transform:translate(0)}90%,to{transform:translate(20px)}}@keyframes _slide-down_15l67_1{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _slide-in_15l67_1{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _slide-out_15l67_1{0%{transform:translateY(0);opacity:1}to{transform:translateY(-100%);opacity:0}}@keyframes _fade-in_15l67_125{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}@keyframes _fade-out_15l67_129{0%{visibility:visible;opacity:1}to{visibility:hidden;opacity:0}}._mask_15l67_106{position:absolute;z-index:1000;display:flex;flex-direction:column;justify-content:center;align-items:center;top:88px;right:0;bottom:0;left:0;background-color:rgba(31,31,31,.6)}._start_15l67_117{justify-content:flex-start;width:100%;height:100%;top:0;right:0;bottom:0;left:0;border-radius:16px}._fade-in_15l67_125{animation:_fade-in_15l67_125 .2s ease-out}._fade-out_15l67_129{animation:_fade-out_15l67_129 .2s ease-out}@keyframes _circle_18ki2_1{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _loading_18ki2_1{0%,5%{transform:translate(40px) scale(1);background:#e9e9e9}10%{transform:translate(40px) scale(1);background:var(--chat-theme-color, #1f1f1f)}40%{transform:translate(20px) scale(1.5);background:var(--chat-theme-color, #1f1f1f)}90%,95%{transform:translate(0) scale(1);background:var(--chat-theme-color, #1f1f1f)}to{transform:translate(0) scale(1);background:#e9e9e9}}@keyframes _move-x_18ki2_1{0%,10%{transform:translate(0)}90%,to{transform:translate(20px)}}@keyframes _slide-down_18ki2_1{0%{transform:translate3d(0,-100%,0);visibility:visible}to{transform:translateZ(0)}}@keyframes _slide-in_18ki2_113{0%{transform:translateY(-100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _slide-out_18ki2_117{0%{transform:translateY(0);opacity:1}to{transform:translateY(-100%);opacity:0}}@keyframes _fade-in_18ki2_1{0%{visibility:hidden;opacity:0}to{visibility:visible;opacity:1}}@keyframes _fade-out_18ki2_1{0%{visibility:visible;opacity:1}to{visibility:hidden;opacity:0}}._wrapper_18ki2_106{z-index:1001;width:100%;background-color:#fff;border-radius:16px}._slide-in_18ki2_113{animation:_slide-in_18ki2_113 .3s ease-out}._slide-out_18ki2_117{animation:_slide-out_18ki2_117 .3s ease-out}._dialog_18ki2_121{padding:20px;position:relative}._close_18ki2_126{display:flex;justify-content:center;align-items:center;position:absolute;top:20px;right:20px;width:24px;height:24px;border-radius:4px;color:var(--chat-cancel-button-font-color, #1f1f1f);background-color:var(--chat-cancel-button-background-color, #ffffff)}._close_18ki2_126 svg>path{fill:var(--chat-cancel-button-font-color, #1f1f1f)}._close_18ki2_126:hover{background-color:var(--chat-cancel-button-hover-background-color, rgba(0, 0, 0, .1))}._header_18ki2_146{min-height:32px;padding-top:12px;text-align:center}._header_18ki2_146 ._icon_18ki2_151{display:flex;justify-content:center;align-items:center;color:var(--chat-dialog-box-icon-color, #bfbfbf)}._content_18ki2_158{display:flex;flex-direction:column;align-items:center;gap:8px;width:100%;text-align:center;overflow:hidden;padding:16px 0 24px;color:var(--chat-dialog-box-font-color, #1f1f1f);font-size:var(--chat-dialog-box-font-size, 14px);font-family:var(--chat-dialog-box-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);line-height:1.43em}._content_18ki2_158 ._title_18ki2_172{font-weight:600}._content_18ki2_158 ._description_18ki2_175{max-width:86.7%}._footer_18ki2_179{display:flex;justify-content:center;align-items:center}._footer_18ki2_179 ._confirm_18ki2_184{display:flex;justify-content:center;align-items:center;padding:8px 16px;gap:4px;cursor:pointer;text-align:center;border:none;border-radius:8px;color:var(--chat-confirm-button-font-color, #ffffff);font-weight:600;font-size:var(--chat-confirm-button-font-size, 14px);font-family:var(--chat-confirm-button-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);background-color:var(--chat-confirm-button-background-color, #1f1f1f)}._footer_18ki2_179 ._confirm_18ki2_184:disabled{cursor:not-allowed;opacity:.5}._footer_18ki2_179 ._confirm_18ki2_184:hover{background-color:var(--chat-confirm-button-hover-background-color, #8c8c8c)}._button_1rhpj_19{display:flex;justify-content:center;align-items:center;padding:2px;border-radius:4px;background-color:transparent;transition:background-color .2s}._button_1rhpj_19:disabled{cursor:not-allowed;opacity:.5}._button_1rhpj_19:hover{background-color:rgba(0,0,0,.1)}._button_1rhpj_19:focus{background-color:rgba(0,0,0,.15)}._button_1rhpj_19[disabled]:hover,._button_1rhpj_19[disabled]:focus{background-color:transparent;transform:none}._header_bv5to_19{padding:12px 20px;display:flex;justify-content:space-between;height:64px;background-color:var(--chat-header-background-color, #f8f8f8)}._header_bv5to_19._withBoxShadow_bv5to_26{box-shadow:0 -2px 2px rgba(0,0,0,.02),0 2px 2px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._header_bv5to_19._withSeparator_bv5to_29{z-index:1;box-shadow:0 2px 2px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._header_bv5to_19 ._left_bv5to_33{display:flex;justify-content:center;align-items:center;flex:1;gap:12px}._header_bv5to_19>div:nth-of-type(2){display:flex;justify-content:center;align-items:center;gap:8px}._desc_bv5to_47{flex:1;width:0}._title_bv5to_52{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;color:var(--chat-title-text-color, #1f1f1f);font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:14px;font-weight:600}._subtitle_bv5to_62{display:-webkit-box;max-width:200px;max-height:2.5em;word-break:break-word;color:var(--chat-subtitle-text-color, #1f1f1f);font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:12px;line-height:1.2em;-webkit-box-orient:vertical;-webkit-line-clamp:2;line-clamp:2;text-overflow:ellipsis;overflow:hidden}._icon_bv5to_78{display:flex;justify-content:center;align-items:center;width:var(--chat-close-icon-width, 20px);height:var(--chat-close-icon-height, 20px);color:var(--chat-close-button-color, #1f1f1f)}._icon_bv5to_78 svg>path{fill:var(--chat-close-button-color, #1f1f1f)}._wrapper_1n0k0_19{flex:1;width:100%}._submitButton_1n0k0_24{padding:8px 16px;display:inline-block;width:100%;line-height:1.43em;min-height:var(--custom-button-height, 36px);font-size:var(--custom-button-font-size, 14px);font-family:var(--custom-button-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);font-weight:600;border-radius:8px;border-width:1px;border-style:solid;color:var(--custom-button-color, #ffffff);border-color:var(--custom-button-border-color, #1f1f1f);background-color:var(--custom-button-background-color, #1f1f1f)}._submitButton_1n0k0_24:hover{color:var(--custom-button-hover-color, #ffffff);border-color:var(--custom-button-hover-border-color, #393939);background-color:var(--custom-button-hover-background-color, #8c8c8c)}._customButton_1n0k0_46{display:flex}._ErrorMessage_15cbg_6{font-size:12px;line-height:1.34em;color:#f5222d}._isError_1rerd_11{border:1px solid #f5222d!important}._isError_1rerd_11:focus{box-shadow:0 0 0 2px rgba(255,38,6,.06)!important}._isRequired_1rerd_18{padding:0 4px;color:#f5222d;vertical-align:middle}._customDropdown_1dhdt_19{display:flex;width:100%}._wrapper_1dhdt_24{display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_1dhdt_32{display:flex}._label_1dhdt_32{padding:0;display:block;width:100%;overflow:hidden;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-dropdown-label-font-size, 14px);font-family:var(--custom-dropdown-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-label-color, #595959)}._selectContainer_1dhdt_49{position:relative}._menu_1dhdt_53{padding:4px;position:absolute;top:32px;left:0;z-index:1000;display:none;flex-direction:column;width:100%;margin:4px 0;gap:4px;border-radius:8px;background-color:#fff;box-shadow:0 12px 12px rgba(0,0,0,.02),0 8px 8px rgba(0,0,0,.02),0 4px 4px rgba(0,0,0,.04)}._menu_1dhdt_53._visible_1dhdt_68{display:flex}._option_1dhdt_72{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 8px;width:100%;text-align:left;height:32px;line-height:32px;border-radius:4px;font-size:var(--custom-dropdown-input-font-size, 14px);font-family:var(--custom-dropdown-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-input-color, #1f1f1f);background-color:var(--custom-dropdown-input-background-color, #ffffff)}._option_1dhdt_72:hover,._option_1dhdt_72:focus,._option_1dhdt_72:active,._option_1dhdt_72._selected_1dhdt_87{color:var(--chat-theme-color, #1f1f1f);background-color:#f8f8f8}._dropdown_1dhdt_92{padding:0 12px;display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%;height:32px;line-height:32px;border-radius:8px;border:1px solid #d9d9d9;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;float:left;box-sizing:border-box;text-align:left;overflow:hidden;font-size:var(--custom-dropdown-input-font-size, 14px);font-family:var(--custom-dropdown-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-dropdown-input-color, #1f1f1f);background-color:var(--custom-dropdown-input-background-color, #ffffff);gap:8px}._dropdown_1dhdt_92::-moz-placeholder{color:#bfbfbf}._dropdown_1dhdt_92::placeholder{color:#bfbfbf}._dropdown_1dhdt_92:hover,._dropdown_1dhdt_92:focus,._dropdown_1dhdt_92:focus-visible{border-color:#8c8c8c}._dropdown_1dhdt_92:focus,._dropdown_1dhdt_92:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._placeholder_1dhdt_125,._text_1dhdt_125{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;flex:1}._placeholder_1dhdt_125{color:#a9a9a9}@supports (-webkit-overflow-scrolling: touch){._input_1dhdt_138{font-size:16px!important}}._arrow_1dhdt_142{transition:transform .2s ease;transform-origin:center center}._isActive_1dhdt_147{transform:rotate(-180deg)}html[data-layout-direction=rtl] ._text_1dhdt_125,html[data-layout-direction=rtl] ._placeholder_1dhdt_125,html[data-layout-direction=rtl] ._option_1dhdt_72{text-align:right}._customField_1hlud_19{display:flex;width:100%}._wrapper_1hlud_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_1hlud_33{display:flex;gap:4px}._label_1hlud_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_1hlud_49{position:relative}._input_1hlud_49{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border:1px solid #d9d9d9;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_1hlud_49::-moz-placeholder{color:#bfbfbf}._input_1hlud_49::placeholder{color:#bfbfbf}._input_1hlud_49:hover,._input_1hlud_49:focus,._input_1hlud_49:focus-visible{border-color:#8c8c8c}._input_1hlud_49:focus,._input_1hlud_49:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_1hlud_80{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_1hlud_80{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_1hlud_49{font-size:16px}}._customField_19gzc_19{display:flex;width:100%}._wrapper_19gzc_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_19gzc_33{display:flex;flex-direction:column;gap:4px}._helper_19gzc_39{font-size:12px;color:#6f767d;font-weight:400}._label_19gzc_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_19gzc_56{position:relative}._input_19gzc_56{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border:1px solid #d9d9d9;border-radius:8px;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_19gzc_56::-moz-placeholder{color:#bfbfbf}._input_19gzc_56::placeholder{color:#bfbfbf}._input_19gzc_56:hover,._input_19gzc_56:focus,._input_19gzc_56:focus-visible{border-color:#8c8c8c}._input_19gzc_56:focus,._input_19gzc_56:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_19gzc_87{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_19gzc_87{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_19gzc_56{font-size:16px}}._customMessage_1bdmg_19{display:flex;justify-content:center;align-items:center;gap:8px}._avatarWrapper_1bdmg_26{display:flex;justify-content:center;align-items:center;align-self:flex-end}._avatarWrapper_1bdmg_26>div{display:flex;justify-content:center;align-items:center}._avatarWrapper_1bdmg_26>div>img{width:24px;height:24px}._avatarWrapperAlign_1bdmg_42{align-self:flex-start!important}._wrapper_1bdmg_46{flex:1;width:0}._messageContent_1bdmg_51{display:inline-block;max-width:100%;white-space:pre-wrap;word-break:normal;overflow-wrap:break-word;border-radius:0 8px 8px;font-weight:400;-webkit-hyphens:auto;hyphens:auto;background:none;line-height:1.43em;font-family:var(--custom-message-no-bubble-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);font-size:var(--custom-message-no-bubble-font-size, 14px);color:var(--custom-message-no-bubble-color, #595959)}._messageContent_1bdmg_51 a{color:var(--custom-message-no-bubble-color, #595959)}._messageContent_1bdmg_51._isBubble_1bdmg_69{padding:12px;font-size:var(--custom-message-font-size, 14px);font-family:var(--custom-message-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-message-color, #1f1f1f);background-color:var(--custom-message-background-color, #ffffff);box-shadow:0 2px 4px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.02)}._customField_ns1ou_19{display:flex;width:100%}._wrapper_ns1ou_24{position:relative;display:flex;flex:1;flex-direction:column;width:0;gap:4px}._labelWrapper_ns1ou_33{display:flex;gap:4px}._label_ns1ou_33{padding:0;max-width:100%;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-weight:600;font-size:var(--custom-field-label-font-size, 14px);font-family:var(--custom-field-label-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-label-color, #595959)}._inputWrapper_ns1ou_49{position:relative}._input_ns1ou_49{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;padding:0 12px;width:100%;height:32px;border-radius:8px;border:1px solid #d9d9d9;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;padding-inline-end:36px;font-size:var(--custom-field-input-font-size, 14px);font-family:var(--custom-field-input-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--custom-field-input-color, #1f1f1f);background-color:var(--custom-field-input-background-color, #ffffff)}._input_ns1ou_49::-moz-placeholder{color:#bfbfbf}._input_ns1ou_49::placeholder{color:#bfbfbf}._input_ns1ou_49:hover,._input_ns1ou_49:focus,._input_ns1ou_49:focus-visible{border-color:#8c8c8c}._input_ns1ou_49:focus,._input_ns1ou_49:focus-visible{box-shadow:0 0 0 2px #e9e9e9}._clear_ns1ou_80{display:flex;justify-content:center;align-items:center;position:absolute;right:12px;bottom:8px}html[data-layout-direction=rtl] ._clear_ns1ou_80{right:auto;left:12px}@supports (-webkit-overflow-scrolling: touch){._input_ns1ou_49{font-size:16px}}._container_1a188_19{padding:20px;display:flex;flex-direction:column;background-color:var(--welcome-message-background-color, #f8f8f8);gap:12px}._title_1a188_27{white-space:pre-wrap;word-wrap:normal;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;padding:0;margin:0;font-weight:700;font-size:var(--welcome-message-title-font-size, 24px);font-family:var(--welcome-message-title-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--welcome-message-title-color, #1f1f1f);line-height:1.34em}._subTitle_1a188_41{white-space:pre-wrap;word-wrap:normal;overflow-wrap:break-word;-webkit-hyphens:auto;hyphens:auto;font-size:var(--welcome-message-content-font-size, 14px);font-family:var(--welcome-message-content-font-family, inter, -apple-system, system-ui, avenir, helvetica, arial, sans-serif);color:var(--welcome-message-content-color, #1f1f1f);line-height:1.4em}._initialScreen_ced3c_19{flex:1}form{padding:20px 32px;display:flex;flex-direction:column;gap:20px;background-color:var(--initial-form-background-color, #f8f8f8)}._hiddenInput_fp29e_6{display:none}._emoji-picker_nu187_19{display:flex;justify-content:center;align-items:center;position:absolute;right:0;bottom:56px;z-index:10;width:320px;height:300px;margin-bottom:8px;border-radius:8px;background-color:#fff;box-shadow:0 4px 4px rgba(0,0,0,.04),0 8px 8px rgba(0,0,0,.02),0 12px 12px rgba(0,0,0,.02)}._emoji-picker_nu187_19[aria-hidden=true]{display:none}._emoji-picker_nu187_19[aria-hidden=false]{display:flex}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40{--epr-hover-bg-color: rgba(0, 0, 0, 10%);--epr-focus-bg-color: rgba(0, 0, 0, 15%);--epr-header-padding: 12px;--epr-skin-tone-size: 14px;--epr-active-skin-hover-color: var(--epr-focus-bg-color);--epr-search-border-color: #8c8c8c;--epr-search-input-bg-color: #f8f8f8;--epr-search-input-placeholder-color: #bfbfbf;--epr-search-input-height: 32px;--epr-category-label-height: 32px;--epr-category-navigation-button-size: 24px;--epr-emoji-size: 20px;--epr-emoji-hover-color: var(--epr-focus-bg-color);--epr-category-icon-active-color: transparent;border-width:0}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-skin-tones{padding:0}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-skin-tone-select .epr-active:after{border-color:var(--epr-active-skin-hover-color)}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-btn-clear-search:hover{background-color:transparent}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-icn-clear-search:hover{background-position-y:unset}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-emoji-category-label{font-size:14px}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:hover,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:focus,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:focus:before,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn.epr-active,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:hover,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:focus,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:focus:before,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn.epr-active{border-radius:4px}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:focus,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn.epr-active,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:focus,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn.epr-active{background-color:var(--epr-focus-bg-color)}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:hover,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn.epr-active,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:hover,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn.epr-active{background-position-y:unset}._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-category-nav .epr-btn:hover,._emoji-picker_nu187_19 ._emoji-picker-wrapper_nu187_40 .epr-body .epr-btn:hover{background-color:var(--epr-hover-bg-color)}._emoji-picker-rtl_nu187_94{right:auto;left:0}._emoji-picker-rtl_nu187_94 .epr-skin-tone-select{transform:scale(-1)}@media only screen and (max-width: 370px){._emoji-picker_nu187_19{width:100%}}._user-input-area_rldhy_19{padding:12px 24px 20px;position:relative;display:flex;justify-content:space-between;align-items:center;min-height:var(--user-input-height, 48px)}._user-input-area_rldhy_19._withSeparator_rldhy_27{box-shadow:0 -2px 2px rgba(0,0,0,.04),0 -4px 8px rgba(0,0,0,.02)}._textarea-container_rldhy_31{position:relative;display:flex;flex:1;background-color:#fff;border-radius:12px}._textarea-container_rldhy_31 textarea{padding:12px 0;padding-inline:12px 96px;flex:1;width:100%;overflow:auto;border:1px solid transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:none;resize:none;font-family:inter,-apple-system,system-ui,avenir,helvetica,arial,sans-serif;font-size:14px;border-radius:12px;line-height:1.43em;transition:border-color .15s,height .15s;scroll-behavior:smooth}._textarea-container_rldhy_31 textarea::-webkit-scrollbar{width:0}._textarea-container_rldhy_31 textarea::-moz-placeholder{color:#bfbfbf}._textarea-container_rldhy_31 textarea::placeholder{color:#bfbfbf}._textarea-container_rldhy_31 textarea:hover,._textarea-container_rldhy_31 textarea:focus,._textarea-container_rldhy_31 textarea:focus-visible{border-color:#8c8c8c}._textarea-container_rldhy_31 textarea:focus,._textarea-container_rldhy_31 textarea:focus-visible{box-shadow:0 -2px 2px rgba(0,0,0,.04),0 -4px 8px rgba(0,0,0,.02)}._textarea-container_rldhy_31 ._action-buttons_rldhy_67{display:flex;justify-content:center;align-items:center;gap:4px;position:absolute;right:12px;bottom:12px;z-index:2}html[data-layout-direction=rtl] ._action-buttons_rldhy_67{right:auto;left:12px}._chat_1oxpe_6{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:100%;background-color:#f8f8f8}._isDisabled_1oxpe_15{opacity:.5;pointer-events:none}._loadingWrapper_1oxpe_20{position:absolute;z-index:50;flex-direction:column;width:100%;top:0;right:0;bottom:0;left:0;background-color:transparent;overflow:hidden}._loadingWrapper_1oxpe_20[aria-hidden=true]{display:none}._loadingWrapper_1oxpe_20[aria-hidden=false]{display:flex}*{margin:0;padding:0}html,body{height:100%}html[data-layout-direction=rtl]{direction:rtl}form,input,div,p,span,ul,li{box-sizing:border-box}li{list-style:none}#root{height:100%}button{border:none;background:none;cursor:pointer}@font-face{font-family:Inter;src:url('+new URL("Inter-Regular-DYjygwQm.ttf",l.meta.url).href+') format("truetype");font-weight:400;font-style:normal;font-display:swap}@font-face{font-family:Inter;src:url('+new URL("Inter-SemiBold-XVCL1Lno.ttf",l.meta.url).href+') format("truetype");font-weight:700;font-style:normal;font-display:swap}:root{font-family:Inter,-apple-system,system-ui,Avenir,Helvetica,Arial,sans-serif}/*! \n* OverlayScrollbars\n* Version: 2.10.0\n* \n* Copyright (c) Rene Haas | KingSora.\n* https://github.com/KingSora\n* \n* Released under the MIT license.\n*/.os-size-observer,.os-size-observer-listener{scroll-behavior:auto!important;direction:inherit;pointer-events:none;overflow:hidden;visibility:hidden;box-sizing:border-box}.os-size-observer,.os-size-observer-listener,.os-size-observer-listener-item,.os-size-observer-listener-item-final{writing-mode:horizontal-tb;position:absolute;left:0;top:0}.os-size-observer{z-index:-1;contain:strict;display:flex;flex-direction:row;flex-wrap:nowrap;padding:inherit;border:inherit;box-sizing:inherit;margin:-133px;top:0;right:0;bottom:0;left:0;transform:scale(.1)}.os-size-observer:before{content:"";flex:none;box-sizing:inherit;padding:10px;width:10px;height:10px}.os-size-observer-appear{animation:os-size-observer-appear-animation 1ms forwards}.os-size-observer-listener{box-sizing:border-box;position:relative;flex:auto;padding:inherit;border:inherit;margin:-133px;transform:scale(10)}.os-size-observer-listener.ltr{margin-right:-266px;margin-left:0}.os-size-observer-listener.rtl{margin-left:-266px;margin-right:0}.os-size-observer-listener:empty:before{content:"";width:100%;height:100%}.os-size-observer-listener:empty:before,.os-size-observer-listener>.os-size-observer-listener-item{display:block;position:relative;padding:inherit;border:inherit;box-sizing:content-box;flex:auto}.os-size-observer-listener-scroll{box-sizing:border-box;display:flex}.os-size-observer-listener-item{right:0;bottom:0;overflow:hidden;direction:ltr;flex:none}.os-size-observer-listener-item-final{transition:none}@keyframes os-size-observer-appear-animation{0%{cursor:auto}to{cursor:none}}.os-trinsic-observer{flex:none;box-sizing:border-box;position:relative;max-width:0px;max-height:1px;padding:0;margin:0;border:none;overflow:hidden;z-index:-1;height:0;top:calc(100% + 1px);contain:strict}.os-trinsic-observer:not(:empty){height:calc(100% + 1px);top:-1px}.os-trinsic-observer:not(:empty)>.os-size-observer{width:1000%;height:1000%;min-height:1px;min-width:1px}[data-overlayscrollbars-initialize],[data-overlayscrollbars-viewport~=scrollbarHidden]{scrollbar-width:none!important}[data-overlayscrollbars-initialize]::-webkit-scrollbar,[data-overlayscrollbars-initialize]::-webkit-scrollbar-corner,[data-overlayscrollbars-viewport~=scrollbarHidden]::-webkit-scrollbar,[data-overlayscrollbars-viewport~=scrollbarHidden]::-webkit-scrollbar-corner{-webkit-appearance:none!important;appearance:none!important;display:none!important;width:0!important;height:0!important}[data-overlayscrollbars-initialize]:not([data-overlayscrollbars]):not(html):not(body){overflow:auto}html[data-overlayscrollbars-body]{overflow:hidden}html[data-overlayscrollbars-body],html[data-overlayscrollbars-body]>body{width:100%;height:100%;margin:0}html[data-overlayscrollbars-body]>body{overflow:visible;margin:0}[data-overlayscrollbars]{position:relative}[data-overlayscrollbars~=host],[data-overlayscrollbars-padding]{display:flex;align-items:stretch!important;flex-direction:row!important;flex-wrap:nowrap!important;scroll-behavior:auto!important}[data-overlayscrollbars-padding],[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]){box-sizing:inherit;position:relative;flex:auto!important;height:auto;width:100%;min-width:0;padding:0;margin:0;border:none;z-index:0}[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]){--os-vaw: 0;--os-vah: 0;outline:none}[data-overlayscrollbars-viewport]:not([data-overlayscrollbars]):focus{outline:none}[data-overlayscrollbars-viewport][data-overlayscrollbars-viewport~=arrange]:before{content:"";position:absolute;pointer-events:none;z-index:-1;min-width:1px;min-height:1px;width:var(--os-vaw);height:var(--os-vah)}[data-overlayscrollbars],[data-overlayscrollbars-padding],[data-overlayscrollbars-viewport]{overflow:hidden!important}[data-overlayscrollbars~=noClipping],[data-overlayscrollbars-padding~=noClipping]{overflow:visible!important}[data-overlayscrollbars-viewport~=measuring]{overflow:hidden!important;scroll-behavior:auto!important;scroll-snap-type:none!important}[data-overlayscrollbars-viewport~=overflowXVisible]:not([data-overlayscrollbars-viewport~=measuring]){overflow-x:visible!important}[data-overlayscrollbars-viewport~=overflowXHidden]{overflow-x:hidden!important}[data-overlayscrollbars-viewport~=overflowXScroll]{overflow-x:scroll!important}[data-overlayscrollbars-viewport~=overflowYVisible]:not([data-overlayscrollbars-viewport~=measuring]){overflow-y:visible!important}[data-overlayscrollbars-viewport~=overflowYHidden]{overflow-y:hidden!important}[data-overlayscrollbars-viewport~=overflowYScroll]{overflow-y:scroll!important}[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId){font-size:0!important;line-height:0!important}[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId):before,[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId):after,[data-overlayscrollbars-viewport~=noContent]:not(#osFakeId)>*{display:none!important;position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border-width:0!important}[data-overlayscrollbars-viewport~=scrolling]{scroll-behavior:auto!important;scroll-snap-type:none!important}[data-overlayscrollbars-content]{box-sizing:inherit}[data-overlayscrollbars-contents]:not(#osFakeId):not([data-overlayscrollbars-padding]):not([data-overlayscrollbars-viewport]):not([data-overlayscrollbars-content]){display:contents}[data-overlayscrollbars-grid],[data-overlayscrollbars-grid] [data-overlayscrollbars-padding]{display:grid;grid-template:1fr/1fr}[data-overlayscrollbars-grid]>[data-overlayscrollbars-padding],[data-overlayscrollbars-grid]>[data-overlayscrollbars-viewport],[data-overlayscrollbars-grid]>[data-overlayscrollbars-padding]>[data-overlayscrollbars-viewport]{height:auto!important;width:auto!important}@property --os-scroll-percent{syntax: "<number>"; inherits: true; initial-value: 0;}@property --os-viewport-percent{syntax: "<number>"; inherits: true; initial-value: 0;}.os-scrollbar{--os-viewport-percent: 0;--os-scroll-percent: 0;--os-scroll-direction: 0;--os-scroll-percent-directional: calc( var(--os-scroll-percent) - (var(--os-scroll-percent) + (1 - var(--os-scroll-percent)) * -1) * var(--os-scroll-direction) )}.os-scrollbar{contain:size layout;contain:size layout style;transition:opacity .15s,visibility .15s,top .15s,right .15s,bottom .15s,left .15s;pointer-events:none;position:absolute;opacity:0;visibility:hidden}body>.os-scrollbar{position:fixed;z-index:99999}.os-scrollbar-transitionless{transition:none!important}.os-scrollbar-track{position:relative;padding:0!important;border:none!important}.os-scrollbar-handle{position:absolute}.os-scrollbar-track,.os-scrollbar-handle{pointer-events:none;width:100%;height:100%}.os-scrollbar.os-scrollbar-track-interactive .os-scrollbar-track,.os-scrollbar.os-scrollbar-handle-interactive .os-scrollbar-handle{pointer-events:auto;touch-action:none}.os-scrollbar-horizontal{bottom:0;left:0}.os-scrollbar-vertical{top:0;right:0}.os-scrollbar-rtl.os-scrollbar-horizontal{right:0}.os-scrollbar-rtl.os-scrollbar-vertical{right:auto;left:0}.os-scrollbar-visible{opacity:1;visibility:visible}.os-scrollbar-auto-hide.os-scrollbar-auto-hide-hidden{opacity:0;visibility:hidden}.os-scrollbar-interaction.os-scrollbar-visible{opacity:1;visibility:visible}.os-scrollbar-unusable,.os-scrollbar-unusable *,.os-scrollbar-wheel,.os-scrollbar-wheel *{pointer-events:none!important}.os-scrollbar-unusable .os-scrollbar-handle{opacity:0!important;transition:none!important}.os-scrollbar-horizontal .os-scrollbar-handle{bottom:0;left:calc(var(--os-scroll-percent-directional) * 100%);transform:translate(calc(var(--os-scroll-percent-directional) * -100%));width:calc(var(--os-viewport-percent) * 100%)}.os-scrollbar-vertical .os-scrollbar-handle{right:0;top:calc(var(--os-scroll-percent-directional) * 100%);transform:translateY(calc(var(--os-scroll-percent-directional) * -100%));height:calc(var(--os-viewport-percent) * 100%)}@supports (container-type: size){.os-scrollbar-track{container-type:size}.os-scrollbar-horizontal .os-scrollbar-handle{left:auto;transform:translate(calc(var(--os-scroll-percent-directional) * 100cqw + var(--os-scroll-percent-directional) * -100%))}.os-scrollbar-vertical .os-scrollbar-handle{top:auto;transform:translateY(calc(var(--os-scroll-percent-directional) * 100cqh + var(--os-scroll-percent-directional) * -100%))}.os-scrollbar-rtl.os-scrollbar-horizontal .os-scrollbar-handle{right:auto;left:0}}.os-scrollbar-rtl.os-scrollbar-vertical .os-scrollbar-handle{right:auto;left:0}.os-scrollbar.os-scrollbar-horizontal.os-scrollbar-cornerless,.os-scrollbar.os-scrollbar-horizontal.os-scrollbar-cornerless.os-scrollbar-rtl{left:0;right:0}.os-scrollbar.os-scrollbar-vertical.os-scrollbar-cornerless,.os-scrollbar.os-scrollbar-vertical.os-scrollbar-cornerless.os-scrollbar-rtl{top:0;bottom:0}@media print{.os-scrollbar{display:none}}.os-scrollbar{--os-size: 0;--os-padding-perpendicular: 0;--os-padding-axis: 0;--os-track-border-radius: 0;--os-track-bg: none;--os-track-bg-hover: none;--os-track-bg-active: none;--os-track-border: none;--os-track-border-hover: none;--os-track-border-active: none;--os-handle-border-radius: 0;--os-handle-bg: none;--os-handle-bg-hover: none;--os-handle-bg-active: none;--os-handle-border: none;--os-handle-border-hover: none;--os-handle-border-active: none;--os-handle-min-size: 33px;--os-handle-max-size: none;--os-handle-perpendicular-size: 100%;--os-handle-perpendicular-size-hover: 100%;--os-handle-perpendicular-size-active: 100%;--os-handle-interactive-area-offset: 0}.os-scrollbar-track{border:var(--os-track-border);border-radius:var(--os-track-border-radius);background:var(--os-track-bg);transition:opacity .15s,background-color .15s,border-color .15s}.os-scrollbar-track:hover{border:var(--os-track-border-hover);background:var(--os-track-bg-hover)}.os-scrollbar-track:active{border:var(--os-track-border-active);background:var(--os-track-bg-active)}.os-scrollbar-handle{border:var(--os-handle-border);border-radius:var(--os-handle-border-radius);background:var(--os-handle-bg)}.os-scrollbar-handle:hover{border:var(--os-handle-border-hover);background:var(--os-handle-bg-hover)}.os-scrollbar-handle:active{border:var(--os-handle-border-active);background:var(--os-handle-bg-active)}.os-scrollbar-track:before,.os-scrollbar-handle:before{content:"";position:absolute;left:0;right:0;top:0;bottom:0;display:block}.os-scrollbar-horizontal{padding:var(--os-padding-perpendicular) var(--os-padding-axis);right:var(--os-size);height:var(--os-size)}.os-scrollbar-horizontal.os-scrollbar-rtl{left:var(--os-size);right:0}.os-scrollbar-horizontal .os-scrollbar-track:before{top:calc(var(--os-padding-perpendicular) * -1);bottom:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-horizontal .os-scrollbar-handle{min-width:var(--os-handle-min-size);max-width:var(--os-handle-max-size);height:var(--os-handle-perpendicular-size);transition:opacity .15s,background-color .15s,border-color .15s,height .15s}.os-scrollbar-horizontal .os-scrollbar-handle:before{top:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);bottom:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-horizontal:hover .os-scrollbar-handle{height:var(--os-handle-perpendicular-size-hover)}.os-scrollbar-horizontal:active .os-scrollbar-handle{height:var(--os-handle-perpendicular-size-active)}.os-scrollbar-vertical{padding:var(--os-padding-axis) var(--os-padding-perpendicular);bottom:var(--os-size);width:var(--os-size)}.os-scrollbar-vertical .os-scrollbar-track:before{left:calc(var(--os-padding-perpendicular) * -1);right:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical .os-scrollbar-handle{min-height:var(--os-handle-min-size);max-height:var(--os-handle-max-size);width:var(--os-handle-perpendicular-size);transition:opacity .15s,background-color .15s,border-color .15s,width .15s}.os-scrollbar-vertical .os-scrollbar-handle:before{left:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);right:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical.os-scrollbar-rtl .os-scrollbar-handle:before{right:calc((var(--os-padding-perpendicular) + var(--os-handle-interactive-area-offset)) * -1);left:calc(var(--os-padding-perpendicular) * -1)}.os-scrollbar-vertical:hover .os-scrollbar-handle{width:var(--os-handle-perpendicular-size-hover)}.os-scrollbar-vertical:active .os-scrollbar-handle{width:var(--os-handle-perpendicular-size-active)}[data-overlayscrollbars-viewport~=measuring]>.os-scrollbar,.os-theme-none.os-scrollbar{display:none!important}.os-theme-dark,.os-theme-light{box-sizing:border-box;--os-size: 10px;--os-padding-perpendicular: 2px;--os-padding-axis: 2px;--os-track-border-radius: 10px;--os-handle-interactive-area-offset: 4px;--os-handle-border-radius: 10px}.os-theme-dark{--os-handle-bg: rgba(0, 0, 0, .44);--os-handle-bg-hover: rgba(0, 0, 0, .55);--os-handle-bg-active: rgba(0, 0, 0, .66)}.os-theme-light{--os-handle-bg: rgba(255, 255, 255, .44);--os-handle-bg-hover: rgba(255, 255, 255, .55);--os-handle-bg-active: rgba(255, 255, 255, .66)}\n',document.head.appendChild(ee),s({H:function(e){var t=e.onRetry;return T.jsxs("div",{className:Qs.error,children:[T.jsx("p",{className:Qs.message,children:"There was a problem while trying to load the widget"}),T.jsx("button",{className:Qs.retry,onClick:t,children:"Try again"})]})},J:function(e,t){op(e,t,up)},K:function(e){var t=e.children,n=v(S.useState(null),2),r=n[0],u=n[1];S.useLayoutEffect((function(){var e=document.getElementById(nc);u(e)}),[]);var a=S.useMemo((function(){return{element:r}}),[r]);return T.jsxs(Xs.Provider,{value:a,children:[r?t:null,T.jsx("div",{id:nc})]})},Q:Qi,m:Qf,q:tc,s:Ae,v:yc});var te=s("n",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",n=crypto.getRandomValues(new Uint8Array(e));e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&n[e]];return t})),ne=72e6,re={getAccessToken:"GET_ACCESS_TOKEN",getConversationAndParticipant:"CREATE_CONVERSATION_AND_PARTICIPANT"},ue="twilio",ae=s("P",{Start:"start",Loading:"loading",Conversation:"conversation",InitialScreen:"initial_screen",End:"end",Error:"error"}),oe=s("F",{preloadClient:"preloadClient",conversationCreated:"conversationCreated",conversationEnded:"conversationEnded",conversationEndedByError:"conversationEndedByError",resetFrame:"resetFrame",enableScreenLoading:"enableScreenLoading"}),ie="ltr",se="rtl",ce=["sa-AR","eg-AR"],le={BUTTONS:10,CAROUSEL_CARDS:10,CAROUSEL_BUTTONS:3,FILE_SIZE:10485760},de=(s("X",2),s("f",680)),fe=(s("W",64),/^(?!.{256})(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i),pe=/^(\+\d{1,3}\s?)\(?\d{1,3}\)?[\s-]?\d{3,4}[\s-]?\d{3,5}/i,he=(s("Y",5),{US1:"us1",IE1:"ie1"}),ve={tdGatewayUs:"/tdgateway/us",tdGatewayEu:"/tdgateway/eu",tdGatewayCa:"/tdgateway/ca",tdGatewayUsFed:"/tdgateway/usfed",tdChatSdk:"/tdchatsdk",tdReporter:"/tdreporter",twilioUs1:"/tdsocketprovider/us1/v3/wsconnect",twilioIe1:"/tdsocketprovider/ie1/v3/wsconnect",twilioMcsUs1:"/tdmcsprovider/us1",twilioMcsIe1:"/tdmcsprovider/ie1",twilioMediaUs1:"/tdmediaprovider/us1",twilioMediaIe1:"/tdmediaprovider/ie1"},ge=["botIcon","botIconVerticalAlign","chatIcon","chatTitleIcon","chatTitle","chatSubtitle","customFieldPhoneDescription","customFieldPhoneInvalidFormatMessage","customFieldEmailInvalidFormatMessage","customFieldInputPlaceholder","customDropdownInputPlaceholder","chatConfirmButtonEndChat","chatCancelButtonEndChat","chatDialogBoxEndChat","chatPlaceholder","chatAriaLabel","startChatButtonLabel","endedChatMessage","linkProtocol","linkTarget","chatDialogBoxRetryEndChat","chatConfirmButtonRetryEndChat","chatCancelButtonRetryEndChat"],me=("".concat(de,"px"),{botIcon:"",botIconVerticalAlign:"top",chatIcon:"",chatTitleIcon:"",chatTitle:"Talkdesk",chatSubtitle:"",customFieldPhoneDescription:"",customFieldPhoneInvalidFormatMessage:"",customFieldEmailInvalidFormatMessage:"",customFieldInputPlaceholder:"Type",customDropdownInputPlaceholder:"",chatConfirmButtonEndChat:"",chatCancelButtonEndChat:"",chatDialogBoxEndChat:"",chatPlaceholder:"",chatAriaLabel:"",startChatButtonLabel:"",endedChatMessage:"",linkProtocol:"https",linkTarget:"_blank",chatDialogBoxRetryEndChat:"",chatConfirmButtonRetryEndChat:"",chatCancelButtonRetryEndChat:""});function De(e){return"string"==typeof e?e:null==e?void 0:e.message}function _e(e){var t=F(e).map((function(e,t){return(n=e.charCodeAt(0))>=65&&n<=90?0===t?e.toLowerCase():"-"+e.toLowerCase():e;var n})).join("");return"--".concat(t)}function ye(e,t){var n;if(n="string"==typeof e?e.indexOf("#")>-1?document.querySelector(e):document.getElementById(e):e)return function(e,t){var n=Object.keys(t);return n.length?n.reduce((function(n,r){return r.indexOf("-")>-1||r.indexOf("_")>-1?n:(e.style.setProperty(_e(r),t[r]),E(E({},n),{},A({},_e(r),t[r])))}),{}):{}}(n,t)}function be(e,t){try{return JSON.stringify(e)}catch(xc){return""}}function Ce(e,t,n){try{return JSON.parse(e)}catch(xc){return null==n||n(xc),t}}var Ee=function(){return b((function e(t){var n=this;_(this,e),A(this,"_status","pending"),A(this,"_suspender",void 0),A(this,"_result",void 0),A(this,"_error",void 0),this._suspender=t.then((function(e){n._status="fulfilled",n._result=e})).catch((function(e){n._status="rejected",n._error=e}))}),[{key:"status",get:function(){return this._status}},{key:"load",value:function(){if("pending"===this._status)throw this._suspender;if("rejected"===this._status)throw this._error;if("fulfilled"===this._status)return this._result;var e=this._status;throw new Error('Status "'.concat(e,'" is not supported'))}}])}();function Ae(e){return new Promise((function(t){e<=0?t(!0):setTimeout((function(){return t(!0)}),e)}))}function xe(e){return Math.min(2e3*e,3e4)}function Fe(e){return we.apply(this,arguments)}function we(){return we=D(g().mark((function e(t){var n,r,u,a,o,i,s,c,l=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=l.length>1&&void 0!==l[1]?l[1]:{}).defaultRetry,u=void 0===r?5:r,a=n.retryDelay,o=void 0===a?xe:a,i=n.onError,!(u<=0)){e.next=6;break}return e.next=5,t();case 5:return e.abrupt("return",e.sent);case 6:return s=0,c=function(){var e=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:case 16:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),null==i||i(e.t0,s),s!==u){e.next=11;break}throw e.t0;case 11:return s+=1,e.next=14,Ae("function"==typeof o?o(s):o);case 14:return e.next=16,c();case 17:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",c());case 9:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}var ke={Topic:"WidgetCommunication",Methods:{Maximize:"Maximize",Minimize:"Minimize",GetAllConfig:"GetAllConfig",GetCredentials:"GetCredentials",GetTdAccessToken:"GetTdAccessToken",SetBadge:"SetBadge",FrameOpened:"FrameOpened",DownloadTranscript:"DownloadTranscript",UpdatePreviewConfig:"UpdatePreviewConfig",PreviewReady:"PreviewReady",ConversationStart:"ConversationStart",FrameReady:"FrameReady",FrameResize:"FrameResize",UpdateAppConfigs:"UpdateAppConfigs",UpdateContext:"UpdateContext",OnSend:"OnSend",UpdateMessage:"UpdateMessage",OnComposer:"OnComposer"}},Be=s("V",{Image:"image",Video:"video",Audio:"audio",File:"file"}),je=b((function e(){_(this,e),A(this,"enableSplitTwilioBootstrap",void 0),A(this,"participantName",void 0),A(this,"feedbackFlowId",void 0),A(this,"appearanceConfig",{initialScreen:{showInitialScreen:!1,welcomeMessage:{title:"",subtitle:""},controls:[]},chat:{messages:[]},generalSettings:{showCloseConversationButton:!1,showChatTranscriptsDownloadButton:!1,showTypingIndicatorButton:!1}}),A(this,"appConfig",{enableEmoji:!0,enableAttachments:!0,enableValidation:!1,enableResponsiveLayout:!0,enablePointMoveTriggerButton:!1,enableUserInput:!0,languageCode:"en-US"}),A(this,"appProps",{touchpointId:"",accountId:"",region:"td-us-1"}),A(this,"options",E({},me)),A(this,"styles",{}),A(this,"context",{}),A(this,"injectorWindowHostname","")})),Se=s("_",(function(e,t,n){var r=Promise.resolve();return r.then((function(){return e()})).catch((function(e){var t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))}));var Te,Oe,Ie,Ne,Le,Me,Pe,ze,Re=(Ie=Oe="en-US",Ne=!1,Le=null,Me=[],Pe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")||navigator.language||Oe;return Me.indexOf(e)>-1?e:Me.find((function(t){return t.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1}))||Oe},ze=function(){var e=D(g().mark((function e(){var t,n=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",Ne=!0,e.next=4,Se(D(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.import("./index-legacy-ClWMq6wk.js");case 2:return t=e.sent,n=t.default,e.abrupt("return",{default:n});case 5:case"end":return e.stop()}}),e)}))),void 0,l.meta.url);case 4:return Le=e.sent.default,Me=Object.keys(Le),Ie=Pe(t),e.next=9,d.use(p).init({lng:Ie,fallbackLng:Oe,resources:Le,keySeparator:!1,supportedLngs:Me,interpolation:{escapeValue:!1},react:{useSuspense:!1}});case 9:return e.abrupt("return",Ie);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),{changeLanguage:(Te=D(g().mark((function e(){var t,n=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:"",Ne){e.next=5;break}return e.next=4,ze(t);case 4:return e.abrupt("return",e.sent);case 5:if(t!==Ie){e.next=7;break}return e.abrupt("return",Ie);case 7:return Ie=Pe(t),e.next=10,d.changeLanguage(Ie);case 10:return e.abrupt("return",Ie);case 11:case"end":return e.stop()}}),e)}))),function(){return Te.apply(this,arguments)}),get current(){return Ie}}),Ze={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]};function Ue(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=String(t),a=function(e,t){return"[".concat(t[0],"m").concat(e,"[").concat(t[1],"m")},o=function(e,t){return null!=t&&"string"==typeof t?a(e,Ze[t]):null!=t&&Array.isArray(t)?t.reduce((function(e,t){return o(e,t)}),e):null!=t&&null!=t[e.trim()]?o(e,t[e.trim()]):null!=t&&null!=t["*"]?o(e,t["*"]):e};return u.replace(/{{(.+?)}}/g,(function(t,u){var i,s,c=null!=n[u]?String(n[u]):r?"":t;return e.stylePrettyLogs?o(c,null!==(i=null==e||null===(s=e.prettyLogStyles)||void 0===s?void 0:s[u])&&void 0!==i?i:null)+a("",Ze.reset):c}))}function Ve(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!=e&&isNaN(e)?"":(e=null!=e?e+n:e,2===t?null==e?"--":e<10?"0"+e:e.toString():null==e?"---":e<10?"00"+e:e<100?"0"+e:e.toString())}function He(e){var t=new Set;return JSON.stringify(e,(function(e,n){if("object"===h(n)&&null!==n){if(t.has(n))return"[Circular]";t.add(n)}return"bigint"==typeof n?"".concat(n):n}))}function We(e,t){var n={seen:[],stylize:Ye};return null!=t&&st(n,t),qe(n.showHidden)&&(n.showHidden=!1),qe(n.depth)&&(n.depth=2),qe(n.colors)&&(n.colors=!0),qe(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=Ge),at(n,e,n.depth)}function qe(e){return void 0===e}function Ye(e){return e}function Ge(e,t){var n,r,u=We.styles[t];return null!=u&&null!=(null==We||null===(n=We.colors)||void 0===n||null===(n=n[u])||void 0===n?void 0:n[0])&&null!=(null==We||null===(r=We.colors)||void 0===r||null===(r=r[u])||void 0===r?void 0:r[1])?"["+We.colors[u][0]+"m"+e+"["+We.colors[u][1]+"m":e}function $e(e){return"function"==typeof e}function Ke(e){return"string"==typeof e}function Je(e){return null===e}function Qe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xe(e){return et(e)&&"[object RegExp]"===rt(e)}function et(e){return"object"===h(e)&&null!==e}function tt(e){return et(e)&&("[object Error]"===rt(e)||e instanceof Error)}function nt(e){return et(e)&&"[object Date]"===rt(e)}function rt(e){return Object.prototype.toString.call(e)}function ut(e){return"["+Error.prototype.toString.call(e)+"]"}function at(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e.customInspect&&null!=t&&$e(t)&&(null==t?void 0:t.inspect)!==We&&(null==t||!t.constructor||(null==t?void 0:t.constructor.prototype)!==t)){if("function"!=typeof t.inspect&&null!=t.toString)return t.toString();var r=null==t?void 0:t.inspect(n,e);return Ke(r)||(r=at(e,r,n)),r}var u=it(e,t);if(u)return u;var a=Object.keys(t),o=function(e){var t={};return e.forEach((function(e){t[e]=!0})),t}(a);try{e.showHidden&&Object.getOwnPropertyNames&&(a=Object.getOwnPropertyNames(t))}catch(xc){}if(tt(t)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return ut(t);if(0===a.length){if(!$e(e.stylize))return t;if($e(t)){var i=t.name?": "+t.name:"";return e.stylize("[Function"+i+"]","special")}if(Xe(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(nt(t))return e.stylize(Date.prototype.toISOString.call(t),"date");if(tt(t))return ut(t)}var s,c="",l=!1,d=["{\n","\n}"];(Array.isArray(t)&&(l=!0,d=["[\n","\n]"]),$e(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return Xe(t)&&(c=" "+RegExp.prototype.toString.call(t)),nt(t)&&(c=" "+Date.prototype.toUTCString.call(t)),tt(t)&&(c=" "+ut(t)),0!==a.length||l&&0!=t.length?n<0?Xe(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=l?function(e,t,n,r,u){for(var a=[],o=0,i=t.length;o<i;++o)Qe(t,String(o))?a.push(ot(e,t,n,r,String(o),!0)):a.push("");return u.forEach((function(u){u.match(/^\d+$/)||a.push(ot(e,t,n,r,u,!0))})),a}(e,t,n,o,a):a.map((function(r){return ot(e,t,n,o,r,l)})),e.seen.pop(),function(e,t,n){return n[0]+(""===t?"":t+"\n")+"  "+e.join(",\n  ")+" "+n[1]}(s,c,d)):d[0]+c+d[1]}function ot(e,t,n,r,u,a){var o,i,s={value:void 0};try{s.value=t[u]}catch(xc){}try{Object.getOwnPropertyDescriptor&&(s=Object.getOwnPropertyDescriptor(t,u)||s)}catch(xc){}if(s.get?i=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(i=e.stylize("[Setter]","special")),Qe(r,u)||(o="["+u+"]"),i||(e.seen.indexOf(s.value)<0?(i=Je(n)?at(e,s.value,void 0):at(e,s.value,n-1)).indexOf("\n")>-1&&(i=a?i.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+i.split("\n").map((function(e){return"   "+e})).join("\n")):i=e.stylize("[Circular]","special")),qe(o)){if(a&&u.match(/^\d+$/))return i;(o=JSON.stringify(""+u)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,"\\'").replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+i}function it(e,t){if(qe(t))return e.stylize("undefined","undefined");if(Ke(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,"\\'")+"'";return e.stylize(n,"string")}return"number"==typeof t?e.stylize(""+t,"number"):function(e){return"boolean"==typeof e}(t)?e.stylize(""+t,"boolean"):Je(t)?e.stylize("null","null"):void 0}function st(e,t){var n=E({},e);if(!t||!et(t))return e;for(var r=E({},t),u=Object.keys(t),a=u.length;a--;)n[u[a]]=r[u[a]];return n}function ct(e){var t={seen:[],stylize:Ye};null!=e&&st(t,e);for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];var a=r[0],o=0,i="",s="";if("string"==typeof a){if(1===r.length)return a;for(var c,l=0,d=0;d<a.length-1;d++)if(37===a.charCodeAt(d)){var f=a.charCodeAt(++d);if(o+1!==r.length){switch(f){case 115:var p=r[++o];c="number"==typeof p||"bigint"==typeof p?it(t,p):"object"!==h(p)||null===p?String(p):We(p,E(E({},e),{},{compact:3,colors:!1,depth:0}));break;case 106:c=He(r[++o]);break;case 100:var v=r[++o];c="bigint"==typeof v?it(t,v):"symbol"===h(v)?"NaN":it(t,v);break;case 79:c=We(r[++o],e);break;case 111:c=We(r[++o],E(E({},e),{},{showHidden:!0,showProxy:!0,depth:4}));break;case 105:var g=r[++o];c="bigint"==typeof g?it(t,g):"symbol"===h(g)?"NaN":it(t,parseInt(c));break;case 102:var m=r[++o];c="symbol"===h(m)?"NaN":it(t,parseInt(m));break;case 99:o+=1,c="";break;case 37:i+=a.slice(l,d),l=d+1;continue;default:continue}l!==d-1&&(i+=a.slice(l,d-1)),i+=c,l=d+1}else 37===f&&(i+=a.slice(l,d),l=d+1)}0!==l&&(o++,s=" ",l<a.length&&(i+=a.slice(l)))}for(;o<r.length;){var D=r[o];i+=s,i+="string"!=typeof D?We(D,e):D,s=" ",o++}return i}We.colors=Ze,We.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var lt={getCallerStackFrame:pt,getErrorTrace:ht,getMeta:function(e,t,n,r,u,a){return Object.assign({},dt,{name:u,parentNames:a,date:new Date,logLevelId:e,logLevelName:t,path:r?void 0:pt(n)})},transportJSON:function(e){console.log(He(e))},transportFormatted:function(e,t,n,r){var u=(n.length>0&&t.length>0?"\n":"")+n.join("\n");r.prettyInspectOptions.colors=r.stylePrettyLogs,console.log(e+ct.apply(void 0,[r.prettyInspectOptions].concat(F(t)))+u)},isBuffer:function(e){return!1},isError:gt,prettyFormatLogObj:function(e,t){return e.reduce((function(e,n){return gt(n)?e.errors.push(mt(n,t)):e.args.push(n),e}),{args:[],errors:[]})},prettyFormatErrorObj:mt},dt={runtime:["undefined"==typeof window?"undefined":h(window),"undefined"==typeof document?"undefined":h(document)].includes("undefined")?"Generic":"Browser",browser:null===globalThis||void 0===globalThis||null===(X=globalThis.navigator)||void 0===X?void 0:X.userAgent},ft=/(?:(?:file|https?|global code|[^@]+)@)?(?:file:)?((?:\/[^:/]+){2,})(?::(\d+))?(?::(\d+))?/;function pt(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Error();return vt(null==n||null===(t=n.stack)||void 0===t||null===(t=t.split("\n"))||void 0===t||null===(t=t.filter((function(e){return!e.includes("Error: ")})))||void 0===t?void 0:t[e])}function ht(e){var t,n,r;return null===(t=null!==(n=null==e||null===(r=e.stack)||void 0===r?void 0:r.split("\n"))&&void 0!==n?n:[])||void 0===t||null===(t=t.filter((function(e){return!e.includes("Error: ")})))||void 0===t?void 0:t.reduce((function(e,t){return e.push(vt(t)),e}),[])}function vt(e){var t,n=null===globalThis||void 0===globalThis||null===(t=globalThis.location)||void 0===t?void 0:t.origin,r={fullFilePath:void 0,fileName:void 0,fileNameWithLine:void 0,fileColumn:void 0,fileLine:void 0,filePath:void 0,filePathWithLine:void 0,method:void 0};if(null!=e){var u=e.match(ft);if(u){r.filePath=u[1].replace(/\?.*$/,""),r.fullFilePath="".concat(n).concat(r.filePath);var a=r.filePath.split("/");r.fileName=a[a.length-1],r.fileLine=u[2],r.fileColumn=u[3],r.filePathWithLine="".concat(r.filePath,":").concat(r.fileLine),r.fileNameWithLine="".concat(r.fileName,":").concat(r.fileLine)}}return r}function gt(e){return e instanceof Error}function mt(e,t){var n=ht(e).map((function(e){return Ue(t,t.prettyErrorStackTemplate,E({},e),!0)})),r={errorName:" ".concat(e.name," "),errorMessage:Object.getOwnPropertyNames(e).reduce((function(t,n){return"stack"!==n&&t.push(e[n]),t}),[]).join(", "),errorStack:n.join("\n")};return Ue(t,t.prettyErrorTemplate,r)}var Dt=function(){return b((function e(t,n){var r,u,a,o,i,s,c,l,d,f,p,h,v,g,m,D,y,b,C,E,A,x,w,k,B,j,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;_(this,e),this.logObj=n,this.stackDepthLevel=S,this.runtime=lt,this.settings={type:null!==(r=null==t?void 0:t.type)&&void 0!==r?r:"pretty",name:null==t?void 0:t.name,parentNames:null==t?void 0:t.parentNames,minLevel:null!==(u=null==t?void 0:t.minLevel)&&void 0!==u?u:0,argumentsArrayName:null==t?void 0:t.argumentsArrayName,hideLogPositionForProduction:null!==(a=null==t?void 0:t.hideLogPositionForProduction)&&void 0!==a&&a,prettyLogTemplate:null!==(o=null==t?void 0:t.prettyLogTemplate)&&void 0!==o?o:"{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}\t{{logLevelName}}\t{{filePathWithLine}}{{nameWithDelimiterPrefix}}\t",prettyErrorTemplate:null!==(i=null==t?void 0:t.prettyErrorTemplate)&&void 0!==i?i:"\n{{errorName}} {{errorMessage}}\nerror stack:\n{{errorStack}}",prettyErrorStackTemplate:null!==(s=null==t?void 0:t.prettyErrorStackTemplate)&&void 0!==s?s:"  • {{fileName}}\t{{method}}\n\t{{filePathWithLine}}",prettyErrorParentNamesSeparator:null!==(c=null==t?void 0:t.prettyErrorParentNamesSeparator)&&void 0!==c?c:":",prettyErrorLoggerNameDelimiter:null!==(l=null==t?void 0:t.prettyErrorLoggerNameDelimiter)&&void 0!==l?l:"\t",stylePrettyLogs:null===(d=null==t?void 0:t.stylePrettyLogs)||void 0===d||d,prettyLogTimeZone:null!==(f=null==t?void 0:t.prettyLogTimeZone)&&void 0!==f?f:"UTC",prettyLogStyles:null!==(p=null==t?void 0:t.prettyLogStyles)&&void 0!==p?p:{logLevelName:{"*":["bold","black","bgWhiteBright","dim"],SILLY:["bold","white"],TRACE:["bold","whiteBright"],DEBUG:["bold","green"],INFO:["bold","blue"],WARN:["bold","yellow"],ERROR:["bold","red"],FATAL:["bold","redBright"]},dateIsoStr:"white",filePathWithLine:"white",name:["white","bold"],nameWithDelimiterPrefix:["white","bold"],nameWithDelimiterSuffix:["white","bold"],errorName:["bold","bgRedBright","whiteBright"],fileName:["yellow"],fileNameWithLine:"white"},prettyInspectOptions:null!==(h=null==t?void 0:t.prettyInspectOptions)&&void 0!==h?h:{colors:!0,compact:!1,depth:1/0},metaProperty:null!==(v=null==t?void 0:t.metaProperty)&&void 0!==v?v:"_meta",maskPlaceholder:null!==(g=null==t?void 0:t.maskPlaceholder)&&void 0!==g?g:"[***]",maskValuesOfKeys:null!==(m=null==t?void 0:t.maskValuesOfKeys)&&void 0!==m?m:["password"],maskValuesOfKeysCaseInsensitive:null!==(D=null==t?void 0:t.maskValuesOfKeysCaseInsensitive)&&void 0!==D&&D,maskValuesRegEx:null==t?void 0:t.maskValuesRegEx,prefix:F(null!==(y=null==t?void 0:t.prefix)&&void 0!==y?y:[]),attachedTransports:F(null!==(b=null==t?void 0:t.attachedTransports)&&void 0!==b?b:[]),overwrite:{mask:null==t||null===(C=t.overwrite)||void 0===C?void 0:C.mask,toLogObj:null==t||null===(E=t.overwrite)||void 0===E?void 0:E.toLogObj,addMeta:null==t||null===(A=t.overwrite)||void 0===A?void 0:A.addMeta,addPlaceholders:null==t||null===(x=t.overwrite)||void 0===x?void 0:x.addPlaceholders,formatMeta:null==t||null===(w=t.overwrite)||void 0===w?void 0:w.formatMeta,formatLogObj:null==t||null===(k=t.overwrite)||void 0===k?void 0:k.formatLogObj,transportFormatted:null==t||null===(B=t.overwrite)||void 0===B?void 0:B.transportFormatted,transportJSON:null==t||null===(j=t.overwrite)||void 0===j?void 0:j.transportJSON}}}),[{key:"log",value:function(e,t){var n,r,u,a,o,i,s,c;if(!(e<this.settings.minLevel)){for(var l=arguments.length,d=new Array(l>2?l-2:0),f=2;f<l;f++)d[f-2]=arguments[f];var p,h,v,g,m,D,_,y,b,C=[].concat(F(this.settings.prefix),d),E=null!=(null===(n=this.settings.overwrite)||void 0===n?void 0:n.mask)?null===(r=this.settings.overwrite)||void 0===r?void 0:r.mask(C):null!=this.settings.maskValuesOfKeys&&this.settings.maskValuesOfKeys.length>0?this._mask(C):C,A=null!=this.logObj?this._recursiveCloneAndExecuteFunctions(this.logObj):void 0,x=null!=(null===(u=this.settings.overwrite)||void 0===u?void 0:u.toLogObj)?null===(a=this.settings.overwrite)||void 0===a?void 0:a.toLogObj(E,A):this._toLogObj(E,A),w=null!=(null===(o=this.settings.overwrite)||void 0===o?void 0:o.addMeta)?null===(i=this.settings.overwrite)||void 0===i?void 0:i.addMeta(x,e,t):this._addMetaToLogObj(x,e,t),k=void 0;if(null!=(null===(s=this.settings.overwrite)||void 0===s?void 0:s.formatMeta))p=null===(h=this.settings.overwrite)||void 0===h?void 0:h.formatMeta(null==w?void 0:w[this.settings.metaProperty]);if(null!=(null===(c=this.settings.overwrite)||void 0===c?void 0:c.formatLogObj))k=null===(v=this.settings.overwrite)||void 0===v?void 0:v.formatLogObj(E,this.settings);if("pretty"===this.settings.type)p=null!==(g=p)&&void 0!==g?g:this._prettyFormatLogObjMeta(null==w?void 0:w[this.settings.metaProperty]),k=null!==(m=k)&&void 0!==m?m:this.runtime.prettyFormatLogObj(E,this.settings);if(null!=p&&null!=k)null!=(null===(D=this.settings.overwrite)||void 0===D?void 0:D.transportFormatted)?null===(_=this.settings.overwrite)||void 0===_||_.transportFormatted(p,k.args,k.errors,this.settings):this.runtime.transportFormatted(p,k.args,k.errors,this.settings);else null!=(null===(y=this.settings.overwrite)||void 0===y?void 0:y.transportJSON)?null===(b=this.settings.overwrite)||void 0===b||b.transportJSON(w):"hidden"!==this.settings.type&&this.runtime.transportJSON(w);return null!=this.settings.attachedTransports&&this.settings.attachedTransports.length>0&&this.settings.attachedTransports.forEach((function(e){e(w)})),w}}},{key:"attachTransport",value:function(e){this.settings.attachedTransports.push(e)}},{key:"getSubLogger",value:function(e,t){var n,r,u,a,o=E(E(E({},this.settings),e),{},{parentNames:null!=(null===(n=this.settings)||void 0===n?void 0:n.parentNames)&&null!=(null===(r=this.settings)||void 0===r?void 0:r.name)?[].concat(F(this.settings.parentNames),[this.settings.name]):null!=(null===(u=this.settings)||void 0===u?void 0:u.name)?[this.settings.name]:void 0,prefix:[].concat(F(this.settings.prefix),F(null!==(a=null==e?void 0:e.prefix)&&void 0!==a?a:[]))});return new this.constructor(o,null!=t?t:this.logObj,this.stackDepthLevel)}},{key:"_mask",value:function(e){var t=this,n=!0!==this.settings.maskValuesOfKeysCaseInsensitive?this.settings.maskValuesOfKeys:this.settings.maskValuesOfKeys.map((function(e){return e.toLowerCase()}));return null==e?void 0:e.map((function(e){return t._recursiveCloneAndMaskValuesOfKeys(e,n)}))}},{key:"_recursiveCloneAndMaskValuesOfKeys",value:function(e,t){var n,r=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(u.includes(e))return E({},e);if("object"===h(e)&&null!==e&&u.push(e),this.runtime.isError(e)||this.runtime.isBuffer(e))return e;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Array.isArray(e))return e.map((function(e){return r._recursiveCloneAndMaskValuesOfKeys(e,t,u)}));if(e instanceof Date)return new Date(e.getTime());if(e instanceof URL)return{href:(n=e).href,protocol:n.protocol,username:n.username,password:n.password,host:n.host,hostname:n.hostname,port:n.port,pathname:n.pathname,search:n.search,searchParams:F(n.searchParams).map((function(e){var t=v(e,2);return{key:t[0],value:t[1]}})),hash:n.hash,origin:n.origin};if(null!==e&&"object"===h(e)){var a=this.runtime.isError(e)?this._cloneError(e):Object.create(Object.getPrototypeOf(e));return Object.getOwnPropertyNames(e).reduce((function(n,a){var o;return n[a]=t.includes(!0!==(null===(o=r.settings)||void 0===o?void 0:o.maskValuesOfKeysCaseInsensitive)?a:a.toLowerCase())?r.settings.maskPlaceholder:function(){try{return r._recursiveCloneAndMaskValuesOfKeys(e[a],t,u)}catch(xc){return null}}(),n}),a)}if("string"==typeof e){var o,i,s=e,c=w((null===(o=this.settings)||void 0===o?void 0:o.maskValuesRegEx)||[]);try{for(c.s();!(i=c.n()).done;){var l,d=i.value;s=s.replace(d,(null===(l=this.settings)||void 0===l?void 0:l.maskPlaceholder)||"")}}catch(f){c.e(f)}finally{c.f()}return s}return e}},{key:"_recursiveCloneAndExecuteFunctions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.isObjectOrArray(e)&&n.includes(e)?this.shallowCopy(e):(this.isObjectOrArray(e)&&n.push(e),Array.isArray(e)?e.map((function(e){return t._recursiveCloneAndExecuteFunctions(e,n)})):e instanceof Date?new Date(e.getTime()):this.isObject(e)?Object.getOwnPropertyNames(e).reduce((function(r,u){var a=Object.getOwnPropertyDescriptor(e,u);if(a){Object.defineProperty(r,u,a);var o=e[u];r[u]="function"==typeof o?o():t._recursiveCloneAndExecuteFunctions(o,n)}return r}),Object.create(Object.getPrototypeOf(e))):e)}},{key:"isObjectOrArray",value:function(e){return"object"===h(e)&&null!==e}},{key:"isObject",value:function(e){return"object"===h(e)&&!Array.isArray(e)&&null!==e}},{key:"shallowCopy",value:function(e){return Array.isArray(e)?F(e):E({},e)}},{key:"_toLogObj",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=null===(t=e)||void 0===t?void 0:t.map((function(e){return n.runtime.isError(e)?n._toErrorObject(e):e})),r=null==this.settings.argumentsArrayName?1!==e.length||Array.isArray(e[0])||!0===this.runtime.isBuffer(e[0])||e[0]instanceof Date?E(E({},r),e):"object"===h(e[0])&&null!=e[0]?E(E({},e[0]),r):E({0:e[0]},r):E(E({},r),{},A({},this.settings.argumentsArrayName,e))}},{key:"_cloneError",value:function(e){var t=new e.constructor;return Object.getOwnPropertyNames(e).forEach((function(n){t[n]=e[n]})),t}},{key:"_toErrorObject",value:function(e){var t;return{nativeError:e,name:null!==(t=e.name)&&void 0!==t?t:"Error",message:e.message,stack:this.runtime.getErrorTrace(e)}}},{key:"_addMetaToLogObj",value:function(e,t,n){return E(E({},e),{},A({},this.settings.metaProperty,this.runtime.getMeta(t,n,this.stackDepthLevel,this.settings.hideLogPositionForProduction,this.settings.name,this.settings.parentNames)))}},{key:"_prettyFormatLogObjMeta",value:function(e){var t,n,r,u,a,o,i,s,c,l,d,f;if(null==e)return"";var p,h,v,g,m,D,_,y,b,C,E,A,x,F,w,k,B=this.settings.prettyLogTemplate,j={};B.includes("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}")?B=B.replace("{{yyyy}}.{{mm}}.{{dd}} {{hh}}:{{MM}}:{{ss}}:{{ms}}","{{dateIsoStr}}"):"UTC"===this.settings.prettyLogTimeZone?(j.yyyy=null!==(p=null==e||null===(h=e.date)||void 0===h?void 0:h.getUTCFullYear())&&void 0!==p?p:"----",j.mm=Ve(null==e||null===(v=e.date)||void 0===v?void 0:v.getUTCMonth(),2,1),j.dd=Ve(null==e||null===(g=e.date)||void 0===g?void 0:g.getUTCDate(),2),j.hh=Ve(null==e||null===(m=e.date)||void 0===m?void 0:m.getUTCHours(),2),j.MM=Ve(null==e||null===(D=e.date)||void 0===D?void 0:D.getUTCMinutes(),2),j.ss=Ve(null==e||null===(_=e.date)||void 0===_?void 0:_.getUTCSeconds(),2),j.ms=Ve(null==e||null===(y=e.date)||void 0===y?void 0:y.getUTCMilliseconds(),3)):(j.yyyy=null!==(b=null==e||null===(C=e.date)||void 0===C?void 0:C.getFullYear())&&void 0!==b?b:"----",j.mm=Ve(null==e||null===(E=e.date)||void 0===E?void 0:E.getMonth(),2,1),j.dd=Ve(null==e||null===(A=e.date)||void 0===A?void 0:A.getDate(),2),j.hh=Ve(null==e||null===(x=e.date)||void 0===x?void 0:x.getHours(),2),j.MM=Ve(null==e||null===(F=e.date)||void 0===F?void 0:F.getMinutes(),2),j.ss=Ve(null==e||null===(w=e.date)||void 0===w?void 0:w.getSeconds(),2),j.ms=Ve(null==e||null===(k=e.date)||void 0===k?void 0:k.getMilliseconds(),3));var S="UTC"===this.settings.prettyLogTimeZone?null==e?void 0:e.date:new Date((null==e||null===(t=e.date)||void 0===t?void 0:t.getTime())-6e4*(null==e||null===(n=e.date)||void 0===n?void 0:n.getTimezoneOffset()));j.rawIsoStr=null==S?void 0:S.toISOString(),j.dateIsoStr=null==S?void 0:S.toISOString().replace("T"," ").replace("Z",""),j.logLevelName=null==e?void 0:e.logLevelName,j.fileNameWithLine=null!==(r=null==e||null===(u=e.path)||void 0===u?void 0:u.fileNameWithLine)&&void 0!==r?r:"",j.filePathWithLine=null!==(a=null==e||null===(o=e.path)||void 0===o?void 0:o.filePathWithLine)&&void 0!==a?a:"",j.fullFilePath=null!==(i=null==e||null===(s=e.path)||void 0===s?void 0:s.fullFilePath)&&void 0!==i?i:"";var T,O=null===(c=this.settings.parentNames)||void 0===c?void 0:c.join(this.settings.prettyErrorParentNamesSeparator);(O=null!=O&&null!=(null==e?void 0:e.name)?O+this.settings.prettyErrorParentNamesSeparator:void 0,j.name=(null!=(null==e?void 0:e.name)||null!=O)&&null!==(l=(null!==(d=O)&&void 0!==d?d:"")+(null==e?void 0:e.name))&&void 0!==l?l:"",j.nameWithDelimiterPrefix=j.name.length>0?this.settings.prettyErrorLoggerNameDelimiter+j.name:"",j.nameWithDelimiterSuffix=j.name.length>0?j.name+this.settings.prettyErrorLoggerNameDelimiter:"",null!=(null===(f=this.settings.overwrite)||void 0===f?void 0:f.addPlaceholders))&&(null===(T=this.settings.overwrite)||void 0===T||T.addPlaceholders(e,j));return Ue(this.settings,B,j)}}])}(),_t=function(e){function t(e,n){_(this,t);var r="undefined"!=typeof window&&"undefined"!=typeof document,u=!!r&&(void 0!==window.chrome&&void 0!==window.CSS&&window.CSS.supports("color","green")),a=!!r&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return(e=e||{}).stylePrettyLogs=!(e.stylePrettyLogs&&r&&!u)&&e.stylePrettyLogs,i(this,t,[e,n,a?4:5])}return f(t,e),b(t,[{key:"log",value:function(e,n){for(var r=arguments.length,u=new Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];return c(t,"log",this,3)([e,n].concat(u))}},{key:"silly",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([0,"SILLY"].concat(n))}},{key:"trace",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([1,"TRACE"].concat(n))}},{key:"debug",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([2,"DEBUG"].concat(n))}},{key:"info",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([3,"INFO"].concat(n))}},{key:"warn",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([4,"WARN"].concat(n))}},{key:"error",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([5,"ERROR"].concat(n))}},{key:"fatal",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return c(t,"log",this,3)([6,"FATAL"].concat(n))}},{key:"getSubLogger",value:function(e,n){return c(t,"getSubLogger",this,3)([e,n])}}])}(Dt),yt="https://wyv31614.live.dynatrace.com/api/v2/otlp",bt="webchat-sdk-ui-v2",Ct=function(e){try{return window.atob(e)}catch(xc){return console.warn("Failed to parse provider reporter api key",xc),e}}("ZHQwYzAxLjZZNlpIQllBTE1JWlhBUDdTU1hBRFhZUi5SSEZPTVU3VUhFSkpHVUdUWVJHM0JFWDZEM0tQU0RXNldSVTRCNlJSVlpLR0xLMkhNMjVVRlNOQzVRTkhPQ0FH"),Et=function(){return b((function e(t){var n=t.context,r=t.proxyUrl;_(this,e),A(this,"logger",void 0),A(this,"tracer",void 0);var u=this.createExporter(r),a=this.createTraceExporter(r);this.logger=this.createLogger(u,n),this.tracer=this.createTracer(a,n)}),[{key:"createExporter",value:function(e){return new R({url:"".concat(e||yt,"/v1/logs"),headers:{Authorization:"Api-Token ".concat(Ct)}})}},{key:"createTraceExporter",value:function(e){return new Z({url:"".concat(e||yt,"/v1/traces"),headers:{Authorization:"Api-Token ".concat(Ct)}})}},{key:"createLogger",value:function(t,n){if(t){var r=new U(E(A({},V,bt),n)),u=new H({resource:r});u.addLogRecordProcessor(new W(t)),q.setGlobalLoggerProvider(u);var a=u.getLogger(bt);return function(t,n){var r=n.severityNumber,u=n.severityText,i=o(n,e);a.emit({body:t,severityNumber:r,severityText:u,attributes:i})}}}},{key:"createTracer",value:function(e,t){if(e){var n=new U(E(A({},V,bt),t)),r=new Y({resource:n});return r.addSpanProcessor(new G(e)),r.register({contextManager:new $}),K.setGlobalTracerProvider(r),r.getTracer(bt)}}},{key:"debug",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:J.DEBUG,severityText:"DEBUG"}))}},{key:"info",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:J.INFO,severityText:"INFO"}))}},{key:"error",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:J.ERROR,severityText:"ERROR","otel.status_code":"ERROR"}))}},{key:"warn",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===(t=this.escapeLogger)||void 0===t||t.call(this,e,E(E({},n),{},{severityNumber:J.WARN,severityText:"WARN"}))}},{key:"startSpan",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null===(t=this.tracer)||void 0===t?void 0:t.startSpan(e);return r?(r.setAttributes(E(E({},n),{},{startAt:(new Date).toISOString()})),r):null}},{key:"startChildSpan",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return null;var u=K.setSpan(Q.active(),t),a=null===(n=this.tracer)||void 0===n?void 0:n.startSpan(e,{},u);return a?(a.setAttributes(E(E({},r),{},{startAt:(new Date).toISOString()})),a):null}},{key:"escapeLogger",get:function(){if(this.logger)return this.logger;console.error("Can not reach to the dynatrace logger!")}}])}();A(Et,"instance",void 0);var At=function(e){var n,r=!1;function u(){return{documentVisibilityState:document.visibilityState,identity:Ki.getState().identity,roomId:Ki.getState().credentials.roomId,providerRegion:Ki.getState().credentials.region,maximize:Ki.getState().isFrameOpened?"on":"off",lang:Re.current,browserLang:window.navigator.language}}function a(e,t){var u,a,o,i={talkdeskWidgetHref:window.location.href,talkdeskAccountId:null==e||null===(u=e.touchpoint)||void 0===u?void 0:u.account_id,talkdeskTouchpointId:null==e||null===(a=e.appProps)||void 0===a?void 0:a.touchpointId,talkdeskRegion:null==e||null===(o=e.appProps)||void 0===o?void 0:o.region,injectorWindowHref:null==e?void 0:e.injectorWindowHref,environment:"prd",userAgent:window.navigator.userAgent};r=/localhost/gi.test(i.injectorWindowHref||""),n=function(e){var t=e.context,n=e.proxyUrl;return Et.instance||(Et.instance=new Et({context:t,proxyUrl:n})),Et.instance}({context:i,proxyUrl:t})}return{init:function(t){var n,r,u=null!=t&&null!==(n=t.appProps)&&void 0!==n&&n.proxyHost?"//".concat(null==t||null===(r=t.appProps)||void 0===r?void 0:r.proxyHost).concat(ve.tdReporter):"";if("dynatrace"===e)a(t,u)},run:function(a,i){var s=a._meta;if((null==s?void 0:s.logLevelId)>=i){var c=function(e){var n=e._meta,r=o(e,t),u=n,a=(null==u?void 0:u.name)||"unknown logger name",i=u.date.toISOString(),s=u.logLevelName,c=[a];if(r)try{Object.values(r).forEach((function(e){if(!(e instanceof Function||e instanceof RegExp))if("object"===h(e))if(null!=e&&e.nativeError){var t=e;c.push("".concat((null==t?void 0:t.name)||"Error",": ").concat((null==t?void 0:t.message)||""))}else c.push(be(e));else c.push(String(e))}))}catch(xc){var l=xc;c.push("Error formatTsLog payload",be(r),"".concat((null==l?void 0:l.name)||"Error",": ").concat((null==l?void 0:l.message)||""))}return{logLevelId:u.logLevelId,logLevelName:s,logDate:i,log:c.join(" | ")}}(a);return"dynatrace"===e?function(e){var t=e.log,a=e.logLevelName,o=e.logDate;if(n){var i,s,c=a.toLocaleLowerCase();r||null===(i=(s=n)[c])||void 0===i||i.call(s,t,E({logDate:o},u()))}return t}(c):null}},startSpan:function(e){var t,a;return r?null:null===(t=(a=n).startSpan)||void 0===t?void 0:t.call(a,e,u())},startChildSpan:function(e,t){var a,o;return r?null:null===(a=(o=n).startChildSpan)||void 0===a?void 0:a.call(o,e,t,u())}}}("dynatrace"),xt=function(e,t){return null!=t&&t.name?"".concat(t.name,":").concat(e):e},Ft=function(e){function t(e,n){return _(this,t),i(this,t,[e,n])}return f(t,e),b(t,[{key:"startSpan",value:function(e){return At.startSpan(e)}},{key:"startChildSpan",value:function(e,t){return At.startChildSpan(e,t)}},{key:"getSubLogger",value:function(e,n){var r=c(t,"getSubLogger",this,3)([e,n]);return r.startSpan=function(t){return At.startSpan(xt(t,e))},r.startChildSpan=function(t,n){return At.startChildSpan(xt(t,e),n)},r}}])}(_t),wt=s("l",new Ft({type:"hidden",name:"Widget",minLevel:3,prettyLogTemplate:"{{dateIsoStr}} [{{logLevelName}}] {{name}} ",attachedTransports:[function(e){return At.run(e,3)}]})),kt="__lodash_hash_undefined__",Bt=9007199254740991,jt="[object Arguments]",St="[object Function]",Tt="[object GeneratorFunction]",Ot="[object Symbol]",It=/^\[object .+?Constructor\]$/,Nt=/^(?:0|[1-9]\d*)$/,Lt="object"==h(m)&&m&&m.Object===Object&&m,Mt="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,Pt=Lt||Mt||Function("return this")();function zt(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n){var r=e.length,u=n+-1;for(;++u<r;)if(t(e[u],u,e))return u;return-1}(e,Zt,n);var r=n-1,u=e.length;for(;++r<u;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function Rt(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function Zt(e){return e!=e}function Ut(e,t){return e.has(t)}function Vt(e,t){return function(n){return e(t(n))}}var Ht,Wt=Array.prototype,qt=Function.prototype,Yt=Object.prototype,Gt=Pt["__core-js_shared__"],$t=(Ht=/[^.]+$/.exec(Gt&&Gt.keys&&Gt.keys.IE_PROTO||""))?"Symbol(src)_1."+Ht:"",Kt=qt.toString,Jt=Yt.hasOwnProperty,Qt=Yt.toString,Xt=RegExp("^"+Kt.call(Jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=Pt.Symbol,tn=Vt(Object.getPrototypeOf,Object),nn=Yt.propertyIsEnumerable,rn=Wt.splice,un=en?en.isConcatSpreadable:void 0,an=Object.getOwnPropertySymbols,on=Math.max,sn=yn(Pt,"Map"),cn=yn(Object,"create");function ln(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function dn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function fn(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pn(e){var t=-1,n=e?e.length:0;for(this.__data__=new fn;++t<n;)this.add(e[t])}function hn(e,t){var n=wn(e)||Fn(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,u=!!r;for(var a in e)u&&("length"==a||An(a,r))||n.push(a);return n}function vn(e,t){for(var n,r,u=e.length;u--;)if((n=e[u][0])===(r=t)||n!=n&&r!=r)return u;return-1}function gn(e){if(!jn(e)||(t=e,$t&&$t in t))return!1;var t,n=Bn(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(xc){}return t}(e)?Xt:It;return n.test(function(e){if(null!=e){try{return Kt.call(e)}catch(xc){}try{return e+""}catch(xc){}}return""}(e))}function mn(e){if(!jn(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,u=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||Yt,t===r),a=[];for(var o in e)("constructor"!=o||!u&&Jt.call(e,o))&&a.push(o);return a}function Dn(e){return function(e,t,n){var r=t(e);return wn(e)?r:Rt(r,n(e))}(e,Tn,Cn)}function _n(e,t){var n,r,u=e.__data__;return("string"==(r=h(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?u["string"==typeof t?"string":"hash"]:u.map}function yn(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return gn(n)?n:void 0}ln.prototype.clear=function(){this.__data__=cn?cn(null):{}},ln.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ln.prototype.get=function(e){var t=this.__data__;if(cn){var n=t[e];return n===kt?void 0:n}return Jt.call(t,e)?t[e]:void 0},ln.prototype.has=function(e){var t=this.__data__;return cn?void 0!==t[e]:Jt.call(t,e)},ln.prototype.set=function(e,t){return this.__data__[e]=cn&&void 0===t?kt:t,this},dn.prototype.clear=function(){this.__data__=[]},dn.prototype.delete=function(e){var t=this.__data__,n=vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():rn.call(t,n,1),!0)},dn.prototype.get=function(e){var t=this.__data__,n=vn(t,e);return n<0?void 0:t[n][1]},dn.prototype.has=function(e){return vn(this.__data__,e)>-1},dn.prototype.set=function(e,t){var n=this.__data__,r=vn(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},fn.prototype.clear=function(){this.__data__={hash:new ln,map:new(sn||dn),string:new ln}},fn.prototype.delete=function(e){return _n(this,e).delete(e)},fn.prototype.get=function(e){return _n(this,e).get(e)},fn.prototype.has=function(e){return _n(this,e).has(e)},fn.prototype.set=function(e,t){return _n(this,e).set(e,t),this},pn.prototype.add=pn.prototype.push=function(e){return this.__data__.set(e,kt),this},pn.prototype.has=function(e){return this.__data__.has(e)};var bn=an?Vt(an,Object):In,Cn=an?function(e){for(var t=[];e;)Rt(t,bn(e)),e=tn(e);return t}:In;function En(e){return wn(e)||Fn(e)||!!(un&&e&&e[un])}function An(e,t){return!!(t=null==t?Bt:t)&&("number"==typeof e||Nt.test(e))&&e>-1&&e%1==0&&e<t}function xn(e){if("string"==typeof e||function(e){return"symbol"==h(e)||Sn(e)&&Qt.call(e)==Ot}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Fn(e){return function(e){return Sn(e)&&kn(e)}(e)&&Jt.call(e,"callee")&&(!nn.call(e,"callee")||Qt.call(e)==jt)}var wn=Array.isArray;function kn(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Bt}(e.length)&&!Bn(e)}function Bn(e){var t=jn(e)?Qt.call(e):"";return t==St||t==Tt}function jn(e){var t=h(e);return!!e&&("object"==t||"function"==t)}function Sn(e){return!!e&&"object"==h(e)}function Tn(e){return kn(e)?hn(e):mn(e)}var On=function(e,t){return t=on(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,u=on(n.length-t,0),a=Array(u);++r<u;)a[r]=n[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=a,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}((function(e,t){return null==e?{}:(t=function(e,t){for(var n=-1,r=e?e.length:0,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}(function(e,t,n,r,u){var a=-1,o=e.length;for(n||(n=En),u||(u=[]);++a<o;){var i=e[a];n(i)?Rt(u,i):u[u.length]=i}return u}(t),xn),function(e,t){return function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var o=t[r],i=e[o];n(i,o)&&(a[o]=i)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var u=-1,a=zt,o=!0,i=e.length,s=[],c=t.length;if(!i)return s;t.length>=200&&(a=Ut,o=!1,t=new pn(t));e:for(;++u<i;){var l=e[u],d=l;if(l=0!==l?l:0,o&&d==d){for(var f=c;f--;)if(t[f]===d)continue e;s.push(l)}else a(t,d,r)||s.push(l)}return s}(Dn(e),t)))}));function In(){return[]}var Nn=y(On),Ln=9007199254740991,Mn="[object Arguments]",Pn="[object Function]",zn="[object GeneratorFunction]",Rn="[object Symbol]",Zn="object"==h(m)&&m&&m.Object===Object&&m,Un="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,Vn=Zn||Un||Function("return this")();function Hn(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}var Wn=Object.prototype,qn=Wn.hasOwnProperty,Yn=Wn.toString,Gn=Vn.Symbol,$n=Wn.propertyIsEnumerable,Kn=Gn?Gn.isConcatSpreadable:void 0,Jn=Math.max;function Qn(e){return er(e)||function(e){return function(e){return tr(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Ln}(e.length)&&!function(e){var t=function(e){var t=h(e);return!!e&&("object"==t||"function"==t)}(e)?Yn.call(e):"";return t==Pn||t==zn}(e)}(e)}(e)&&qn.call(e,"callee")&&(!$n.call(e,"callee")||Yn.call(e)==Mn)}(e)||!!(Kn&&e&&e[Kn])}function Xn(e){if("string"==typeof e||function(e){return"symbol"==h(e)||tr(e)&&Yn.call(e)==Rn}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var er=Array.isArray;function tr(e){return!!e&&"object"==h(e)}var nr=function(e,t){return t=Jn(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,u=Jn(n.length-t,0),a=Array(u);++r<u;)a[r]=n[t+r];r=-1;for(var o=Array(t+1);++r<t;)o[r]=n[r];return o[t]=a,function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,o)}}((function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var o=t[r],i=e[o];n(i,o)&&(a[o]=i)}return a}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}(function(e,t,n,r,u){var a=-1,o=e.length;for(n||(n=Qn),u||(u=[]);++a<o;){var i=e[a];n(i)?Hn(u,i):u[u.length]=i}return u}(t),Xn))})),rr=y(nr),ur={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=1,u=2,a=1/0,o=9007199254740991,i="[object Arguments]",s="[object Array]",c="[object Boolean]",l="[object Date]",d="[object Error]",f="[object Function]",p="[object GeneratorFunction]",v="[object Map]",g="[object Number]",D="[object Object]",_="[object Promise]",y="[object RegExp]",b="[object Set]",C="[object String]",E="[object Symbol]",A="[object WeakMap]",x="[object ArrayBuffer]",F="[object DataView]",w=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,B=/^\./,j=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,T=/^\[object .+?Constructor\]$/,O=/^(?:0|[1-9]\d*)$/,I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I[i]=I[s]=I[x]=I[c]=I[F]=I[l]=I[d]=I[f]=I[v]=I[g]=I[D]=I[y]=I[b]=I[C]=I[A]=!1;var N="object"==h(m)&&m&&m.Object===Object&&m,L="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,M=N||L||Function("return this")(),P=t&&!t.nodeType&&t,z=P&&e&&!e.nodeType&&e,R=z&&z.exports===P&&N.process,Z=function(){try{return R&&R.binding("util")}catch(xc){}}(),U=Z&&Z.isTypedArray;function V(e,t){for(var n=-1,r=t.length,u=e.length;++n<r;)e[u+n]=t[n];return e}function H(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(xc){}return t}function q(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Y(e,t){return function(n){return e(t(n))}}function G(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var $=Array.prototype,K=Function.prototype,J=Object.prototype,Q=M["__core-js_shared__"],X=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ee=K.toString,te=J.hasOwnProperty,ne=J.toString,re=RegExp("^"+ee.call(te).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ue=M.Symbol,ae=M.Uint8Array,oe=Y(Object.getPrototypeOf,Object),ie=J.propertyIsEnumerable,se=$.splice,ce=Object.getOwnPropertySymbols,le=Y(Object.keys,Object),de=Ue(M,"DataView"),fe=Ue(M,"Map"),pe=Ue(M,"Promise"),he=Ue(M,"Set"),ve=Ue(M,"WeakMap"),ge=Ue(Object,"create"),me=Xe(de),De=Xe(fe),_e=Xe(pe),ye=Xe(he),be=Xe(ve),Ce=ue?ue.prototype:void 0,Ee=Ce?Ce.valueOf:void 0,Ae=Ce?Ce.toString:void 0;function xe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Fe(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function we(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.__data__=new we;++t<n;)this.add(e[t])}function Be(e){this.__data__=new Fe(e)}function je(e,t){var n=rt(e)||nt(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,u=!!r;for(var a in e)!t&&!te.call(e,a)||u&&("length"==a||qe(a,r))||n.push(a);return n}function Se(e,t){for(var n=e.length;n--;)if(tt(e[n][0],t))return n;return-1}function Te(e,t){for(var n=0,r=(t=Ye(t,e)?[t]:Pe(t)).length;null!=e&&n<r;)e=e[Qe(t[n++])];return n&&n==r?e:void 0}function Oe(e,t){return null!=e&&t in Object(e)}function Ie(e,t,n,a,o){return e===t||(null==e||null==t||!it(e)&&!st(t)?e!=e&&t!=t:function(e,t,n,a,o,f){var p=rt(e),h=rt(t),m=s,_=s;p||(m=(m=We(e))==i?D:m);h||(_=(_=We(t))==i?D:_);var A=m==D&&!W(e),w=_==D&&!W(t),k=m==_;if(k&&!A)return f||(f=new Be),p||dt(e)?ze(e,t,n,a,o,f):function(e,t,n,a,o,i,s){switch(n){case F:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!a(new ae(e),new ae(t)));case c:case l:case g:return tt(+e,+t);case d:return e.name==t.name&&e.message==t.message;case y:case C:return e==t+"";case v:var f=q;case b:var p=i&u;if(f||(f=G),e.size!=t.size&&!p)return!1;var h=s.get(e);if(h)return h==t;i|=r,s.set(e,t);var m=ze(f(e),f(t),a,o,i,s);return s.delete(e),m;case E:if(Ee)return Ee.call(e)==Ee.call(t)}return!1}(e,t,m,n,a,o,f);if(!(o&u)){var B=A&&te.call(e,"__wrapped__"),j=w&&te.call(t,"__wrapped__");if(B||j){var S=B?e.value():e,T=j?t.value():t;return f||(f=new Be),n(S,T,a,o,f)}}if(!k)return!1;return f||(f=new Be),function(e,t,n,r,a,o){var i=a&u,s=ft(e),c=s.length,l=ft(t),d=l.length;if(c!=d&&!i)return!1;var f=c;for(;f--;){var p=s[f];if(!(i?p in t:te.call(t,p)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var v=!0;o.set(e,t),o.set(t,e);var g=i;for(;++f<c;){var m=e[p=s[f]],D=t[p];if(r)var _=i?r(D,m,p,t,e,o):r(m,D,p,e,t,o);if(!(void 0===_?m===D||n(m,D,r,a,o):_)){v=!1;break}g||(g="constructor"==p)}if(v&&!g){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,a,o,f)}(e,t,Ie,n,a,o))}function Ne(e){return!(!it(e)||(t=e,X&&X in t))&&(at(e)||W(e)?re:T).test(Xe(e));var t}function Le(e){return"function"==typeof e?e:null==e?ht:"object"==h(e)?rt(e)?function(e,t){if(Ye(e)&&$e(t))return Ke(Qe(e),t);return function(n){var a=function(e,t,n){var r=null==e?void 0:Te(e,t);return void 0===r?n:r}(n,e);return void 0===a&&a===t?function(e,t){return null!=e&&function(e,t,n){t=Ye(t,e)?[t]:Pe(t);var r,u=-1,a=t.length;for(;++u<a;){var o=Qe(t[u]);if(!(r=null!=e&&n(e,o)))break;e=e[o]}if(r)return r;a=e?e.length:0;return!!a&&ot(a)&&qe(o,a)&&(rt(e)||nt(e))}(e,t,Oe)}(n,e):Ie(t,a,void 0,r|u)}}(e[0],e[1]):function(e){var t=function(e){var t=ft(e),n=t.length;for(;n--;){var r=t[n],u=e[r];t[n]=[r,u,$e(u)]}return t}(e);if(1==t.length&&t[0][2])return Ke(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,a){var o=n.length,i=o;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var c=(s=n[o])[0],l=e[c],d=s[1];if(s[2]){if(void 0===l&&!(c in e))return!1}else{var f=new Be;if(!Ie(d,l,a,r|u,f))return!1}}return!0}(n,0,t)}}(e):Ye(t=e)?(n=Qe(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return Te(t,e)}}(t);var t,n}function Me(e){if(!it(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Ge(e),n=[];for(var r in e)("constructor"!=r||!t&&te.call(e,r))&&n.push(r);return n}function Pe(e){return rt(e)?e:Je(e)}function ze(e,t,n,a,o,i){var s=o&u,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var d=i.get(e);if(d&&i.get(t))return d==t;var f=-1,p=!0,h=o&r?new ke:void 0;for(i.set(e,t),i.set(t,e);++f<c;){var v=e[f],g=t[f];if(a)var m=s?a(g,v,f,t,e,i):a(v,g,f,e,t,i);if(void 0!==m){if(m)continue;p=!1;break}if(h){if(!H(t,(function(e,t){if(!h.has(t)&&(v===e||n(v,e,a,o,i)))return h.add(t)}))){p=!1;break}}else if(v!==g&&!n(v,g,a,o,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function Re(e){return function(e,t,n){var r=t(e);return rt(e)?r:V(r,n(e))}(e,pt,He)}function Ze(e,t){var n,r,u=e.__data__;return("string"==(r=h(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?u["string"==typeof t?"string":"hash"]:u.map}function Ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ne(n)?n:void 0}xe.prototype.clear=function(){this.__data__=ge?ge(null):{}},xe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},xe.prototype.get=function(e){var t=this.__data__;if(ge){var r=t[e];return r===n?void 0:r}return te.call(t,e)?t[e]:void 0},xe.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:te.call(t,e)},xe.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?n:t,this},Fe.prototype.clear=function(){this.__data__=[]},Fe.prototype.delete=function(e){var t=this.__data__,n=Se(t,e);return!(n<0)&&(n==t.length-1?t.pop():se.call(t,n,1),!0)},Fe.prototype.get=function(e){var t=this.__data__,n=Se(t,e);return n<0?void 0:t[n][1]},Fe.prototype.has=function(e){return Se(this.__data__,e)>-1},Fe.prototype.set=function(e,t){var n=this.__data__,r=Se(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},we.prototype.clear=function(){this.__data__={hash:new xe,map:new(fe||Fe),string:new xe}},we.prototype.delete=function(e){return Ze(this,e).delete(e)},we.prototype.get=function(e){return Ze(this,e).get(e)},we.prototype.has=function(e){return Ze(this,e).has(e)},we.prototype.set=function(e,t){return Ze(this,e).set(e,t),this},ke.prototype.add=ke.prototype.push=function(e){return this.__data__.set(e,n),this},ke.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.clear=function(){this.__data__=new Fe},Be.prototype.delete=function(e){return this.__data__.delete(e)},Be.prototype.get=function(e){return this.__data__.get(e)},Be.prototype.has=function(e){return this.__data__.has(e)},Be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Fe){var r=n.__data__;if(!fe||r.length<199)return r.push([e,t]),this;n=this.__data__=new we(r)}return n.set(e,t),this};var Ve=ce?Y(ce,Object):vt,He=ce?function(e){for(var t=[];e;)V(t,Ve(e)),e=oe(e);return t}:vt,We=function(e){return ne.call(e)};function qe(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||O.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t){if(rt(e))return!1;var n=h(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ct(e))||(k.test(e)||!w.test(e)||null!=t&&e in Object(t))}function Ge(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||J)}function $e(e){return e==e&&!it(e)}function Ke(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(de&&We(new de(new ArrayBuffer(1)))!=F||fe&&We(new fe)!=v||pe&&We(pe.resolve())!=_||he&&We(new he)!=b||ve&&We(new ve)!=A)&&(We=function(e){var t=ne.call(e),n=t==D?e.constructor:void 0,r=n?Xe(n):void 0;if(r)switch(r){case me:return F;case De:return v;case _e:return _;case ye:return b;case be:return A}return t});var Je=et((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(ct(e))return Ae?Ae.call(e):"";var t=e+"";return"0"==t&&1/e==-a?"-0":t}(t);var n=[];return B.test(e)&&n.push(""),e.replace(j,(function(e,t,r,u){n.push(r?u.replace(S,"$1"):t||e)})),n}));function Qe(e){if("string"==typeof e||ct(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function Xe(e){if(null!=e){try{return ee.call(e)}catch(xc){}try{return e+""}catch(xc){}}return""}function et(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,u=t?t.apply(this,r):r[0],a=n.cache;if(a.has(u))return a.get(u);var o=e.apply(this,r);return n.cache=a.set(u,o),o};return n.cache=new(et.Cache||we),n}function tt(e,t){return e===t||e!=e&&t!=t}function nt(e){return function(e){return st(e)&&ut(e)}(e)&&te.call(e,"callee")&&(!ie.call(e,"callee")||ne.call(e)==i)}et.Cache=we;var rt=Array.isArray;function ut(e){return null!=e&&ot(e.length)&&!at(e)}function at(e){var t=it(e)?ne.call(e):"";return t==f||t==p}function ot(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function it(e){var t=h(e);return!!e&&("object"==t||"function"==t)}function st(e){return!!e&&"object"==h(e)}function ct(e){return"symbol"==h(e)||st(e)&&ne.call(e)==E}var lt,dt=U?(lt=U,function(e){return lt(e)}):function(e){return st(e)&&ot(e.length)&&!!I[ne.call(e)]};function ft(e){return ut(e)?je(e):function(e){if(!Ge(e))return le(e);var t=[];for(var n in Object(e))te.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}function pt(e){return ut(e)?je(e,!0):Me(e)}function ht(e){return e}function vt(){return[]}e.exports=function(e,t){return null==e?{}:function(e,t,n){for(var r=-1,u=t.length,a={};++r<u;){var o=t[r],i=e[o];n(i,o)&&(a[o]=i)}return a}(e,Re(e),Le(t))}}(ur,ur.exports);var ar=y(ur.exports);function or(e){return e?Nn(e,ge):{}}function ir(e){return e?rr(e,ge):{}}function sr(e,t){var n={};if(null!=e&&e.theme){var r=e.theme,u=r.brandColor,a=r.headerTextColor,o=r.headerBgColor,i=r.welcomeBgColor,s=r.welcomeTextColor,c=r.initialFormBgColor,l=r.agentBubbleColor,d=r.agentTextColor,f=r.customerBubbleColor,p=r.customerTextColor,h=r.buttonColors,v=h.primary,g=v.textColor,m=v.backgroundColor,D=v.hoverBackgroundColor,_=h.secondary,y=_.textColor,b=_.backgroundColor,C=_.hoverBackgroundColor,A=h.outLine,x=A.textColor,F=A.borderColor,w=A.backgroundColor,k=A.hoverBackgroundColor,B=h.transparent,j=void 0===B?{}:B,S=j.textColor,T=void 0===S?x:S,O=j.hoverBackgroundColor;n={chatThemeColor:u,chatHoverThemeColor:u,chatHeaderBackgroundColor:o,chatTitleTextColor:a,chatSubtitleTextColor:a,chatCloseButtonColor:a,chatTitleIconColor:g,welcomeMessageBackgroundColor:i,welcomeMessageTitleColor:s,welcomeMessageContentColor:s,initialFormBackgroundColor:c,botTextColor:d,botBackgroundColor:l,botAnchorTextColor:d,botAnchorTextColorVisited:d,userTextColor:p,userBackgroundColor:f,userAnchorTextColor:p,userAnchorTextColorVisited:p,customButtonBackgroundColor:m,customButtonColor:g,customButtonBorderColor:m,customButtonHoverBackgroundColor:D,customButtonHoverColor:g,customButtonHoverBorderColor:D,startChatButtonTextColor:g,startChatButtonBorderColor:m,startChatButtonBackgroundColor:m,startChatButtonHoverTextColor:g,startChatButtonHoverBorderColor:D,startChatButtonHoverBackgroundColor:D,startChatTransparentButtonTextColor:T,startChatTransparentButtonHoverBackgroundColor:void 0===O?k:O,replyTextColor:x,replyBorderColor:F,replyBackgroundColor:w,replyHoverBackgroundColor:k,buttonTextColor:y,buttonBackgroundColor:b,buttonHoverBackgroundColor:C,chatConfirmButtonFontColor:g,chatConfirmButtonBackgroundColor:m,chatConfirmButtonHoverBackgroundColor:D}}return null!=e&&e.logoUrl&&(n=E(E({},n),{},{chatTitleIcon:"url(".concat(e.logoUrl,")")})),t&&(n=E(E({},n),t),t.chatTitleIcon&&(n=E(E({},n),{},{chatTitleIcon:"url(".concat(t.chatTitleIcon,")")}))),n}function cr(e){return e?ar({chatTitleIcon:e.logoUrl,chatTitle:e.title,chatSubtitle:e.description},(function(e){return!!e})):{}}var lr=function(){return lr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var u in t=arguments[n])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e},lr.apply(this,arguments)};function dr(e,t,n,r){return new(n||(n=Promise))((function(t,u){function a(e){try{i(r.next(e))}catch(xc){u(xc)}}function o(e){try{i(r.throw(e))}catch(xc){u(xc)}}function i(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(e){e(r)}))).then(a,o)}i((r=r.apply(e,[])).next())}))}function fr(e,t){var n,r,u,a,o={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(o=0)),o;)try{if(n=1,r&&(u=2&i[0]?r.return:i[0]?r.throw||((u=r.return)&&u.call(r),0):r.next)&&!(u=u.call(r,i[1])).done)return u;switch(r=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(u=o.trys,(u=u.length>0&&u[u.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){o.label=i[1];break}if(6===i[0]&&o.label<u[1]){o.label=u[1],u=i;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(i);break}u[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(xc){i=[6,xc],r=0}finally{n=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}"function"==typeof SuppressedError&&SuppressedError;var pr=function(){function e(e){this.options=e,this._traceId=0,this._methods=new Map,this._emitter=new C,this._handlerOnMessageByBound=this.handlerOnMessage.bind(this),this.createService(),this.getListener().addEventListener("message",this._handlerOnMessageByBound,!1)}return e.jsonParseData=function(e,t){try{return JSON.parse(e)}catch(xc){return t}},e.jsonStringifyData=function(e){try{return JSON.stringify(e)}catch(xc){return""}},e.runHandler=function(e){return dr(this,0,void 0,(function(){var t;return fr(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return[2,{data:n.sent(),error:null}];case 2:return[2,{error:"string"==typeof(t=n.sent())?t:t.message}];case 3:return[2]}}))}))},e.prototype.destroy=function(){this._emitter.removeAllListeners(),this._methods.clear(),this.getListener().removeEventListener("message",this._handlerOnMessageByBound,!1)},e.prototype.register=function(e,t){this._methods.set(e,t),this.log("Register ".concat(e),this._methods)},e.prototype.unregister=function(e){this._methods.delete(e),this.log("Unregister ".concat(e),this._methods)},e.prototype.trigger=function(t){for(var n=this,r=[],u=1;u<arguments.length;u++)r[u-1]=arguments[u];return new Promise((function(u){var a=n.createId();n.sendMessage({id:a,method:t,payload:r,type:"request"}),n.log("Trigger ".concat(t," | ").concat(a),r),n._emitter.once("response_".concat(a),(function(r){u(r.payload),n.log("Receive ".concat(t," | ").concat(a),e.jsonStringifyData(r))}))}))},e.prototype.createId=function(){return"".concat(this.options.name,"_").concat(this._traceId++)},e.prototype.createService=function(){var t=this;this._emitter.on(this.options.topic,(function(n){return dr(t,0,void 0,(function(){var t,r,u,a,o;return fr(this,(function(i){switch(i.label){case 0:return t=n.id,r=n.payload,u=n.method,(a=this._methods.get(u))?[4,e.runHandler((function(){return a.apply(void 0,r)}))]:[3,2];case 1:return o=i.sent(),this.sendMessage({id:t,method:u,payload:o,type:"response"}),[3,3];case 2:this.sendMessage({id:t,method:u,payload:{error:"No found method in service"},type:"response"}),i.label=3;case 3:return[2]}}))}))}))},e.prototype.sendMessage=function(t){var n=this.options,r=n.sender,u=n.origin,a=n.topic,o=e.jsonStringifyData(lr(lr({},t),{topic:a}));if(!r.postMessage)throw new Error("The sender no found postMessage method please check the sender option");o&&r.postMessage(o,u||"*")},e.prototype.handlerOnMessage=function(t){var n=t.data;if(n){var r=e.jsonParseData(n,null);if(r&&r.topic===this.options.topic){var u=r.id,a=r.type;"request"===a&&this._emitter.emit(this.options.topic,r),"response"===a&&this._emitter.emit("response_".concat(u),r)}}},e.prototype.getListener=function(){return this.options.listener||window},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.options,u=r.debug,a=r.name;if(u){var o=(new Date).toISOString(),i="[RPC] [".concat(o,"] [").concat(a,"] ").concat(e);console.groupCollapsed(i),(null==t?void 0:t.length)&&console.info.apply(console,t),console.groupEnd()}},Object.defineProperty(e.prototype,"methods",{get:function(){return this._methods},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emitter",{get:function(){return this._emitter},enumerable:!1,configurable:!0}),e}(),hr=[Intl.DateTimeFormat().resolvedOptions().locale,"en-US"],vr={hour:"2-digit",minute:"2-digit"};function gr(e){return new Date(e).toLocaleTimeString(hr,vr)}function mr(e){return e<10?"0".concat(e):e}var Dr=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,_r={YYYY:function(e){return new Date(e).getFullYear()},MM:function(e){return mr(new Date(e).getMonth()+1)},DD:function(e){return mr(new Date(e).getDate())},HH:function(e){return mr(new Date(e).getHours())},mm:function(e){return new Date(e).getMinutes()},ss:function(e){return new Date(e).getSeconds()}};function yr(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD").match(Dr);return t?t.map((function(e){return _r[e]||e})).filter((function(e){return!!e})).reduce((function(t,n){return t+="function"==typeof n?n(e):n}),""):""}function br(){return(e=new URL(window.location.href),new URLSearchParams(e.search)).get("touchpointId")||"";var e}var Cr=function(){return"function"==typeof window.BroadcastChannel},Er=wt.getSubLogger({name:"useBoardCast"}),Ar=s("L",x()((function(){var e="td-board-cast-".concat(br()||"unknown-touchpoint-id"),t=new Map,n=!1,r=null,u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e){var r=t.get(e);null==r||r.forEach((function(e){return e.apply(void 0,F(n))})),Er.debug("Received tab event=".concat(e," data=").concat(be(n)))}},a=function(t){if(t.key===e&&t.newValue){var n=Ce(t.newValue,{}),r=n.event,a=n.data;u(r,a),function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.mode,u=void 0===r?window.localStorage:r,a=n.onError;try{return u.removeItem(e),!0}catch(t){return null==a||a(t),!1}}(e)}};return{init:function(){n||(Cr()?(Er.debug("Using tab events for broadcast channel namespace=".concat(e)),(r=new BroadcastChannel(e)).onmessage=function(e){var t=e.data,n=t.event,r=t.data;u(n,r)}):(Er.debug("Using tab events for storage changed namespace=".concat(e)),window.addEventListener("storage",a)),n=!0)},on:function(e,n){var r=t.get(e)||[];t.set(e,[].concat(F(r),[n]))},emit:function(t){for(var n=arguments.length,u=new Array(n>1?n-1:0),a=1;a<n;a++)u[a-1]=arguments[a];var o;Cr()?null===(o=r)||void 0===o||o.postMessage({event:t,data:u}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.mode,u=void 0===r?window.localStorage:r,a=n.onError;try{return u.setItem(e,t),!0}catch(xc){return null==a||a(xc),!1}}(e,be({event:t,data:u}));Er.debug("Emit tab from event=".concat(t," data=").concat(be(u)))},off:function(e,n){var r;t.has(e)&&t.set(e,(null===(r=t.get(e))||void 0===r?void 0:r.filter((function(e){return e!==n})))||[])},destroy:function(){var e,u;null===(e=r)||void 0===e||null===(u=e.close)||void 0===u||u.call(e),r=null,window.removeEventListener("storage",a),t.clear(),n=!1},count:function(){var e={};return t.forEach((function(t,n){e[n]=t})),e}}}))),xr=function(e){return{on:e.on,off:e.off,emit:e.emit}},Fr=(s("y",(function(){return Ar(k(xr))})),function(e){var t=e.attributes,n=e.author,r=t;return null!=r&&r.is_virtual_agent?"va":null!=r&&r.agentId?"agent":"system"===n?"system":"contact"}),wr=function(e){var t=e.attributes;return null!=t&&t.agentId?t.agentId:""},kr=function(e){if("contact"!==e)return function(e){var t=Wi.getState().config,n=t.appearanceConfig,r=t.options,u=n.generalSettings,a=u.displayAgentsName,o=u.displayAutopilotsAvatar,i=u.autopilotsAvatar,s=r.botIcon;switch(e){case"agent":return{url:s,type:a?"agent":"system"};case"va":return{url:o&&i?i:s};case"system":return{url:s};default:return}}(e)},Br=function(e){var t=e.role,n=e.agentName,r=void 0===n?"":n,u=Wi.getState().config.appearanceConfig.generalSettings,a=u.displayAgentsName,o=u.displayAutopilotsName,i=u.autopilotsName;switch(t){case"contact":return"contactName";case"va":return o?i?i.trim():"autopilotsName":"";case"agent":return a?r:"";default:return""}},jr=function(e){var t,n=e.attributes;if(null!=n&&null!==(t=n.action)&&void 0!==t&&t.metadata){var r=n.action.metadata,u=r.cur_identified_id,a=r.cur_participant_type,o=r.cur_display_name;"LIVE_AGENT"===a&&Bi.getState().setAssigneeName(u,o)}},Sr=function(e){var t,n=Fr(e),r=(null===(t=e.attributes)||void 0===t?void 0:t.agentId)||"",u=Bi.getState().getAssigneeName(r);return Br({role:n,agentName:u})},Tr="TYPING_MESSAGE_ID",Or={tid:Tr,sid:"typing",status:"success",alignment:"received",timestamp:0,formattedTime:"",items:[{type:"typing"}]};function Ir(e){return e===Tr}function Nr(e){var t=e.role,n=e.agentName,r=kr(t),u=Br({role:t,agentName:n});return E(E({},Or),{},{role:t,avatar:r,participantName:u})}function Lr(e,t,n,r){var u=Date.now(),a=t.get("file");return E({sid:"",alignment:"sent",tid:e,status:"sending",items:[{type:n,url:a instanceof Blob?URL.createObjectURL(a):"",smart_text:{key:"download"}}],timestamp:u,formattedTime:gr(u)},r)}function Mr(e,t,n){var r=Date.now();return E({sid:"",alignment:"sent",tid:e,status:"sending",items:[{type:"text",text:t}],timestamp:r,formattedTime:gr(r)},n)}var Pr=function(e){var t,n=e.attributes;if(null==n||null===(t=n.action)||void 0===t||!t.metadata)return!0;var r=n.action.metadata,u=r.cur_identified_id,a=r.cur_participant_type,o=r.cur_display_name,i=r.pre_identified_id,s=r.pre_participant_type,c=Wi.getState().config.appearanceConfig.generalSettings,l=c.displayAgentsName,d=c.agentsNameDisplayRule;return!l||!o||(!s&&"VIRTUAL_AGENT"===a||u===i||"same name"===d&&"LIVE_AGENT"===s&&"LIVE_AGENT"===a)};var zr=/((?:[0-9a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43]))((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]))/g,Rr=/((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]))((?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2F\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uA7BA\uA7BC\uA7BE\uA7C0\uA7C2\uA7C4-\uA7C7\uA7C9\uA7D0\uA7D6\uA7D8\uA7F5\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21])(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43]))/g,Zr=/([0-9])(?:[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5F\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7BB\uA7BD\uA7BF\uA7C1\uA7C3\uA7C8\uA7CA\uA7D1\uA7D3\uA7D5\uA7D7\uA7D9\uA7F6\uA7FA\uAB30-\uAB5A\uAB60-\uAB68\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD837[\uDF00-\uDF09\uDF0B-\uDF1E\uDF25-\uDF2A]|\uD83A[\uDD22-\uDD43])|((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))[0-9]/,Ur=/(?:(?![0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uD800-\uDFFF\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC])[\s\S]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEFF\uDF20-\uDF2C\uDF41\uDF4A-\uDF4F\uDF76-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0-\uDFFF]|\uD801[\uDC9E-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDD6F\uDD7B\uDD8B\uDD93\uDD96\uDDA2\uDDB2\uDDBA\uDDBD-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDF7F\uDF86\uDFB1\uDFBB-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE01-\uDE0F\uDE14\uDE18\uDE36-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE5-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD24-\uDE7F\uDEAA-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF46-\uDF6F\uDF82-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC00-\uDC02\uDC38-\uDC70\uDC73\uDC74\uDC76-\uDC82\uDCB0-\uDCCF\uDCE9-\uDD02\uDD27-\uDD43\uDD45\uDD46\uDD48-\uDD4F\uDD73-\uDD75\uDD77-\uDD82\uDDB3-\uDDC0\uDDC5-\uDDD9\uDDDB\uDDDD-\uDDFF\uDE12\uDE2C-\uDE3E\uDE41-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEDF-\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A-\uDF3C\uDF3E-\uDF4F\uDF51-\uDF5C\uDF62-\uDFFF]|\uD805[\uDC35-\uDC46\uDC4B-\uDC5E\uDC62-\uDC7F\uDCB0-\uDCC3\uDCC6\uDCC8-\uDD7F\uDDAF-\uDDD7\uDDDC-\uDDFF\uDE30-\uDE43\uDE45-\uDE7F\uDEAB-\uDEB7\uDEB9-\uDEFF\uDF1B-\uDF3F\uDF47-\uDFFF]|\uD806[\uDC2C-\uDC9F\uDCE0-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD30-\uDD3E\uDD40\uDD42-\uDD9F\uDDA8\uDDA9\uDDD1-\uDDE0\uDDE2\uDDE4-\uDDFF\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE4F\uDE51-\uDE5B\uDE8A-\uDE9C\uDE9E-\uDEAF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC2F-\uDC3F\uDC41-\uDC71\uDC90-\uDCFF\uDD07\uDD0A\uDD31-\uDD45\uDD47-\uDD5F\uDD66\uDD69\uDD8A-\uDD97\uDD99-\uDEDF\uDEF3-\uDF01\uDF03\uDF11\uDF34-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC00-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80E-\uD810\uD812-\uD819\uD824-\uD82A\uD82D\uD82E\uD830-\uD834\uD836\uD83C-\uD83F\uD87C\uD87D\uD87F\uD889-\uDBFF][\uDC00-\uDFFF]|\uD80B[\uDC00-\uDF8F\uDFF1-\uDFFF]|\uD80D[\uDC30-\uDC40\uDC47-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F-\uDE6F\uDEBF-\uDECF\uDEEE-\uDEFF\uDF30-\uDF3F\uDF44-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4F\uDF51-\uDF92\uDFA0-\uDFDF\uDFE2\uDFE4-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82B[\uDC00-\uDFEF\uDFF4\uDFFC\uDFFF]|\uD82C[\uDD23-\uDD31\uDD33-\uDD4F\uDD53\uDD54\uDD56-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC-\uDFFF]|\uD837[\uDC00-\uDEFF\uDF1F-\uDF24\uDF2B-\uDFFF]|\uD838[\uDC00-\uDC2F\uDC6E-\uDCFF\uDD2D-\uDD36\uDD3E-\uDD4D\uDD4F-\uDE8F\uDEAE-\uDEBF\uDEEC-\uDFFF]|\uD839[\uDC00-\uDCCF\uDCEC-\uDFDF\uDFE7\uDFEC\uDFEF\uDFFF]|\uD83A[\uDCC5-\uDCFF\uDD44-\uDD4A\uDD4C-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD869[\uDEE0-\uDEFF]|\uD86D[\uDF3A-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFEF]|\uD87B[\uDE5E-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDF4F]|\uD888[\uDFB0-\uDFFF])+/gi,Vr="$1\0$2",Hr="";function Wr(e){for(var t=e.trim(),n=0,r=(t=(t=t.replace(zr,Vr).replace(Rr,Vr)).replace(Ur,"\0")).length;"\0"===t.charAt(n);)n++;if(n===r)return[];for(;"\0"===t.charAt(r-1);)r--;return t.slice(n,r).split(/\0/g)}function qr(e){for(var t=Wr(e),n=0;n<t.length;n++){var r=t[n],u=Zr.exec(r);if(u){var a,o=u.index+(null!==(a=u[1])&&void 0!==a?a:u[2]).length;t.splice(n,1,r.slice(0,o),r.slice(o))}}return t}function Yr(e,t){var n,r,u=function(e){var t,n,r,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!==(t=u.split)&&void 0!==t?t:u.separateNumbers?qr:Wr,o=null!==(n=u.prefixCharacters)&&void 0!==n?n:Hr,i=null!==(r=u.suffixCharacters)&&void 0!==r?r:Hr,s=0,c=e.length;for(;s<e.length;){var l=e.charAt(s);if(!o.includes(l))break;s++}for(;c>s;){var d=c-1,f=e.charAt(d);if(!i.includes(f))break;c=d}return[e.slice(0,s),a(e.slice(s,c)),e.slice(c)]}(e,t),a=v(u,3),o=a[0],i=a[1],s=a[2];return o+i.map((r=null==t?void 0:t.locale,!1===r?function(e){return e.toLowerCase()}:function(e){return e.toLocaleLowerCase(r)})).join(null!==(n=null==t?void 0:t.delimiter)&&void 0!==n?n:" ")+s}var Gr,$r,Kr,Jr=(Gr=function(e,t){return Yr(e,E({delimiter:"_"},t))},function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;if(0===n||!function(e){return null!==e&&"object"===h(e)}(t))return t;if(Array.isArray(t))return t.map((function(t){return e(t,n-1,r)}));var u=Object.create(Object.getPrototypeOf(t));return Object.keys(t).forEach((function(a){var o=t[a],i=Gr(a,r),s=e(o,n-1,r);u[i]=s})),u});!function(e){e.assertEqual=function(e){return e},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=function(e){var t,n={},r=w(e);try{for(r.s();!(t=r.n()).done;){var u=t.value;n[u]=u}}catch(a){r.e(a)}finally{r.f()}return n},e.getValidEnumValues=function(t){var n,r=e.objectKeys(t).filter((function(e){return"number"!=typeof t[t[e]]})),u={},a=w(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;u[o]=t[o]}}catch(i){a.e(i)}finally{a.f()}return e.objectValues(u)},e.objectValues=function(t){return e.objectKeys(t).map((function(e){return t[e]}))},e.objectKeys="function"==typeof Object.keys?function(e){return Object.keys(e)}:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=function(e,t){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){var u=n.value;if(t(u))return u}}catch(a){r.e(a)}finally{r.f()}},e.isInteger="function"==typeof Number.isInteger?function(e){return Number.isInteger(e)}:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.joinValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((function(e){return"string"==typeof e?"'".concat(e,"'"):e})).join(t)},e.jsonStringifyReplacer=function(e,t){return"bigint"==typeof t?t.toString():t}}($r||($r={})),function(e){e.mergeShapes=function(e,t){return E(E({},e),t)}}(Kr||(Kr={}));var Qr=$r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xr=function(e){switch(h(e)){case"undefined":return Qr.undefined;case"string":return Qr.string;case"number":return isNaN(e)?Qr.nan:Qr.number;case"boolean":return Qr.boolean;case"function":return Qr.function;case"bigint":return Qr.bigint;case"symbol":return Qr.symbol;case"object":return Array.isArray(e)?Qr.array:null===e?Qr.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?Qr.promise:"undefined"!=typeof Map&&e instanceof Map?Qr.map:"undefined"!=typeof Set&&e instanceof Set?Qr.set:"undefined"!=typeof Date&&e instanceof Date?Qr.date:Qr.object;default:return Qr.unknown}},eu=$r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),tu=function(e){function t(e){var n;_(this,t),(n=i(this,t)).issues=[],n.addIssue=function(e){n.issues=[].concat(F(n.issues),[e])},n.addIssues=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];n.issues=[].concat(F(n.issues),F(e))};var r=(this instanceof t?this.constructor:void 0).prototype;return Object.setPrototypeOf?Object.setPrototypeOf(n,r):n.__proto__=r,n.name="ZodError",n.issues=e,n}return f(t,e),b(t,[{key:"errors",get:function(){return this.issues}},{key:"format",value:function(e){var t=e||function(e){return e.message},n={_errors:[]},r=function(e){var u,a=w(e.issues);try{for(a.s();!(u=a.n()).done;){var o=u.value;if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else for(var i=n,s=0;s<o.path.length;){var c=o.path[s];s===o.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(t(o))):i[c]=i[c]||{_errors:[]},i=i[c],s++}}}catch(l){a.e(l)}finally{a.f()}};return r(this),n}},{key:"toString",value:function(){return this.message}},{key:"message",get:function(){return JSON.stringify(this.issues,$r.jsonStringifyReplacer,2)}},{key:"isEmpty",get:function(){return 0===this.issues.length}},{key:"flatten",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.message},n={},r=[],u=w(this.issues);try{for(u.s();!(e=u.n()).done;){var a=e.value;a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(t(a))):r.push(t(a))}}catch(o){u.e(o)}finally{u.f()}return{formErrors:r,fieldErrors:n}}},{key:"formErrors",get:function(){return this.flatten()}}],[{key:"assert",value:function(e){if(!(e instanceof t))throw new Error("Not a ZodError: ".concat(e))}}])}(a(Error));tu.create=function(e){return new tu(e)};var nu=function(e,t){var n;switch(e.code){case eu.invalid_type:n=e.received===Qr.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case eu.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,$r.jsonStringifyReplacer));break;case eu.unrecognized_keys:n="Unrecognized key(s) in object: ".concat($r.joinValues(e.keys,", "));break;case eu.invalid_union:n="Invalid input";break;case eu.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat($r.joinValues(e.options));break;case eu.invalid_enum_value:n="Invalid enum value. Expected ".concat($r.joinValues(e.options),", received '").concat(e.received,"'");break;case eu.invalid_arguments:n="Invalid function arguments";break;case eu.invalid_return_type:n="Invalid function return type";break;case eu.invalid_date:n="Invalid date";break;case eu.invalid_string:"object"===h(e.validation)?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"==typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):$r.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case eu.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case eu.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case eu.custom:n="Invalid input";break;case eu.invalid_intersection_types:n="Intersection results could not be merged";break;case eu.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case eu.not_finite:n="Number must be finite";break;default:n=t.defaultError,$r.assertNever(e)}return{message:n}},ru=nu;function uu(){return ru}var au=function(e){var t=e.data,n=e.path,r=e.errorMaps,u=e.issueData,a=[].concat(F(n),F(u.path||[])),o=E(E({},u),{},{path:a});if(void 0!==u.message)return E(E({},u),{},{path:a,message:u.message});var i,s="",c=r.filter((function(e){return!!e})).slice().reverse(),l=w(c);try{for(l.s();!(i=l.n()).done;){s=(0,i.value)(o,{data:t,defaultError:s}).message}}catch(d){l.e(d)}finally{l.f()}return E(E({},u),{},{path:a,message:s})};function ou(e,t){var n=uu(),r=au({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===nu?void 0:nu].filter((function(e){return!!e}))});e.common.issues.push(r)}var iu,su,cu,lu=function(){function e(){_(this,e),this.value="valid"}return b(e,[{key:"dirty",value:function(){"valid"===this.value&&(this.value="dirty")}},{key:"abort",value:function(){"aborted"!==this.value&&(this.value="aborted")}}],[{key:"mergeArray",value:function(e,t){var n,r=[],u=w(t);try{for(u.s();!(n=u.n()).done;){var a=n.value;if("aborted"===a.status)return du;"dirty"===a.status&&e.dirty(),r.push(a.value)}}catch(o){u.e(o)}finally{u.f()}return{status:e.value,value:r}}},{key:"mergeObjectAsync",value:(t=D(g().mark((function t(n,r){var u,a,o,i,s,c;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=[],a=w(r),t.prev=2,a.s();case 4:if((o=a.n()).done){t.next=15;break}return i=o.value,t.next=8,i.key;case 8:return s=t.sent,t.next=11,i.value;case 11:c=t.sent,u.push({key:s,value:c});case 13:t.next=4;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(2),a.e(t.t0);case 20:return t.prev=20,a.f(),t.finish(20);case 23:return t.abrupt("return",e.mergeObjectSync(n,u));case 24:case"end":return t.stop()}}),t,null,[[2,17,20,23]])}))),function(e,n){return t.apply(this,arguments)})},{key:"mergeObjectSync",value:function(e,t){var n,r={},u=w(t);try{for(u.s();!(n=u.n()).done;){var a=n.value,o=a.key,i=a.value;if("aborted"===o.status)return du;if("aborted"===i.status)return du;"dirty"===o.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===o.value||void 0===i.value&&!a.alwaysSet||(r[o.value]=i.value)}}catch(s){u.e(s)}finally{u.f()}return{status:e.value,value:r}}}]);var t}(),du=Object.freeze({status:"aborted"}),fu=function(e){return{status:"dirty",value:e}},pu=function(e){return{status:"valid",value:e}},hu=function(e){return"aborted"===e.status},vu=function(e){return"dirty"===e.status},gu=function(e){return"valid"===e.status},mu=function(e){return"undefined"!=typeof Promise&&e instanceof Promise};function Du(e,t,n,r){if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function _u(e,t,n,r,u){if("function"==typeof t?e!==t||!u:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=function(e){return"string"==typeof e?{message:e}:e||{}},e.toString=function(e){return"string"==typeof e?e:null==e?void 0:e.message}}(iu||(iu={}));var yu=function(){return b((function e(t,n,r,u){_(this,e),this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=u}),[{key:"path",get:function(){var e,t;this._cachedPath.length||(this._key instanceof Array?(e=this._cachedPath).push.apply(e,F(this._path).concat(F(this._key))):(t=this._cachedPath).push.apply(t,F(this._path).concat([this._key])));return this._cachedPath}}])}(),bu=function(e,t){if(gu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;var t=new tu(e.common.issues);return this._error=t,this._error}}};function Cu(e){if(!e)return{};var t=e.errorMap,n=e.invalid_type_error,r=e.required_error,u=e.description;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:u};return{errorMap:function(t,u){var a,o,i=e.message;return"invalid_enum_value"===t.code?{message:null!=i?i:u.defaultError}:void 0===u.data?{message:null!==(a=null!=i?i:r)&&void 0!==a?a:u.defaultError}:"invalid_type"!==t.code?{message:u.defaultError}:{message:null!==(o=null!=i?i:n)&&void 0!==o?o:u.defaultError}},description:u}}var Eu,Au=function(){return b((function e(t){_(this,e),this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}),[{key:"description",get:function(){return this._def.description}},{key:"_getType",value:function(e){return Xr(e.data)}},{key:"_getOrReturnCtx",value:function(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}},{key:"_processInputParams",value:function(e){return{status:new lu,ctx:{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}},{key:"_parseSync",value:function(e){var t=this._parse(e);if(mu(t))throw new Error("Synchronous parse encountered promise.");return t}},{key:"_parseAsync",value:function(e){var t=this._parse(e);return Promise.resolve(t)}},{key:"parse",value:function(e,t){var n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}},{key:"safeParse",value:function(e,t){var n,r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)},u=this._parseSync({data:e,path:r.path,parent:r});return bu(r,u)}},{key:"parseAsync",value:(t=D(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.safeParseAsync(t,n);case 2:if(!(r=e.sent).success){e.next=5;break}return e.abrupt("return",r.data);case 5:throw r.error;case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"safeParseAsync",value:(e=D(g().mark((function e(t,n){var r,u,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={common:{issues:[],contextualErrorMap:null==n?void 0:n.errorMap,async:!0},path:(null==n?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Xr(t)},u=this._parse({data:t,path:r.path,parent:r}),e.next=4,mu(u)?u:Promise.resolve(u);case 4:return a=e.sent,e.abrupt("return",bu(r,a));case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"refine",value:function(e,t){return this._refinement((function(n,r){var u=e(n),a=function(){return r.addIssue(E({code:eu.custom},function(e){return"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t}(n)))};return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return!!e||(a(),!1)})):!!u||(a(),!1)}))}},{key:"refinement",value:function(e,t){return this._refinement((function(n,r){return!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1)}))}},{key:"_refinement",value:function(e){return new ga({schema:this,typeName:wa.ZodEffects,effect:{type:"refinement",refinement:e}})}},{key:"superRefine",value:function(e){return this._refinement(e)}},{key:"optional",value:function(){return ma.create(this,this._def)}},{key:"nullable",value:function(){return Da.create(this,this._def)}},{key:"nullish",value:function(){return this.nullable().optional()}},{key:"array",value:function(){return Ju.create(this,this._def)}},{key:"promise",value:function(){return va.create(this,this._def)}},{key:"or",value:function(e){return ea.create([this,e],this._def)}},{key:"and",value:function(e){return ua.create(this,e,this._def)}},{key:"transform",value:function(e){return new ga(E(E({},Cu(this._def)),{},{schema:this,typeName:wa.ZodEffects,effect:{type:"transform",transform:e}}))}},{key:"default",value:function(e){var t="function"==typeof e?e:function(){return e};return new _a(E(E({},Cu(this._def)),{},{innerType:this,defaultValue:t,typeName:wa.ZodDefault}))}},{key:"brand",value:function(){return new Ea(E({typeName:wa.ZodBranded,type:this},Cu(this._def)))}},{key:"catch",value:function(e){var t="function"==typeof e?e:function(){return e};return new ya(E(E({},Cu(this._def)),{},{innerType:this,catchValue:t,typeName:wa.ZodCatch}))}},{key:"describe",value:function(e){return new(0,this.constructor)(E(E({},this._def),{},{description:e}))}},{key:"pipe",value:function(e){return Aa.create(this,e)}},{key:"readonly",value:function(){return xa.create(this)}},{key:"isOptional",value:function(){return this.safeParse(void 0).success}},{key:"isNullable",value:function(){return this.safeParse(null).success}}]);var e,t}(),xu=/^c[^\s-]{8,}$/i,Fu=/^[0-9a-z]+$/,wu=/^[0-9A-HJKMNP-TV-Z]{26}$/,ku=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Bu=/^[a-z0-9_-]{21}$/i,ju=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Su=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Tu=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ou=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Iu=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Nu="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Lu=new RegExp("^".concat(Nu,"$"));function Mu(e){var t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?")),t}function Pu(e){var t="".concat(Nu,"T").concat(Mu(e)),n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}var zu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Qr.string){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.string,received:t.parsedType}),du}var n,r,u,a=new lu,o=void 0,i=w(this._def.checks);try{for(i.s();!(n=i.n()).done;){var s=n.value;if("min"===s.kind)e.data.length<s.value&&(ou(o=this._getOrReturnCtx(e,o),{code:eu.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("max"===s.kind)e.data.length>s.value&&(ou(o=this._getOrReturnCtx(e,o),{code:eu.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),a.dirty());else if("length"===s.kind){var c=e.data.length>s.value,l=e.data.length<s.value;(c||l)&&(o=this._getOrReturnCtx(e,o),c?ou(o,{code:eu.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&ou(o,{code:eu.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),a.dirty())}else if("email"===s.kind)Su.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"email",code:eu.invalid_string,message:s.message}),a.dirty());else if("emoji"===s.kind)Eu||(Eu=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Eu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"emoji",code:eu.invalid_string,message:s.message}),a.dirty());else if("uuid"===s.kind)ku.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"uuid",code:eu.invalid_string,message:s.message}),a.dirty());else if("nanoid"===s.kind)Bu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"nanoid",code:eu.invalid_string,message:s.message}),a.dirty());else if("cuid"===s.kind)xu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"cuid",code:eu.invalid_string,message:s.message}),a.dirty());else if("cuid2"===s.kind)Fu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"cuid2",code:eu.invalid_string,message:s.message}),a.dirty());else if("ulid"===s.kind)wu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"ulid",code:eu.invalid_string,message:s.message}),a.dirty());else if("url"===s.kind)try{new URL(e.data)}catch(d){ou(o=this._getOrReturnCtx(e,o),{validation:"url",code:eu.invalid_string,message:s.message}),a.dirty()}else if("regex"===s.kind){s.regex.lastIndex=0,s.regex.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"regex",code:eu.invalid_string,message:s.message}),a.dirty())}else if("trim"===s.kind)e.data=e.data.trim();else if("includes"===s.kind)e.data.includes(s.value,s.position)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),a.dirty());else if("toLowerCase"===s.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===s.kind)e.data=e.data.toUpperCase();else if("startsWith"===s.kind)e.data.startsWith(s.value)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:{startsWith:s.value},message:s.message}),a.dirty());else if("endsWith"===s.kind)e.data.endsWith(s.value)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:{endsWith:s.value},message:s.message}),a.dirty());else if("datetime"===s.kind){Pu(s).test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:"datetime",message:s.message}),a.dirty())}else if("date"===s.kind){Lu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:"date",message:s.message}),a.dirty())}else if("time"===s.kind){new RegExp("^".concat(Mu(s),"$")).test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{code:eu.invalid_string,validation:"time",message:s.message}),a.dirty())}else"duration"===s.kind?ju.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"duration",code:eu.invalid_string,message:s.message}),a.dirty()):"ip"===s.kind?(r=e.data,("v4"!==(u=s.version)&&u||!Tu.test(r))&&("v6"!==u&&u||!Ou.test(r))&&(ou(o=this._getOrReturnCtx(e,o),{validation:"ip",code:eu.invalid_string,message:s.message}),a.dirty())):"base64"===s.kind?Iu.test(e.data)||(ou(o=this._getOrReturnCtx(e,o),{validation:"base64",code:eu.invalid_string,message:s.message}),a.dirty()):$r.assertNever(s)}}catch(f){i.e(f)}finally{i.f()}return{status:a.value,value:e.data}}},{key:"_regex",value:function(e,t,n){return this.refinement((function(t){return e.test(t)}),E({validation:t,code:eu.invalid_string},iu.errToObj(n)))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[e])}))}},{key:"email",value:function(e){return this._addCheck(E({kind:"email"},iu.errToObj(e)))}},{key:"url",value:function(e){return this._addCheck(E({kind:"url"},iu.errToObj(e)))}},{key:"emoji",value:function(e){return this._addCheck(E({kind:"emoji"},iu.errToObj(e)))}},{key:"uuid",value:function(e){return this._addCheck(E({kind:"uuid"},iu.errToObj(e)))}},{key:"nanoid",value:function(e){return this._addCheck(E({kind:"nanoid"},iu.errToObj(e)))}},{key:"cuid",value:function(e){return this._addCheck(E({kind:"cuid"},iu.errToObj(e)))}},{key:"cuid2",value:function(e){return this._addCheck(E({kind:"cuid2"},iu.errToObj(e)))}},{key:"ulid",value:function(e){return this._addCheck(E({kind:"ulid"},iu.errToObj(e)))}},{key:"base64",value:function(e){return this._addCheck(E({kind:"base64"},iu.errToObj(e)))}},{key:"ip",value:function(e){return this._addCheck(E({kind:"ip"},iu.errToObj(e)))}},{key:"datetime",value:function(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(E({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n},iu.errToObj(null==e?void 0:e.message)))}},{key:"date",value:function(e){return this._addCheck({kind:"date",message:e})}},{key:"time",value:function(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(E({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision},iu.errToObj(null==e?void 0:e.message)))}},{key:"duration",value:function(e){return this._addCheck(E({kind:"duration"},iu.errToObj(e)))}},{key:"regex",value:function(e,t){return this._addCheck(E({kind:"regex",regex:e},iu.errToObj(t)))}},{key:"includes",value:function(e,t){return this._addCheck(E({kind:"includes",value:e,position:null==t?void 0:t.position},iu.errToObj(null==t?void 0:t.message)))}},{key:"startsWith",value:function(e,t){return this._addCheck(E({kind:"startsWith",value:e},iu.errToObj(t)))}},{key:"endsWith",value:function(e,t){return this._addCheck(E({kind:"endsWith",value:e},iu.errToObj(t)))}},{key:"min",value:function(e,t){return this._addCheck(E({kind:"min",value:e},iu.errToObj(t)))}},{key:"max",value:function(e,t){return this._addCheck(E({kind:"max",value:e},iu.errToObj(t)))}},{key:"length",value:function(e,t){return this._addCheck(E({kind:"length",value:e},iu.errToObj(t)))}},{key:"nonempty",value:function(e){return this.min(1,iu.errToObj(e))}},{key:"trim",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[{kind:"trim"}])}))}},{key:"toLowerCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[{kind:"toLowerCase"}])}))}},{key:"toUpperCase",value:function(){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[{kind:"toUpperCase"}])}))}},{key:"isDatetime",get:function(){return!!this._def.checks.find((function(e){return"datetime"===e.kind}))}},{key:"isDate",get:function(){return!!this._def.checks.find((function(e){return"date"===e.kind}))}},{key:"isTime",get:function(){return!!this._def.checks.find((function(e){return"time"===e.kind}))}},{key:"isDuration",get:function(){return!!this._def.checks.find((function(e){return"duration"===e.kind}))}},{key:"isEmail",get:function(){return!!this._def.checks.find((function(e){return"email"===e.kind}))}},{key:"isURL",get:function(){return!!this._def.checks.find((function(e){return"url"===e.kind}))}},{key:"isEmoji",get:function(){return!!this._def.checks.find((function(e){return"emoji"===e.kind}))}},{key:"isUUID",get:function(){return!!this._def.checks.find((function(e){return"uuid"===e.kind}))}},{key:"isNANOID",get:function(){return!!this._def.checks.find((function(e){return"nanoid"===e.kind}))}},{key:"isCUID",get:function(){return!!this._def.checks.find((function(e){return"cuid"===e.kind}))}},{key:"isCUID2",get:function(){return!!this._def.checks.find((function(e){return"cuid2"===e.kind}))}},{key:"isULID",get:function(){return!!this._def.checks.find((function(e){return"ulid"===e.kind}))}},{key:"isIP",get:function(){return!!this._def.checks.find((function(e){return"ip"===e.kind}))}},{key:"isBase64",get:function(){return!!this._def.checks.find((function(e){return"base64"===e.kind}))}},{key:"minLength",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxLength",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}}])}(Au);zu.create=function(e){var t;return new zu(E({checks:[],typeName:wa.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},Cu(e)))};var Ru=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments)).min=e.gte,e.max=e.lte,e.step=e.multipleOf,e}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Qr.number){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.number,received:t.parsedType}),du}var n,r,u,a,o,i,s=void 0,c=new lu,l=w(this._def.checks);try{for(l.s();!(n=l.n()).done;){var d=n.value;if("int"===d.kind)$r.isInteger(e.data)||(ou(s=this._getOrReturnCtx(e,s),{code:eu.invalid_type,expected:"integer",received:"float",message:d.message}),c.dirty());else if("min"===d.kind){(d.inclusive?e.data<d.value:e.data<=d.value)&&(ou(s=this._getOrReturnCtx(e,s),{code:eu.too_small,minimum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else if("max"===d.kind){(d.inclusive?e.data>d.value:e.data>=d.value)&&(ou(s=this._getOrReturnCtx(e,s),{code:eu.too_big,maximum:d.value,type:"number",inclusive:d.inclusive,exact:!1,message:d.message}),c.dirty())}else"multipleOf"===d.kind?0!=(r=e.data,u=d.value,a=void 0,o=void 0,i=void 0,a=(r.toString().split(".")[1]||"").length,o=(u.toString().split(".")[1]||"").length,i=a>o?a:o,parseInt(r.toFixed(i).replace(".",""))%parseInt(u.toFixed(i).replace(".",""))/Math.pow(10,i))&&(ou(s=this._getOrReturnCtx(e,s),{code:eu.not_multiple_of,multipleOf:d.value,message:d.message}),c.dirty()):"finite"===d.kind?Number.isFinite(e.data)||(ou(s=this._getOrReturnCtx(e,s),{code:eu.not_finite,message:d.message}),c.dirty()):$r.assertNever(d)}}catch(f){l.e(f)}finally{l.f()}return{status:c.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,iu.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,iu.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,iu.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,iu.toString(t))}},{key:"setLimit",value:function(e,n,r,u){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[{kind:e,value:n,inclusive:r,message:iu.toString(u)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[e])}))}},{key:"int",value:function(e){return this._addCheck({kind:"int",message:iu.toString(e)})}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:iu.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:iu.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:iu.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:iu.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iu.toString(t)})}},{key:"finite",value:function(e){return this._addCheck({kind:"finite",message:iu.toString(e)})}},{key:"safe",value:function(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:iu.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:iu.toString(e)})}},{key:"minValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"isInt",get:function(){return!!this._def.checks.find((function(e){return"int"===e.kind||"multipleOf"===e.kind&&$r.isInteger(e.value)}))}},{key:"isFinite",get:function(){var e,t=null,n=null,r=w(this._def.checks);try{for(r.s();!(e=r.n()).done;){var u=e.value;if("finite"===u.kind||"int"===u.kind||"multipleOf"===u.kind)return!0;"min"===u.kind?(null===n||u.value>n)&&(n=u.value):"max"===u.kind&&(null===t||u.value<t)&&(t=u.value)}}catch(a){r.e(a)}finally{r.f()}return Number.isFinite(n)&&Number.isFinite(t)}}])}(Au);Ru.create=function(e){return new Ru(E({checks:[],typeName:wa.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1},Cu(e)))};var Zu=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments)).min=e.gte,e.max=e.lte,e}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Qr.bigint){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.bigint,received:t.parsedType}),du}var n,r=void 0,u=new lu,a=w(this._def.checks);try{for(a.s();!(n=a.n()).done;){var o=n.value;if("min"===o.kind)(o.inclusive?e.data<o.value:e.data<=o.value)&&(ou(r=this._getOrReturnCtx(e,r),{code:eu.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty());else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(ou(r=this._getOrReturnCtx(e,r),{code:eu.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),u.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(ou(r=this._getOrReturnCtx(e,r),{code:eu.not_multiple_of,multipleOf:o.value,message:o.message}),u.dirty()):$r.assertNever(o)}}catch(i){a.e(i)}finally{a.f()}return{status:u.value,value:e.data}}},{key:"gte",value:function(e,t){return this.setLimit("min",e,!0,iu.toString(t))}},{key:"gt",value:function(e,t){return this.setLimit("min",e,!1,iu.toString(t))}},{key:"lte",value:function(e,t){return this.setLimit("max",e,!0,iu.toString(t))}},{key:"lt",value:function(e,t){return this.setLimit("max",e,!1,iu.toString(t))}},{key:"setLimit",value:function(e,n,r,u){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[{kind:e,value:n,inclusive:r,message:iu.toString(u)}])}))}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[e])}))}},{key:"positive",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:iu.toString(e)})}},{key:"negative",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:iu.toString(e)})}},{key:"nonpositive",value:function(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:iu.toString(e)})}},{key:"nonnegative",value:function(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:iu.toString(e)})}},{key:"multipleOf",value:function(e,t){return this._addCheck({kind:"multipleOf",value:e,message:iu.toString(t)})}},{key:"minValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"maxValue",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return t}}])}(Au);Zu.create=function(e){var t;return new Zu(E({checks:[],typeName:wa.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t},Cu(e)))};var Uu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==Qr.boolean){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.boolean,received:t.parsedType}),du}return pu(e.data)}}])}(Au);Uu.create=function(e){return new Uu(E({typeName:wa.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1},Cu(e)))};var Vu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Qr.date){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.date,received:t.parsedType}),du}if(isNaN(e.data.getTime()))return ou(this._getOrReturnCtx(e),{code:eu.invalid_date}),du;var n,r=new lu,u=void 0,a=w(this._def.checks);try{for(a.s();!(n=a.n()).done;){var o=n.value;"min"===o.kind?e.data.getTime()<o.value&&(ou(u=this._getOrReturnCtx(e,u),{code:eu.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(ou(u=this._getOrReturnCtx(e,u),{code:eu.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):$r.assertNever(o)}}catch(i){a.e(i)}finally{a.f()}return{status:r.value,value:new Date(e.data.getTime())}}},{key:"_addCheck",value:function(e){return new t(E(E({},this._def),{},{checks:[].concat(F(this._def.checks),[e])}))}},{key:"min",value:function(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:iu.toString(t)})}},{key:"max",value:function(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:iu.toString(t)})}},{key:"minDate",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"min"===r.kind&&(null===t||r.value>t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return null!=t?new Date(t):null}},{key:"maxDate",get:function(){var e,t=null,n=w(this._def.checks);try{for(n.s();!(e=n.n()).done;){var r=e.value;"max"===r.kind&&(null===t||r.value<t)&&(t=r.value)}}catch(u){n.e(u)}finally{n.f()}return null!=t?new Date(t):null}}])}(Au);Vu.create=function(e){return new Vu(E({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:wa.ZodDate},Cu(e)))};var Hu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._getType(e)!==Qr.symbol){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.symbol,received:t.parsedType}),du}return pu(e.data)}}])}(Au);Hu.create=function(e){return new Hu(E({typeName:wa.ZodSymbol},Cu(e)))};var Wu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._getType(e)!==Qr.undefined){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.undefined,received:t.parsedType}),du}return pu(e.data)}}])}(Au);Wu.create=function(e){return new Wu(E({typeName:wa.ZodUndefined},Cu(e)))};var qu=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._getType(e)!==Qr.null){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.null,received:t.parsedType}),du}return pu(e.data)}}])}(Au);qu.create=function(e){return new qu(E({typeName:wa.ZodNull},Cu(e)))};var Yu=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments))._any=!0,e}return f(t,e),b(t,[{key:"_parse",value:function(e){return pu(e.data)}}])}(Au);Yu.create=function(e){return new Yu(E({typeName:wa.ZodAny},Cu(e)))};var Gu=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments))._unknown=!0,e}return f(t,e),b(t,[{key:"_parse",value:function(e){return pu(e.data)}}])}(Au);Gu.create=function(e){return new Gu(E({typeName:wa.ZodUnknown},Cu(e)))};var $u=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.never,received:t.parsedType}),du}}])}(Au);$u.create=function(e){return new $u(E({typeName:wa.ZodNever},Cu(e)))};var Ku=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._getType(e)!==Qr.undefined){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.void,received:t.parsedType}),du}return pu(e.data)}}])}(Au);Ku.create=function(e){return new Ku(E({typeName:wa.ZodVoid},Cu(e)))};var Ju=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.ctx,r=t.status,u=this._def;if(n.parsedType!==Qr.array)return ou(n,{code:eu.invalid_type,expected:Qr.array,received:n.parsedType}),du;if(null!==u.exactLength){var a=n.data.length>u.exactLength.value,o=n.data.length<u.exactLength.value;(a||o)&&(ou(n,{code:a?eu.too_big:eu.too_small,minimum:o?u.exactLength.value:void 0,maximum:a?u.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:u.exactLength.message}),r.dirty())}if(null!==u.minLength&&n.data.length<u.minLength.value&&(ou(n,{code:eu.too_small,minimum:u.minLength.value,type:"array",inclusive:!0,exact:!1,message:u.minLength.message}),r.dirty()),null!==u.maxLength&&n.data.length>u.maxLength.value&&(ou(n,{code:eu.too_big,maximum:u.maxLength.value,type:"array",inclusive:!0,exact:!1,message:u.maxLength.message}),r.dirty()),n.common.async)return Promise.all(F(n.data).map((function(e,t){return u.type._parseAsync(new yu(n,e,n.path,t))}))).then((function(e){return lu.mergeArray(r,e)}));var i=F(n.data).map((function(e,t){return u.type._parseSync(new yu(n,e,n.path,t))}));return lu.mergeArray(r,i)}},{key:"element",get:function(){return this._def.type}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minLength:{value:e,message:iu.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxLength:{value:e,message:iu.toString(n)}}))}},{key:"length",value:function(e,n){return new t(E(E({},this._def),{},{exactLength:{value:e,message:iu.toString(n)}}))}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(Au);function Qu(e){if(e instanceof Xu){var t={};for(var n in e.shape){var r=e.shape[n];t[n]=ma.create(Qu(r))}return new Xu(E(E({},e._def),{},{shape:function(){return t}}))}return e instanceof Ju?new Ju(E(E({},e._def),{},{type:Qu(e.element)})):e instanceof ma?ma.create(Qu(e.unwrap())):e instanceof Da?Da.create(Qu(e.unwrap())):e instanceof aa?aa.create(e.items.map((function(e){return Qu(e)}))):e}Ju.create=function(e,t){return new Ju(E({type:e,minLength:null,maxLength:null,exactLength:null,typeName:wa.ZodArray},Cu(t)))};var Xu=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments))._cached=null,e.nonstrict=e.passthrough,e.augment=e.extend,e}return f(t,e),b(t,[{key:"_getCached",value:function(){if(null!==this._cached)return this._cached;var e=this._def.shape(),t=$r.objectKeys(e);return this._cached={shape:e,keys:t}}},{key:"_parse",value:function(e){if(this._getType(e)!==Qr.object){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.object,received:t.parsedType}),du}var n=this._processInputParams(e),r=n.status,u=n.ctx,a=this._getCached(),o=a.shape,i=a.keys,s=[];if(!(this._def.catchall instanceof $u&&"strip"===this._def.unknownKeys))for(var c in u.data)i.includes(c)||s.push(c);var l,d=[],f=w(i);try{for(f.s();!(l=f.n()).done;){var p=l.value,h=o[p],v=u.data[p];d.push({key:{status:"valid",value:p},value:h._parse(new yu(u,v,u.path,p)),alwaysSet:p in u.data})}}catch(k){f.e(k)}finally{f.f()}if(this._def.catchall instanceof $u){var m=this._def.unknownKeys;if("passthrough"===m){var _,y=w(s);try{for(y.s();!(_=y.n()).done;){var b=_.value;d.push({key:{status:"valid",value:b},value:{status:"valid",value:u.data[b]}})}}catch(k){y.e(k)}finally{y.f()}}else if("strict"===m)s.length>0&&(ou(u,{code:eu.unrecognized_keys,keys:s}),r.dirty());else if("strip"!==m)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{var C,E=this._def.catchall,A=w(s);try{for(A.s();!(C=A.n()).done;){var x=C.value,F=u.data[x];d.push({key:{status:"valid",value:x},value:E._parse(new yu(u,F,u.path,x)),alwaysSet:x in u.data})}}catch(k){A.e(k)}finally{A.f()}}return u.common.async?Promise.resolve().then(D(g().mark((function e(){var t,n,r,u,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=w(d),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=15;break}return u=r.value,e.next=8,u.key;case 8:return a=e.sent,e.next=11,u.value;case 11:o=e.sent,t.push({key:a,value:o,alwaysSet:u.alwaysSet});case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",t);case 24:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})))).then((function(e){return lu.mergeObjectSync(r,e)})):lu.mergeObjectSync(r,d)}},{key:"shape",get:function(){return this._def.shape()}},{key:"strict",value:function(e){var n=this;return iu.errToObj,new t(E(E({},this._def),{},{unknownKeys:"strict"},void 0!==e?{errorMap:function(t,r){var u,a,o,i,s=null!==(o=null===(a=(u=n._def).errorMap)||void 0===a?void 0:a.call(u,t,r).message)&&void 0!==o?o:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(i=iu.errToObj(e).message)&&void 0!==i?i:s}:{message:s}}}:{}))}},{key:"strip",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"strip"}))}},{key:"passthrough",value:function(){return new t(E(E({},this._def),{},{unknownKeys:"passthrough"}))}},{key:"extend",value:function(e){var n=this;return new t(E(E({},this._def),{},{shape:function(){return E(E({},n._def.shape()),e)}}))}},{key:"merge",value:function(e){var n=this;return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:function(){return E(E({},n._def.shape()),e._def.shape())},typeName:wa.ZodObject})}},{key:"setKey",value:function(e,t){return this.augment(A({},e,t))}},{key:"catchall",value:function(e){return new t(E(E({},this._def),{},{catchall:e}))}},{key:"pick",value:function(e){var n=this,r={};return $r.objectKeys(e).forEach((function(t){e[t]&&n.shape[t]&&(r[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"omit",value:function(e){var n=this,r={};return $r.objectKeys(this.shape).forEach((function(t){e[t]||(r[t]=n.shape[t])})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"deepPartial",value:function(){return Qu(this)}},{key:"partial",value:function(e){var n=this,r={};return $r.objectKeys(this.shape).forEach((function(t){var u=n.shape[t];e&&!e[t]?r[t]=u:r[t]=u.optional()})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"required",value:function(e){var n=this,r={};return $r.objectKeys(this.shape).forEach((function(t){if(e&&!e[t])r[t]=n.shape[t];else{for(var u=n.shape[t];u instanceof ma;)u=u._def.innerType;r[t]=u}})),new t(E(E({},this._def),{},{shape:function(){return r}}))}},{key:"keyof",value:function(){return fa($r.objectKeys(this.shape))}}])}(Au);Xu.create=function(e,t){return new Xu(E({shape:function(){return e},unknownKeys:"strip",catchall:$u.create(),typeName:wa.ZodObject},Cu(t)))},Xu.strictCreate=function(e,t){return new Xu(E({shape:function(){return e},unknownKeys:"strict",catchall:$u.create(),typeName:wa.ZodObject},Cu(t)))},Xu.lazycreate=function(e,t){return new Xu(E({shape:e,unknownKeys:"strip",catchall:$u.create(),typeName:wa.ZodObject},Cu(t)))};var ea=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=this._def.options;if(t.common.async)return Promise.all(n.map(function(){var e=D(g().mark((function e(n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),e.next=3,n._parseAsync({data:t.data,path:t.path,parent:r});case 3:return e.t0=e.sent,e.t1=r,e.abrupt("return",{result:e.t0,ctx:e.t1});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var n,r=w(e);try{for(r.s();!(n=r.n()).done;){var u=n.value;if("valid"===u.result.status)return u.result}}catch(l){r.e(l)}finally{r.f()}var a,o=w(e);try{for(o.s();!(a=o.n()).done;){var i,s=a.value;if("dirty"===s.result.status)return(i=t.common.issues).push.apply(i,F(s.ctx.common.issues)),s.result}}catch(l){o.e(l)}finally{o.f()}var c=e.map((function(e){return new tu(e.ctx.common.issues)}));return ou(t,{code:eu.invalid_union,unionErrors:c}),du}));var r,u,a=void 0,o=[],i=w(n);try{for(i.s();!(r=i.n()).done;){var s=r.value,c=E(E({},t),{},{common:E(E({},t.common),{},{issues:[]}),parent:null}),l=s._parseSync({data:t.data,path:t.path,parent:c});if("valid"===l.status)return l;"dirty"!==l.status||a||(a={result:l,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}}catch(f){i.e(f)}finally{i.f()}if(a)return(u=t.common.issues).push.apply(u,F(a.ctx.common.issues)),a.result;var d=o.map((function(e){return new tu(e)}));return ou(t,{code:eu.invalid_union,unionErrors:d}),du}},{key:"options",get:function(){return this._def.options}}])}(Au);ea.create=function(e,t){return new ea(E({options:e,typeName:wa.ZodUnion},Cu(t)))};var ta=function(e){return e instanceof la?ta(e.schema):e instanceof ga?ta(e.innerType()):e instanceof da?[e.value]:e instanceof pa?e.options:e instanceof ha?$r.objectValues(e.enum):e instanceof _a?ta(e._def.innerType):e instanceof Wu?[void 0]:e instanceof qu?[null]:e instanceof ma?[void 0].concat(F(ta(e.unwrap()))):e instanceof Da?[null].concat(F(ta(e.unwrap()))):e instanceof Ea||e instanceof xa?ta(e.unwrap()):e instanceof ya?ta(e._def.innerType):[]},na=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==Qr.object)return ou(t,{code:eu.invalid_type,expected:Qr.object,received:t.parsedType}),du;var n=this.discriminator,r=t.data[n],u=this.optionsMap.get(r);return u?t.common.async?u._parseAsync({data:t.data,path:t.path,parent:t}):u._parseSync({data:t.data,path:t.path,parent:t}):(ou(t,{code:eu.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),du)}},{key:"discriminator",get:function(){return this._def.discriminator}},{key:"options",get:function(){return this._def.options}},{key:"optionsMap",get:function(){return this._def.optionsMap}}],[{key:"create",value:function(e,n,r){var u,a=new Map,o=w(n);try{for(o.s();!(u=o.n()).done;){var i=u.value,s=ta(i.shape[e]);if(!s.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));var c,l=w(s);try{for(l.s();!(c=l.n()).done;){var d=c.value;if(a.has(d))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(d)));a.set(d,i)}}catch(f){l.e(f)}finally{l.f()}}}catch(f){o.e(f)}finally{o.f()}return new t(E({typeName:wa.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a},Cu(r)))}}])}(Au);function ra(e,t){var n=Xr(e),r=Xr(t);if(e===t)return{valid:!0,data:e};if(n===Qr.object&&r===Qr.object){var u,a=$r.objectKeys(t),o=$r.objectKeys(e).filter((function(e){return-1!==a.indexOf(e)})),i=E(E({},e),t),s=w(o);try{for(s.s();!(u=s.n()).done;){var c=u.value,l=ra(e[c],t[c]);if(!l.valid)return{valid:!1};i[c]=l.data}}catch(h){s.e(h)}finally{s.f()}return{valid:!0,data:i}}if(n===Qr.array&&r===Qr.array){if(e.length!==t.length)return{valid:!1};for(var d=[],f=0;f<e.length;f++){var p=ra(e[f],t[f]);if(!p.valid)return{valid:!1};d.push(p.data)}return{valid:!0,data:d}}return n===Qr.date&&r===Qr.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var ua=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx,u=function(e,t){if(hu(e)||hu(t))return du;var u=ra(e.value,t.value);return u.valid?((vu(e)||vu(t))&&n.dirty(),{status:n.value,value:u.data}):(ou(r,{code:eu.invalid_intersection_types}),du)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((function(e){var t=v(e,2),n=t[0],r=t[1];return u(n,r)})):u(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}])}(Au);ua.create=function(e,t,n){return new ua(E({left:e,right:t,typeName:wa.ZodIntersection},Cu(n)))};var aa=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx;if(u.parsedType!==Qr.array)return ou(u,{code:eu.invalid_type,expected:Qr.array,received:u.parsedType}),du;if(u.data.length<this._def.items.length)return ou(u,{code:eu.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),du;!this._def.rest&&u.data.length>this._def.items.length&&(ou(u,{code:eu.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());var a=F(u.data).map((function(e,n){var r=t._def.items[n]||t._def.rest;return r?r._parse(new yu(u,e,u.path,n)):null})).filter((function(e){return!!e}));return u.common.async?Promise.all(a).then((function(e){return lu.mergeArray(r,e)})):lu.mergeArray(r,a)}},{key:"items",get:function(){return this._def.items}},{key:"rest",value:function(e){return new t(E(E({},this._def),{},{rest:e}))}}])}(Au);aa.create=function(e,t){if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new aa(E({items:e,typeName:wa.ZodTuple,rest:null},Cu(t)))};var oa=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==Qr.object)return ou(r,{code:eu.invalid_type,expected:Qr.object,received:r.parsedType}),du;var u=[],a=this._def.keyType,o=this._def.valueType;for(var i in r.data)u.push({key:a._parse(new yu(r,i,r.path,i)),value:o._parse(new yu(r,r.data[i],r.path,i)),alwaysSet:i in r.data});return r.common.async?lu.mergeObjectAsync(n,u):lu.mergeObjectSync(n,u)}},{key:"element",get:function(){return this._def.valueType}}],[{key:"create",value:function(e,n,r){return new t(n instanceof Au?E({keyType:e,valueType:n,typeName:wa.ZodRecord},Cu(r)):E({keyType:zu.create(),valueType:e,typeName:wa.ZodRecord},Cu(n)))}}])}(Au),ia=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"keySchema",get:function(){return this._def.keyType}},{key:"valueSchema",get:function(){return this._def.valueType}},{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==Qr.map)return ou(r,{code:eu.invalid_type,expected:Qr.map,received:r.parsedType}),du;var u=this._def.keyType,a=this._def.valueType,o=F(r.data.entries()).map((function(e,t){var n=v(e,2),o=n[0],i=n[1];return{key:u._parse(new yu(r,o,r.path,[t,"key"])),value:a._parse(new yu(r,i,r.path,[t,"value"]))}}));if(r.common.async){var i=new Map;return Promise.resolve().then(D(g().mark((function e(){var t,r,u,a,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=w(o),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=17;break}return u=r.value,e.next=7,u.key;case 7:return a=e.sent,e.next=10,u.value;case 10:if(s=e.sent,"aborted"!==a.status&&"aborted"!==s.status){e.next=13;break}return e.abrupt("return",du);case 13:"dirty"!==a.status&&"dirty"!==s.status||n.dirty(),i.set(a.value,s.value);case 15:e.next=3;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),t.e(e.t0);case 22:return e.prev=22,t.f(),e.finish(22);case 25:return e.abrupt("return",{status:n.value,value:i});case 26:case"end":return e.stop()}}),e,null,[[1,19,22,25]])}))))}var s,c=new Map,l=w(o);try{for(l.s();!(s=l.n()).done;){var d=s.value,f=d.key,p=d.value;if("aborted"===f.status||"aborted"===p.status)return du;"dirty"!==f.status&&"dirty"!==p.status||n.dirty(),c.set(f.value,p.value)}}catch(h){l.e(h)}finally{l.f()}return{status:n.value,value:c}}}])}(Au);ia.create=function(e,t,n){return new ia(E({valueType:t,keyType:e,typeName:wa.ZodMap},Cu(n)))};var sa=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e),n=t.status,r=t.ctx;if(r.parsedType!==Qr.set)return ou(r,{code:eu.invalid_type,expected:Qr.set,received:r.parsedType}),du;var u=this._def;null!==u.minSize&&r.data.size<u.minSize.value&&(ou(r,{code:eu.too_small,minimum:u.minSize.value,type:"set",inclusive:!0,exact:!1,message:u.minSize.message}),n.dirty()),null!==u.maxSize&&r.data.size>u.maxSize.value&&(ou(r,{code:eu.too_big,maximum:u.maxSize.value,type:"set",inclusive:!0,exact:!1,message:u.maxSize.message}),n.dirty());var a=this._def.valueType;function o(e){var t,r=new Set,u=w(e);try{for(u.s();!(t=u.n()).done;){var a=t.value;if("aborted"===a.status)return du;"dirty"===a.status&&n.dirty(),r.add(a.value)}}catch(o){u.e(o)}finally{u.f()}return{status:n.value,value:r}}var i=F(r.data.values()).map((function(e,t){return a._parse(new yu(r,e,r.path,t))}));return r.common.async?Promise.all(i).then((function(e){return o(e)})):o(i)}},{key:"min",value:function(e,n){return new t(E(E({},this._def),{},{minSize:{value:e,message:iu.toString(n)}}))}},{key:"max",value:function(e,n){return new t(E(E({},this._def),{},{maxSize:{value:e,message:iu.toString(n)}}))}},{key:"size",value:function(e,t){return this.min(e,t).max(e,t)}},{key:"nonempty",value:function(e){return this.min(1,e)}}])}(Au);sa.create=function(e,t){return new sa(E({valueType:e,minSize:null,maxSize:null,typeName:wa.ZodSet},Cu(t)))};var ca=function(e){function t(){var e;return _(this,t),(e=i(this,t,arguments)).validate=e.implement,e}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;if(t.parsedType!==Qr.function)return ou(t,{code:eu.invalid_type,expected:Qr.function,received:t.parsedType}),du;function n(e,n){return au({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uu(),nu].filter((function(e){return!!e})),issueData:{code:eu.invalid_arguments,argumentsError:n}})}function r(e,n){return au({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,uu(),nu].filter((function(e){return!!e})),issueData:{code:eu.invalid_return_type,returnTypeError:n}})}var u={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof va){var o=this;return pu(D(g().mark((function e(){var t,i,s,c,l,d,f,p=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=p.length,i=new Array(t),s=0;s<t;s++)i[s]=p[s];return c=new tu([]),e.next=4,o._def.args.parseAsync(i,u).catch((function(e){throw c.addIssue(n(i,e)),c}));case 4:return l=e.sent,e.next=7,Reflect.apply(a,this,l);case 7:return d=e.sent,e.next=10,o._def.returns._def.type.parseAsync(d,u).catch((function(e){throw c.addIssue(r(d,e)),c}));case 10:return f=e.sent,e.abrupt("return",f);case 12:case"end":return e.stop()}}),e,this)}))))}var i=this;return pu((function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var s=i._def.args.safeParse(t,u);if(!s.success)throw new tu([n(t,s.error)]);var c=Reflect.apply(a,this,s.data),l=i._def.returns.safeParse(c,u);if(!l.success)throw new tu([r(c,l.error)]);return l.data}))}},{key:"parameters",value:function(){return this._def.args}},{key:"returnType",value:function(){return this._def.returns}},{key:"args",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return new t(E(E({},this._def),{},{args:aa.create(n).rest(Gu.create())}))}},{key:"returns",value:function(e){return new t(E(E({},this._def),{},{returns:e}))}},{key:"implement",value:function(e){return this.parse(e)}},{key:"strictImplement",value:function(e){return this.parse(e)}}],[{key:"create",value:function(e,n,r){return new t(E({args:e||aa.create([]).rest(Gu.create()),returns:n||Gu.create(),typeName:wa.ZodFunction},Cu(r)))}}])}(Au),la=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"schema",get:function(){return this._def.getter()}},{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx;return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}])}(Au);la.create=function(e,t){return new la(E({getter:e,typeName:wa.ZodLazy},Cu(t)))};var da=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(e.data!==this._def.value){var t=this._getOrReturnCtx(e);return ou(t,{received:t.data,code:eu.invalid_literal,expected:this._def.value}),du}return{status:"valid",value:e.data}}},{key:"value",get:function(){return this._def.value}}])}(Au);function fa(e,t){return new pa(E({values:e,typeName:wa.ZodEnum},Cu(t)))}da.create=function(e,t){return new da(E({value:e,typeName:wa.ZodLiteral},Cu(t)))};var pa=function(e){function t(){var e;return _(this,t),e=i(this,t,arguments),su.set(e,void 0),e}return f(t,e),b(t,[{key:"_parse",value:function(e){if("string"!=typeof e.data){var t=this._getOrReturnCtx(e),n=this._def.values;return ou(t,{expected:$r.joinValues(n),received:t.parsedType,code:eu.invalid_type}),du}if(Du(this,su)||_u(this,su,new Set(this._def.values)),!Du(this,su).has(e.data)){var r=this._getOrReturnCtx(e),u=this._def.values;return ou(r,{received:r.data,code:eu.invalid_enum_value,options:u}),du}return pu(e.data)}},{key:"options",get:function(){return this._def.values}},{key:"enum",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"Values",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"Enum",get:function(){var e,t={},n=w(this._def.values);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=r}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"extract",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(e,E(E({},this._def),n))}},{key:"exclude",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return t.create(this.options.filter((function(t){return!e.includes(t)})),E(E({},this._def),n))}}])}(Au);su=new WeakMap,pa.create=fa;var ha=function(e){function t(){var e;return _(this,t),e=i(this,t,arguments),cu.set(e,void 0),e}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=$r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Qr.string&&n.parsedType!==Qr.number){var r=$r.objectValues(t);return ou(n,{expected:$r.joinValues(r),received:n.parsedType,code:eu.invalid_type}),du}if(Du(this,cu)||_u(this,cu,new Set($r.getValidEnumValues(this._def.values))),!Du(this,cu).has(e.data)){var u=$r.objectValues(t);return ou(n,{received:n.data,code:eu.invalid_enum_value,options:u}),du}return pu(e.data)}},{key:"enum",get:function(){return this._def.values}}])}(Au);cu=new WeakMap,ha.create=function(e,t){return new ha(E({values:e,typeName:wa.ZodNativeEnum},Cu(t)))};var va=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"unwrap",value:function(){return this._def.type}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx;if(n.parsedType!==Qr.promise&&!1===n.common.async)return ou(n,{code:eu.invalid_type,expected:Qr.promise,received:n.parsedType}),du;var r=n.parsedType===Qr.promise?n.data:Promise.resolve(n.data);return pu(r.then((function(e){return t._def.type.parseAsync(e,{path:n.path,errorMap:n.common.contextualErrorMap})})))}}])}(Au);va.create=function(e,t){return new va(E({type:e,typeName:wa.ZodPromise},Cu(t)))};var ga=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"innerType",value:function(){return this._def.schema}},{key:"sourceType",value:function(){return this._def.schema._def.typeName===wa.ZodEffects?this._def.schema.sourceType():this._def.schema}},{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx,a=this._def.effect||null,o={addIssue:function(e){ou(u,e),e.fatal?r.abort():r.dirty()},get path(){return u.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===a.type){var i=a.transform(u.data,o);if(u.common.async)return Promise.resolve(i).then(function(){var e=D(g().mark((function e(n){var a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("aborted"!==r.value){e.next=2;break}return e.abrupt("return",du);case 2:return e.next=4,t._def.schema._parseAsync({data:n,path:u.path,parent:u});case 4:if("aborted"!==(a=e.sent).status){e.next=7;break}return e.abrupt("return",du);case 7:if("dirty"!==a.status){e.next=9;break}return e.abrupt("return",fu(a.value));case 9:if("dirty"!==r.value){e.next=11;break}return e.abrupt("return",fu(a.value));case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());if("aborted"===r.value)return du;var s=this._def.schema._parseSync({data:i,path:u.path,parent:u});return"aborted"===s.status?du:"dirty"===s.status||"dirty"===r.value?fu(s.value):s}if("refinement"===a.type){var c=function(e){var t=a.refinement(e,o);if(u.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===u.common.async){var l=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return"aborted"===l.status?du:("dirty"===l.status&&r.dirty(),c(l.value),{status:r.value,value:l.value})}return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then((function(e){return"aborted"===e.status?du:("dirty"===e.status&&r.dirty(),c(e.value).then((function(){return{status:r.value,value:e.value}})))}))}if("transform"===a.type){if(!1===u.common.async){var d=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!gu(d))return d;var f=a.transform(d.value,o);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then((function(e){return gu(e)?Promise.resolve(a.transform(e.value,o)).then((function(e){return{status:r.value,value:e}})):e}))}$r.assertNever(a)}}])}(Au);ga.create=function(e,t,n){return new ga(E({schema:e,typeName:wa.ZodEffects,effect:t},Cu(n)))},ga.createWithPreprocess=function(e,t,n){return new ga(E({schema:t,effect:{type:"preprocess",transform:e},typeName:wa.ZodEffects},Cu(n)))};var ma=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){return this._getType(e)===Qr.undefined?pu(void 0):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Au);ma.create=function(e,t){return new ma(E({innerType:e,typeName:wa.ZodOptional},Cu(t)))};var Da=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){return this._getType(e)===Qr.null?pu(null):this._def.innerType._parse(e)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Au);Da.create=function(e,t){return new Da(E({innerType:e,typeName:wa.ZodNullable},Cu(t)))};var _a=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return t.parsedType===Qr.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}},{key:"removeDefault",value:function(){return this._def.innerType}}])}(Au);_a.create=function(e,t){return new _a(E({innerType:e,typeName:wa.ZodDefault,defaultValue:"function"==typeof t.default?t.default:function(){return t.default}},Cu(t)))};var ya=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e).ctx,r=E(E({},n),{},{common:E(E({},n.common),{},{issues:[]})}),u=this._def.innerType._parse({data:r.data,path:r.path,parent:E({},r)});return mu(u)?u.then((function(e){return{status:"valid",value:"valid"===e.status?e.value:t._def.catchValue({get error(){return new tu(r.common.issues)},input:r.data})}})):{status:"valid",value:"valid"===u.status?u.value:this._def.catchValue({get error(){return new tu(r.common.issues)},input:r.data})}}},{key:"removeCatch",value:function(){return this._def.innerType}}])}(Au);ya.create=function(e,t){return new ya(E({innerType:e,typeName:wa.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:function(){return t.catch}},Cu(t)))};var ba=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){if(this._getType(e)!==Qr.nan){var t=this._getOrReturnCtx(e);return ou(t,{code:eu.invalid_type,expected:Qr.nan,received:t.parsedType}),du}return{status:"valid",value:e.data}}}])}(Au);ba.create=function(e){return new ba(E({typeName:wa.ZodNaN},Cu(e)))};var Ca=Symbol("zod_brand"),Ea=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._processInputParams(e).ctx,n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}},{key:"unwrap",value:function(){return this._def.type}}])}(Au),Aa=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this,n=this._processInputParams(e),r=n.status,u=n.ctx;if(u.common.async){var a=function(){var e=D(g().mark((function e(){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._def.in._parseAsync({data:u.data,path:u.path,parent:u});case 2:if("aborted"!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",du);case 5:if("dirty"!==n.status){e.next=10;break}return r.dirty(),e.abrupt("return",fu(n.value));case 10:return e.abrupt("return",t._def.out._parseAsync({data:n.value,path:u.path,parent:u}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a()}var o=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return"aborted"===o.status?du:"dirty"===o.status?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:u.path,parent:u})}}],[{key:"create",value:function(e,n){return new t({in:e,out:n,typeName:wa.ZodPipeline})}}])}(Au),xa=function(e){function t(){return _(this,t),i(this,t,arguments)}return f(t,e),b(t,[{key:"_parse",value:function(e){var t=this._def.innerType._parse(e),n=function(e){return gu(e)&&(e.value=Object.freeze(e.value)),e};return mu(t)?t.then((function(e){return n(e)})):n(t)}},{key:"unwrap",value:function(){return this._def.innerType}}])}(Au);function Fa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?Yu.create().superRefine((function(r,u){var a,o;if(!e(r)){var i="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,s=null===(o=null!==(a=i.fatal)&&void 0!==a?a:n)||void 0===o||o,c="string"==typeof i?{message:i}:i;u.addIssue(E(E({code:"custom"},c),{},{fatal:s}))}})):Yu.create()}xa.create=function(e,t){return new xa(E({innerType:e,typeName:wa.ZodReadonly},Cu(t)))};var wa,ka={object:Xu.lazycreate};!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(wa||(wa={}));var Ba=zu.create,ja=Ru.create,Sa=ba.create,Ta=Zu.create,Oa=Uu.create,Ia=Vu.create,Na=Hu.create,La=Wu.create,Ma=qu.create,Pa=Yu.create,za=Gu.create,Ra=$u.create,Za=Ku.create,Ua=Ju.create,Va=Xu.create,Ha=Xu.strictCreate,Wa=ea.create,qa=na.create,Ya=ua.create,Ga=aa.create,$a=oa.create,Ka=ia.create,Ja=sa.create,Qa=ca.create,Xa=la.create,eo=da.create,to=pa.create,no=ha.create,ro=va.create,uo=ga.create,ao=ma.create,oo=Da.create,io=ga.createWithPreprocess,so=Aa.create,co={string:function(e){return zu.create(E(E({},e),{},{coerce:!0}))},number:function(e){return Ru.create(E(E({},e),{},{coerce:!0}))},boolean:function(e){return Uu.create(E(E({},e),{},{coerce:!0}))},bigint:function(e){return Zu.create(E(E({},e),{},{coerce:!0}))},date:function(e){return Vu.create(E(E({},e),{},{coerce:!0}))}},lo=du,fo=Object.freeze({__proto__:null,defaultErrorMap:nu,setErrorMap:function(e){ru=e},getErrorMap:uu,makeIssue:au,EMPTY_PATH:[],addIssueToContext:ou,ParseStatus:lu,INVALID:du,DIRTY:fu,OK:pu,isAborted:hu,isDirty:vu,isValid:gu,isAsync:mu,get util(){return $r},get objectUtil(){return Kr},ZodParsedType:Qr,getParsedType:Xr,ZodType:Au,datetimeRegex:Pu,ZodString:zu,ZodNumber:Ru,ZodBigInt:Zu,ZodBoolean:Uu,ZodDate:Vu,ZodSymbol:Hu,ZodUndefined:Wu,ZodNull:qu,ZodAny:Yu,ZodUnknown:Gu,ZodNever:$u,ZodVoid:Ku,ZodArray:Ju,ZodObject:Xu,ZodUnion:ea,ZodDiscriminatedUnion:na,ZodIntersection:ua,ZodTuple:aa,ZodRecord:oa,ZodMap:ia,ZodSet:sa,ZodFunction:ca,ZodLazy:la,ZodLiteral:da,ZodEnum:pa,ZodNativeEnum:ha,ZodPromise:va,ZodEffects:ga,ZodTransformer:ga,ZodOptional:ma,ZodNullable:Da,ZodDefault:_a,ZodCatch:ya,ZodNaN:ba,BRAND:Ca,ZodBranded:Ea,ZodPipeline:Aa,ZodReadonly:xa,custom:Fa,Schema:Au,ZodSchema:Au,late:ka,get ZodFirstPartyTypeKind(){return wa},coerce:co,any:Pa,array:Ua,bigint:Ta,boolean:Oa,date:Ia,discriminatedUnion:qa,effect:uo,enum:to,function:Qa,instanceof:function(e){return Fa((function(t){return t instanceof e}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},intersection:Ya,lazy:Xa,literal:eo,map:Ka,nan:Sa,nativeEnum:no,never:Ra,null:Ma,nullable:oo,number:ja,object:Va,oboolean:function(){return Oa().optional()},onumber:function(){return ja().optional()},optional:ao,ostring:function(){return Ba().optional()},pipeline:so,preprocess:io,promise:ro,record:$a,set:Ja,strictObject:Ha,string:Ba,symbol:Na,transformer:uo,tuple:Ga,undefined:La,union:Wa,unknown:za,void:Za,NEVER:lo,ZodIssueCode:eu,quotelessJson:function(e){return JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:")},ZodError:tu});function po(e,t){return"".concat(e," field of type '").concat(t,"' must be a non-empty array")}var ho,vo,go={Text:"text",CustomText:"customtext",HTMLContent:"htmlcontent",Media:"media",Carousel:"carousel",QuickReplies:"quickreplies",Buttons:"buttons",MultiContent:"multicontent"},mo=fo.object({type:fo.enum(["payload","link","call"]),payload:fo.string().optional(),display_text:fo.string(),phone_number:fo.string().optional(),country_code:fo.string().optional(),target:fo.string().optional(),id:fo.string().optional(),url:fo.string().optional()}),Do=fo.enum([go.Text,go.CustomText,go.HTMLContent,go.Media,go.Carousel,go.QuickReplies,go.Buttons,go.MultiContent]),_o=fo.object({media_type:Do}),yo=fo.object({media_type:fo.literal(go.Text)}),bo=fo.object({media_type:fo.literal(go.CustomText),text_response:fo.string()}),Co=fo.object({media_type:fo.literal(go.HTMLContent),content:fo.array(fo.string({invalid_type_error:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"string";return"'".concat(e,"' field of type '").concat(t,"' must be a ").concat(n)}("content",go.HTMLContent)}),{required_error:(ho="content",vo=go.HTMLContent,"".concat(ho," field of type '").concat(vo,"' is required"))}).nonempty({message:po("content",go.HTMLContent)})}),Eo=fo.object({media_type:fo.literal(go.Media),media:fo.object({media_type:fo.enum(["image","audio","video","file"]),url:fo.string(),ignore_valid:fo.boolean().optional(),provider:fo.literal("twilio").optional(),getContentTemporaryUrl:fo.function().returns(fo.promise(fo.string())).optional()})}),Ao=fo.object({media_type:fo.literal(go.Carousel),carousel:fo.object({elements:fo.array(fo.object({title:fo.string(),text:fo.string().optional(),image_url:fo.string().optional(),buttons:fo.array(mo).nonempty({message:po("carousel.elements.buttons",go.Carousel)})})).nonempty({message:po("carousel.elements",go.Carousel)})})}),xo=fo.object({media_type:fo.literal(go.QuickReplies),text_response:fo.string().optional(),quick_actions:fo.object({elements:fo.array(mo).nonempty({message:po("quick_actions.elements",go.QuickReplies)})})}),Fo=fo.object({media_type:fo.literal(go.Buttons),text_response:fo.string().optional(),quick_actions:fo.object({elements:fo.array(mo).nonempty({message:po("quick_actions.elements",go.Buttons)})})}),wo=fo.object({media_type:fo.literal(go.MultiContent),content:fo.array(fo.union([bo,Eo,Ao,xo,Fo,Co])).nonempty({message:po("content",go.MultiContent)})}),ko=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(_o)}),Bo=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(fo.never().or(yo))}),jo=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(bo)}),So=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(Eo)}),To=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(Co)}),Oo=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(Ao)}),Io=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(xo)}),No=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(Fo)}),Lo=fo.object({alt_text:fo.string(),responses:fo.array(fo.string()),payloads:fo.array(wo)});function Mo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{var t=v(e.split("/"),2);return{prefix:t[0],suffix:t[1]}}catch(xc){return{prefix:"",suffix:""}}}var Po=["audio/mpeg","audio/mp3","image/jpeg","image/png","video/mp4","video/quicktime","application/pdf"],zo=Po.join(",");function Ro(e){return e.map((function(e){return{type:"text",text:e}}))}function Zo(e){return e.map((function(e){var t,n=e.type,r=e.payload,u=e.display_text,a=e.phone_number,o=e.url;switch(n){case"payload":return{type:"reply",payload:null!=r?r:"",text:u};case"call":return{type:"call",payload:"tel:".concat(null!=r?r:a),text:u};case"link":return{type:"link",payload:null!==(t=null!=r?r:o)&&void 0!==t?t:"",text:u,target:"_blank"};default:console.error("Invalid button type: ",n)}})).filter(Boolean)}function Uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return 0===e.length?{lastMessage:t,previousMessages:[]}:1===e.length?{lastMessage:e[0],previousMessages:[]}:{lastMessage:e[e.length-1],previousMessages:e.slice(0,-1)}}var Vo=wt.getSubLogger({name:"receiver"});function Ho(e,t){var n=e.author,r=void 0===n?"":n,u=e.sid,a=e.index,o=function(e){var t,n=e.type,r=e.body,u="media"===n,a=r?[r]:[],o={media_type:"text"},i=e.attachedMedia;if(u&&i){var s=i[0],c=Mo(s.contentType).prefix,l=function(){return s.getContentTemporaryUrl()};o={media_type:"media",media:{media_type:["video","image","audio"].indexOf(c)>-1?c:"file",ignore_valid:!0,provider:"twilio",getContentTemporaryUrl:l}}}var d,f=e.attributes;if(null!=f&&f.is_virtual_agent&&r)try{var p=function(e){var t=Jr(e,10),n=Bo.safeParse(t);if(n.success)return n.data;var r=ko.safeParse(t);if(!r.success)throw r.error;var u=r.data.payloads[0].media_type;switch(u){case go.Text:return Bo.parse(t);case go.CustomText:return jo.parse(t);case go.HTMLContent:return To.parse(t);case go.Media:return So.parse(t);case go.Carousel:return Oo.parse(t);case go.QuickReplies:return Io.parse(t);case go.Buttons:return No.parse(t);case go.MultiContent:return Lo.parse(t);default:throw new Error("Unsupported type: "+u)}}(JSON.parse(r));a=p.responses,o=p.payloads[0]||o}catch(v){Vo.warn("Failed to parse virtual agent message=".concat("string"==typeof v?v:null==v?void 0:v.message),v);var h=function(e){var t;return e instanceof tu?(e.issues.forEach((function(e){wt.error("".concat(e.message,": ").concat(e.path.map((function(e){return"number"==typeof e?"[".concat(e,"]"):e})).join(".")))})),t=e.issues.map((function(e){return e.message})).join("\n")):e instanceof Error?(t=e.message,wt.error(e)):t="Unknown error",t}(v);return{responses:[],payload:{media_type:"error",error_message:h}}}return"digital_interaction_assigned"===(null==f||null===(t=f.action)||void 0===t?void 0:t.name)?{responses:[],payload:{media_type:"system",action_type:"assign",smart_text:{key:"assignMessage",options:{name:null===(d=f.action.metadata)||void 0===d?void 0:d.cur_display_name}}}}:{responses:a,payload:o}}(e),i=o.responses,s=o.payload,c=r===t?"sent":"received",l=new Date(e.dateCreated||Date.now()).getTime(),d=l?gr(l):"",f=wr(e),p=Fr(e),h=kr(p),v=Sr(e);return{index:a,sid:u,tid:"",rid:f,status:"success",alignment:c,timestamp:l,formattedTime:d,items:Wo(i,s),role:p,avatar:h,participantName:v}}function Wo(e,t){var n=[];switch(t.media_type){case"text":default:n=Ro(e);break;case"customtext":n=function(e){return[{type:"text",text:e.text_response}]}(t);break;case"htmlcontent":n=function(e){return e.content.map((function(e){return{type:"rich_text",html:e}}))}(t);break;case"carousel":n=function(e,t){var n=t.carousel.elements.slice(0,le.CAROUSEL_CARDS).map((function(e){return{title:e.title,description:e.text,imageUrl:e.image_url,buttons:Zo(e.buttons.slice(0,le.CAROUSEL_BUTTONS))}}));return[].concat(F(Ro(e.filter((function(e){return""!==e})))),[{type:"carousel",cards:n}])}(e,t);break;case"media":n=function(e,t){var n=t.media,r=n.media_type,u=n.url,a=n.ignore_valid,o=n.provider,i=n.getContentTemporaryUrl;return[].concat(F(Ro(e.filter((function(e){return""!==e})))),[{type:r,url:u,ignoreValid:a,provider:o,getContentTemporaryUrl:i,smart_text:{key:"download"}}])}(e,t);break;case"buttons":n=function(e,t){var n=t.quick_actions,r=t.text_response,u=Uo(r?[r]:e,""),a=u.lastMessage,o=u.previousMessages;return[].concat(F(Ro(o)),[{type:"buttons",text:a,buttons:Zo(n.elements.slice(0,le.BUTTONS))}])}(e,t);break;case"quickreplies":n=function(e,t){var n=t.quick_actions,r=t.text_response,u=Uo(r?[r]:e,d.t("yourOptions")),a=u.lastMessage,o=u.previousMessages;return[].concat(F(Ro(o)),[{type:"quick_replies",text:a,replies:Zo(n.elements.slice(0,le.BUTTONS))}])}(e,t);break;case"system":n=function(e){return[{type:"system",action_type:e.action_type,smart_text:e.smart_text}]}(t);break;case"multicontent":n=t.content.map((function(e){return Wo([],e)})).flat();break;case"error":n=[{type:t.media_type,error_message:t.error_message}]}return n}var qo="close_conversation_by_participant";function Yo(e,t){return Fe(D(g().mark((function t(){var n,r,u,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Oi.getState().getCredentials(e);case 2:if(null==(n=t.sent)||!n.error){t.next=5;break}return t.abrupt("return",Promise.reject(new Error("Failed to fetch TwilioCredentials reason=".concat(n.error," payload=").concat(be(e)))));case 5:if(null!=n&&n.data){t.next=7;break}return t.abrupt("return",Promise.reject(new Error("Failed to fetch TwilioCredentials reason=response empty payload=".concat(be(e)))));case 7:if(e.bootstrap_type!==re.getAccessToken){t.next=9;break}return t.abrupt("return",{accessToken:(null===(r=n.data)||void 0===r?void 0:r.accessToken)||"",region:(null===(u=n.data)||void 0===u?void 0:u.region)||""});case 9:if(e.bootstrap_type!==re.getConversationAndParticipant){t.next=11;break}return t.abrupt("return",{roomId:(null===(a=n.data)||void 0===a?void 0:a.roomId)||""});case 11:return t.abrupt("return",n.data);case 12:case"end":return t.stop()}}),t)}))),{defaultRetry:t})}function Go(e){return!e||Date.now()-e>=ne}function $o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=null===(e=Wi.getState().config)||void 0===e?void 0:e.appProps,r=Object.values(he).indexOf(t||"")>-1?t:he.US1,u={region:r};if(null!=n&&n.proxyHost){var a="https:"===location.protocol?"wss":"ws";u.Twilsock={uri:"".concat(a,"://").concat(n.proxyHost).concat(r===he.US1?ve.twilioUs1:ve.twilioIe1)}}return u}function Ko(e,t,n){return Jo.apply(this,arguments)}function Jo(){return Jo=D(g().mark((function e(t,n,r){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Fe(D(g().mark((function e(){var r,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Se(D(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.import("./browser-legacy-C2qejULa.js").then((function(e){return e.b}));case 2:return t=e.sent,n=t.Client,e.abrupt("return",{Client:n});case 5:case"end":return e.stop()}}),e)}))),void 0,l.meta.url);case 3:return r=e.sent,u=r.Client,e.abrupt("return",new Promise((function(e,r){var a=new u(t,n);a.once("initFailed",(function(e){var t;a.removeAllListeners(),a.shutdown(),r(new Error("Failed to create twilio client reason=".concat((null==e||null===(t=e.error)||void 0===t?void 0:t.message)||"unknown error")))})),a.once("stateChanged",(function(t){"initialized"===t&&e(a)}))})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Promise.reject("Failed to create twilio client reason=".concat(De(e.t0))));case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),{defaultRetry:r}));case 1:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Qo(e){return Xo.apply(this,arguments)}function Xo(){return(Xo=D(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ki.getState().createIdentity(),e.next=3,Yo({identity:n,bootstrap_type:re.getAccessToken},t);case 3:if((r=e.sent).accessToken){e.next=6;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio access token reason=access token empty")));case 6:return Ki.getState().setCredentials({region:r.region,accessToken:r.accessToken,createAccessTokenAt:Date.now()}),e.abrupt("return",Ki.getState().credentials);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ei(e){return ti.apply(this,arguments)}function ti(){return ti=D(g().mark((function e(t){var n,r,u,a,o,i,s,c,l,d,f,p,h;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ki.getState().credentials,u=r.roomId,a=r.accessToken,o=r.createAccessTokenAt,i=!1,!u){e.next=4;break}return e.abrupt("return",Ki.getState().credentials);case 4:return e.next=6,Oi.getState().conversationStart();case 6:return e.next=8,Oi.getState().getAllConfig();case 8:return s=e.sent,c=null==s||null===(n=s.data)||void 0===n?void 0:n.context,l=E(E({},c),Ki.getState().formData),d=Ki.getState().createIdentity(),f={identity:d,custom_fields:l},i=Go(o),a&&!i&&(f.bootstrap_type=re.getConversationAndParticipant),e.next=17,Yo(f,t);case 17:if(null!=(p=e.sent)&&p.roomId){e.next=20;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio room id reason=no found roomId")));case 20:if(a||null!=p&&p.accessToken){e.next=22;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio room id reason=no found accessToken")));case 22:return a?Ki.getState().setCredentials(i?{roomId:p.roomId,accessToken:p.accessToken,createAccessTokenAt:Date.now()}:{roomId:p.roomId}):Ki.getState().setCredentials(p),h=Ki.getState().credentials,Ar.getState().emit(oe.conversationCreated,{identity:Ki.getState().identity,credentials:h}),e.abrupt("return",h);case 26:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e){var t,n=e.attributes;if(null==n||!n.isReachabilityMessage){if("digital_interaction_assigned"===(null==n||null===(t=n.action)||void 0===t?void 0:t.name))if(jr(e),Pr(e))return;if(null!=n&&n.tid&&""!==(null==n?void 0:n.tid)){var r=Bi.getState().update(n.tid,function(e){var t=e.sid;return{index:e.index,sid:t,rid:wr(e),role:Fr(e),participantName:Sr(e),status:"success"}}(e));if(r)return}return Ho(e,Ki.getState().identity)}}function ri(e){return ui.apply(this,arguments)}function ui(){return ui=D(g().mark((function e(t){var n,r,u,a=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:100,e.prev=1,t){e.next=4;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages reason=no found conversation")));case 4:return e.next=6,t.getMessages(n);case 6:if(null==(r=e.sent)||!r.items){e.next=11;break}return u=r.items.map((function(e){return ni(e)})).filter(Boolean),Bi.getState().set(u),e.abrupt("return",u);case 11:return e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages sid=".concat(t.sid," reason=empty response"))));case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt("return",Promise.reject(new Error("Failed to fetch all twilio messages sid=".concat(null==t?void 0:t.sid," reason=").concat(De(e.t0)))));case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))),ui.apply(this,arguments)}function ai(e){return oi.apply(this,arguments)}function oi(){return oi=D(g().mark((function e(t){var n,r,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ki.getState().identity,e.prev=1,e.next=4,t.getParticipants();case 4:if(r=e.sent,u=r.find((function(e){return e.identity===n})),!u){e.next=8;break}return e.abrupt("return",u);case 8:return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person for twilio conversation participant sid=".concat(t.sid," identity=").concat(n," reason=contact person no found"))));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person for conversation participant sid=".concat(t.sid," identity=").concat(n," reason=").concat(De(e.t0)))));case 14:case"end":return e.stop()}}),e,null,[[1,11]])}))),oi.apply(this,arguments)}function ii(e){return e&&(null!==(t=e)&&!Array.isArray(t)&&"object"===h(t)&&t.constructor===Object)?e:null;var t}function si(e){var t=ii(null==e?void 0:e.attributes),n=(null==t?void 0:t.original_interaction_id)||"",r=(null==t?void 0:t.interaction_stage)||"",u=(null==t?void 0:t.feedback_link)||"",a=!1;return t?(u=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=null===(e=Wi.getState().config)||void 0===e||null===(e=e.appProps)||void 0===e?void 0:e.proxyHost,u=null===(t=Wi.getState().config)||void 0===t||null===(t=t.appConfig)||void 0===t?void 0:t.languageCode,a=Ki.getState().layoutDirection,o="https:"===location.protocol,i=br(),s=n;if(s){var c=["ui_version=2","layout_direction=".concat(a),u?"lang=".concat(u):"",i?"touchpoint_id=".concat(i):""];r&&[["https://api.talkdeskapp.com","".concat(r).concat(ve.tdGatewayUs)],["https://api.talkdeskapp.eu","".concat(r).concat(ve.tdGatewayEu)],["https://api.talkdeskappca.com","".concat(r).concat(ve.tdGatewayCa)],["https://api.talkdeskapp-pubsec.com","".concat(r).concat(ve.tdGatewayUsFed)]].forEach((function(e){var t=v(e,2),n=t[0],r=t[1];if(s.indexOf(n)>-1){var u="".concat(o?"https":"http","://").concat(r);s=s.replace(n,u),c.push("proxy_host=".concat(encodeURIComponent(u)))}})),s=s.indexOf("?")>-1?"".concat(s,"&").concat(c.filter(Boolean).join("&")):"".concat(s,"?").concat(c.filter(Boolean).join("&"))}return s}(u),!r&&u&&(a=!0),"END"===r&&u&&(a=!0),{interactionId:n,feedbackLink:u,interactionStage:r,shouldLoadFeedback:a}):{interactionId:n,feedbackLink:u,interactionStage:r,shouldLoadFeedback:a}}function ci(e){var t=e.instance,n=e.selfClosed,r=e.shouldLoadFeedback;return Boolean(!function(e){var t;return"active"===(null===(t=e.state)||void 0===t?void 0:t.current)}(t)||n||r)}function li(e){return Fe(D(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.updateAttributes(Object.assign(ii(null==e?void 0:e.attributes)||{},{bootstrapped:!0}));case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",Promise.reject(new Error("Failed to trigger flow for twilio participant sid=".concat(e.sid," reason=").concat(De(t.t0)))));case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),{defaultRetry:3})}function di(e){return fi.apply(this,arguments)}function fi(){return fi=D(g().mark((function e(t){var n,r,u,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ai(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person participant reason=no found")));case 5:return e.next=7,n.getUser();case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",Promise.reject(new Error("Failed to fetch contact person user reason=no found")));case 10:return u=ii(null==n?void 0:n.attributes)||{},a=ii(null==r?void 0:r.attributes)||{},e.next=14,Promise.all([n.updateAttributes(E(E({},u),{},{update_reasons:qo})),r.updateAttributes(E(E({},a),{},{update_reasons:qo}))]);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function pi(e,t){var n;Bi.getState().update(t,{status:"failure",resend:(n=D(g().mark((function n(){return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!Ki.getState().isNot("conversation")){n.next=2;break}return n.abrupt("return");case 2:return Bi.getState().remove(t),n.next=5,Fi.sendMessage(e);case 5:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)})})}function hi(e){return vi.apply(this,arguments)}function vi(){return(vi=D(g().mark((function e(t){var n,r,u,a,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=Date.now(),u=Date.now(),!t.shouldFetchAccessToken){e.next=8;break}return e.next=6,Qo(0);case 6:r=Date.now()-r,Ar.getState().emit(oe.preloadClient,{identity:Ki.getState().identity,credentials:Ki.getState().credentials});case 8:return e.next=10,Ko(Ki.getState().credentials.accessToken,$o(Ki.getState().credentials.region),0);case 10:return a=e.sent,u=Date.now()-u,null==t||null===(n=t.onResolve)||void 0===n||n.call(t,{fetchAccessTokenDuration:r,connectClientDuration:u}),e.abrupt("return",{client:a});case 16:return e.prev=16,e.t0=e.catch(0),null==t||null===(o=t.onReject)||void 0===o||o.call(t,e.t0),e.abrupt("return",{error:e.t0});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function gi(e,t){return mi.apply(this,arguments)}function mi(){return(mi=D(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.peekConversationBySid(n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(new Error("Failed to fetch twilio conversation sid=".concat(n," reason=").concat(De(e.t0)))));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var Di=wt.getSubLogger({name:"TwilioClient"}),_i=function(){return b((function e(t){_(this,e),A(this,"_retryConfiguration",{fetchProviderRoomId:2,createProviderClient:3,connectProviderClient:0}),A(this,"_preloadClientPromise",null),A(this,"_providerClient",null),A(this,"_bindEventsHandlers",null),A(this,"_preloadClientData",null),this.parent=t}),[{key:"handleOnStateChanged",value:function(e){Di.info("client changed state=".concat(e," conversationEnded=").concat(this.parent.conversation.isEnd)),this.parent.conversation.isEnd||("connected"===e?(this.parent.status="activated",Ki.getState().emit("reconnect"),ri(this.parent.conversation.current).catch((function(e){return Di.warn("Failed to fetch messages after reconnect error=".concat(De(e)))}))):(this.parent.status="deactivated",Ki.getState().emit("disconnect")))}},{key:"handleOnTokenExpired",value:function(){Di.warn("client token expired"),Ki.getState().isNot(ae.Error)&&(Ki.getState().go(ae.Error),this.parent.destroy())}},{key:"listenerEvents",value:function(){var e=this;if(this._providerClient&&!this._bindEventsHandlers){var t=this.handleOnStateChanged.bind(this),n=this.handleOnTokenExpired.bind(this);this._bindEventsHandlers=function(){var r,u;null===(r=e._providerClient)||void 0===r||r.off("connectionStateChanged",t),null===(u=e._providerClient)||void 0===u||u.off("tokenExpired",n)},this._providerClient.on("connectionStateChanged",t),this._providerClient.on("tokenExpired",n)}}},{key:"preload",value:(t=D(g().mark((function e(t){var n,r=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ki.getState().credentials.roomId){e.next=2;break}return e.abrupt("return");case 2:if(!this._preloadClientPromise||"tabEvent"!==t){e.next=11;break}return e.next=5,this._preloadClientPromise;case 5:if(null==(n=e.sent)||!n.client){e.next=11;break}return e.next=9,n.client.updateToken(Ki.getState().credentials.accessToken);case 9:return Di.debug("Success update twilio token for preload client scene=".concat(t)),e.abrupt("return");case 11:return this._preloadClientPromise||(this._preloadClientPromise=hi({shouldFetchAccessToken:"tabEvent"!==t,onResolve:function(e){r._preloadClientData=e}})),e.next=14,this._preloadClientPromise;case 14:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"bootstrap",value:(e=D(g().mark((function e(t,n){var r,u,a,o,i,s,c,l,d,f;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Di.startChildSpan("Bootstrap",n),e.prev=1,!this._preloadClientPromise){e.next=8;break}return e.next=5,this._preloadClientPromise;case 5:null!=(o=e.sent)&&o.client&&(this._providerClient=o.client),null==r||r.setAttributes({preloadFetchAccessTokenDuration:(null===(u=this._preloadClientData)||void 0===u?void 0:u.fetchAccessTokenDuration)||0,preloadConnectClientDuration:(null===(a=this._preloadClientData)||void 0===a?void 0:a.connectClientDuration)||0,preloadProviderConnectClientError:De(null==o?void 0:o.error)});case 8:return i=Date.now(),e.next=11,ei(this._retryConfiguration.fetchProviderRoomId);case 11:if(s=e.sent,c=s.accessToken,l=s.region,null==r||r.setAttributes({fetchTwilioRoomIdDuration:Date.now()-i}),this._providerClient){e.next=24;break}return d=Date.now(),f="pageLoaded"===t?this._retryConfiguration.connectProviderClient:this._retryConfiguration.createProviderClient,e.next=20,Ko(c,$o(l),f);case 20:this._providerClient=e.sent,null==r||r.setAttributes({connectProviderClientDuration:Date.now()-d}),e.next=27;break;case 24:return e.next=26,this._providerClient.updateToken(c);case 26:Di.debug("Success update twilio client token for connect client");case 27:return this.listenerEvents(),null==r||r.setStatus({code:1}),null==r||r.end(),e.abrupt("return",this._providerClient);case 33:throw e.prev=33,e.t0=e.catch(1),null==r||r.recordException(e.t0),null==r||r.setStatus({code:2,message:De(e.t0)}),null==r||r.end(),e.t0;case 39:case"end":return e.stop()}}),e,this,[[1,33]])}))),function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){var e,t,n;null===(e=this._bindEventsHandlers)||void 0===e||e.call(this),this._bindEventsHandlers=null,null===(t=this._providerClient)||void 0===t||t.removeAllListeners(),null===(n=this._providerClient)||void 0===n||n.shutdown(),this._providerClient=null,this._preloadClientPromise=null,this._preloadClientData=null}},{key:"current",get:function(){return this._providerClient}}]);var e,t}(),yi=wt.getSubLogger({name:"TwilioConversation"}),bi=function(){return b((function e(t){_(this,e),A(this,"_providerConversation",null),A(this,"_contactPersonParticipant",null),A(this,"_bindEventsHandlers",null),A(this,"_isEnd",!1),this.parent=t}),[{key:"handleOnUpdated",value:function(e){var t=e.conversation,n=e.updateReasons,r=si(t),u=r.interactionId,a=r.feedbackLink,o=r.shouldLoadFeedback,i={};!Ki.getState().interactionId&&u&&(i.interactionId=u),!Ki.getState().shouldLoadFeedback&&o&&(i.shouldLoadFeedback=o),!Ki.getState().feedbackLink&&a&&(i.feedbackLink=a),Object.keys(i).length>0&&Ki.setState(i),o&&Ki.getState().isNot(ae.End)&&Ki.getState().go(ae.End),yi.info("Received updated sid=".concat(t.sid," updateReasons=").concat(be(n)," attrs=").concat(be(null==t?void 0:t.attributes)," updatedAppState=").concat(be(i)))}},{key:"handleOnMessageAdded",value:function(e){var t,n,r;yi.info("Received message added. sid=".concat(null===(t=this._providerConversation)||void 0===t?void 0:t.sid," m_sid=").concat(e.sid," p_sid=").concat(e.participantSid," index=").concat(e.index," type=").concat(e.type," author=").concat(e.author," attr=").concat(be(ii(null==e?void 0:e.attributes)?Nn(ii(null==e?void 0:e.attributes),["raw_message","rawMessage","attachments"]):"")," create_at=").concat(null===(n=e.dateCreated)||void 0===n?void 0:n.toISOString()," update_at=").concat(null===(r=e.dateUpdated)||void 0===r?void 0:r.toISOString()));var u=ni(e);if(u){Bi.getState().add(u);var a,o,i,s,c=u.alignment;if(c)if(Ki.getState().hiddenScreenLoading(),null!==(a=this.parent)&&void 0!==a&&a.receivedFirstMessageSpan)this.parent.receivedFirstMessageSpan.setAttributes({roomId:null===(o=this._providerConversation)||void 0===o?void 0:o.sid,m_sid:null==e?void 0:e.sid,p_sid:(null==e?void 0:e.participantSid)||"",index:null==e?void 0:e.index,type:null==e?void 0:e.type,author:(null==e?void 0:e.author)||"",attributes:be(null==e?void 0:e.attributes),create_at:null===(i=e.dateCreated)||void 0===i?void 0:i.toISOString(),update_at:null===(s=e.dateUpdated)||void 0===s?void 0:s.toISOString()}),this.parent.receivedFirstMessageSpan.setStatus({code:1}),this.parent.receivedFirstMessageSpan.end(),this.parent.receivedFirstMessageSpan=null;c&&!Ir(u.tid)&&Bi.getState().hideTypingMessage()}}},{key:"handleOnTypingStarted",value:function(e){var t;Hi(Wi.getState()).showTypingIndicatorButton&&this._contactPersonParticipant&&(e.sid!==this._contactPersonParticipant.sid&&Bi.getState().add(Nr({role:"agent",agentName:null==e||null===(t=e.attributes)||void 0===t?void 0:t.participant_display_name})))}},{key:"handleOnTypingEnded",value:function(e){this._contactPersonParticipant&&e.sid!==this._contactPersonParticipant.sid&&Bi.getState().hideTypingMessage()}},{key:"handleOnRemoved",value:function(e){yi.info("Received conversation removed sid=".concat(e.sid)),Ki.getState().isNot(ae.End)&&Ki.getState().go(ae.End)}},{key:"listenerEvents",value:function(){var e=this;if(this._providerConversation&&!this._bindEventsHandlers){var t=this.handleOnUpdated.bind(this),n=this.handleOnMessageAdded.bind(this),r=this.handleOnTypingStarted.bind(this),u=this.handleOnTypingEnded.bind(this),a=this.handleOnRemoved.bind(this);this._bindEventsHandlers=function(){var o,i,s,c,l;null===(o=e._providerConversation)||void 0===o||o.off("updated",t),null===(i=e._providerConversation)||void 0===i||i.off("messageAdded",n),null===(s=e._providerConversation)||void 0===s||s.off("typingStarted",r),null===(c=e._providerConversation)||void 0===c||c.off("typingEnded",u),null===(l=e._providerConversation)||void 0===l||l.off("removed",a)},this._providerConversation.on("updated",t),this._providerConversation.on("messageAdded",n),this._providerConversation.on("typingStarted",r),this._providerConversation.on("typingEnded",u),this._providerConversation.on("removed",a)}}},{key:"bootstrap",value:(n=D(g().mark((function e(t,n){var r,u,a,o,i,s,c,l,d,f,p,h,v,m,D,_;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.parent.client.current,u=Ki.getState().credentials.roomId,a=["pageLoaded","sendMessage","submitInitialScreen"].indexOf(t)>-1,r&&u){e.next=5;break}throw new Error("No found twilio client or conversation sid");case 5:return o=yi.startChildSpan("Bootstrap",n),e.prev=6,i=Date.now(),e.next=10,gi(r,u);case 10:return this._providerConversation=e.sent,this.listenerEvents(),null==o||o.setAttributes({fetchTwilioConversationDuration:Date.now()-i}),s=Date.now(),e.next=16,ai(this._providerConversation);case 16:if(this._contactPersonParticipant=e.sent,null==o||o.setAttributes({fetchContactPersonTwilioParticipantDuration:Date.now()-s}),c=si(this._providerConversation),l=c.interactionId,d=c.feedbackLink,f=c.shouldLoadFeedback,g=this._contactPersonParticipant,y=void 0,y=ii(null==g?void 0:g.attributes),p=y?{selfClosed:(null==y?void 0:y.update_reasons)===qo,bootstrapped:!(null==y||!y.bootstrapped)}:{selfClosed:!1,bootstrapped:!1},h=p.selfClosed,v=p.bootstrapped,Ki.setState({interactionId:l,feedbackLink:d,shouldLoadFeedback:f}),this._isEnd=ci({instance:this._providerConversation,selfClosed:h,shouldLoadFeedback:f}),this._isEnd||v||!a){e.next=28;break}return m=Date.now(),e.next=26,li(this._contactPersonParticipant);case 26:null==o||o.setAttributes({updateContactPersonParticipantDuration:Date.now()-m}),yi.debug("Success trigger flow for update contact person attr");case 28:return D=this._isEnd?ae.End:ae.Conversation,_=Date.now(),e.next=32,ri(this._providerConversation);case 32:return null==o||o.setAttributes({fetchTwilioAllMessagesDuration:Date.now()-_}),Ki.getState().isNot(D)&&Ki.getState().go(D),null==o||o.setStatus({code:1}),null==o||o.end(),e.abrupt("return",!0);case 39:throw e.prev=39,e.t0=e.catch(6),null==o||o.recordException(e.t0),null==o||o.setStatus({code:2,message:De(e.t0)}),null==o||o.end(),e.t0;case 45:case"end":return e.stop()}var g,y}),e,this,[[6,39]])}))),function(e,t){return n.apply(this,arguments)})},{key:"typing",value:function(){return this._providerConversation?this._providerConversation.typing():Promise.resolve()}},{key:"end",value:(t=D(g().mark((function e(){var t,n,r,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=yi.startSpan("End"),this._providerConversation){e.next=8;break}return n="Failed to end conversation no found conversation",null==t||t.recordException(new Error(n)),null==t||t.setStatus({code:2,message:n}),null==t||t.end(),yi.debug(n),e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,di(this._providerConversation);case 11:if(this._isEnd=!0,Ar.getState().emit(oe.conversationEnded),Ki.getState().enableLoadFeedback(),null==t||t.setStatus({code:1}),null==t||t.end(),null===(r=Wi.getState().config)||void 0===r||!r.feedbackFlowId){e.next=19;break}return e.next=19,Ae(1500);case 19:return e.abrupt("return",!0);case 22:return e.prev=22,e.t0=e.catch(8),u="Failed to end conversation sid=".concat(this._providerConversation.sid," error=").concat(De(e.t0)),null==t||t.recordException(e.t0),null==t||t.setStatus({code:2,message:u}),null==t||t.end(),yi.debug(u),e.abrupt("return",!1);case 30:case"end":return e.stop()}}),e,this,[[8,22]])}))),function(){return t.apply(this,arguments)})},{key:"send",value:(e=D(g().mark((function e(t,n){var r,u,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerConversation){e.next=2;break}return e.abrupt("return",Promise.reject(new Error("No found conversation")));case 2:return r=t.payload,u=t.data,a=r?{tid:n,payload:r,payload_type:"payload"}:{tid:n},e.next=6,this._providerConversation.sendMessage(u,a);case 6:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){var e,t;null===(e=this._bindEventsHandlers)||void 0===e||e.call(this),this._bindEventsHandlers=null,null===(t=this._providerConversation)||void 0===t||t.removeAllListeners(),this._providerConversation=null,this._contactPersonParticipant=null,this._isEnd=!1}},{key:"current",get:function(){return this._providerConversation}},{key:"isEnd",get:function(){return this._isEnd}}]);var e,t,n}(),Ci=wt.getSubLogger({name:"TwilioConnection"}),Ei=function(){return b((function e(){_(this,e),A(this,"_client",void 0),A(this,"_conversation",void 0),A(this,"_status","deactivated"),A(this,"_bootstrapPromise",null),A(this,"_receivedFirstMessageSpan",null),this._client=new _i(this),this._conversation=new bi(this)}),[{key:"handlerOnBootstrapError",value:function(e,t){var n=De(e),r="Failed to bootstrap twilio connection sid=".concat(Ki.getState().credentials.roomId," error=").concat(n);Ki.getState().hiddenScreenLoading(),null==t||t.recordException(e),null==t||t.setStatus({code:2,message:r}),null==t||t.end(),Ci.debug(r);var u=/Twilsock: request timeout/gi.test(n);return Ki.getState().is(Ki.getState().getInitialPage())&&u||Ki.getState().isNot(ae.Error)&&(Ki.getState().go(ae.Error),Ar.getState().emit(oe.conversationEndedByError)),!1}},{key:"linkReceivedFirstMessageSpanToBootstrap",value:function(e,t){if(["sendMessage","submitInitialScreen"].indexOf(e)>-1){var n;this.receivedFirstMessageSpan=Ci.startSpan("Received first message for ".concat(e));var r,u=null==t?void 0:t.spanContext(),a=null===(n=this.receivedFirstMessageSpan)||void 0===n?void 0:n.spanContext();if(u)null===(r=this.receivedFirstMessageSpan)||void 0===r||r.addLink({context:u});a&&(null==t||t.addLink({context:a}))}}},{key:"bootstrap",value:(r=D(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ci.startSpan("Bootstrap for ".concat(t)),this.linkReceivedFirstMessageSpanToBootstrap(t,n),e.prev=2,e.next=5,this._client.bootstrap(t,n);case 5:return e.next=7,this._conversation.bootstrap(t,n);case 7:return Ki.setState({hasInitialized:!0}),this.status="activated",null==n||n.setAttributes({roomId:null===(r=this._conversation.current)||void 0===r?void 0:r.sid}),null==n||n.setStatus({code:1}),null==n||n.end(),e.abrupt("return",!0);case 15:return e.prev=15,e.t0=e.catch(2),e.abrupt("return",this.handlerOnBootstrapError(e.t0,n));case 18:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(e){return r.apply(this,arguments)})},{key:"preloadClient",value:function(e){return this._client.preload(e)}},{key:"init",value:(n=D(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ki.getState().credentials.roomId||"pageLoaded"!==t){e.next=5;break}return n=Ki.getState().getInitialPage(),Ki.getState().isNot(n)&&Ki.getState().go(n),e.abrupt("return",!1);case 5:return this._bootstrapPromise||(this._bootstrapPromise=this.bootstrap(t)),e.next=8,this._bootstrapPromise;case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"send",value:(t=D(g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._bootstrapPromise){e.next=5;break}return Ci.debug("Failed to send message error=no start connection bootstrap"),pi(t,n),e.abrupt("return",!1);case 5:return e.next=7,this._bootstrapPromise;case 7:if(e.sent){e.next=12;break}return Ci.debug("Failed to send message error=connection bootstrap failed"),pi(t,n),e.abrupt("return",!1);case 12:return e.next=14,this._conversation.send(t,n);case 14:return Ki.getState().emit("send_success"),Bi.getState().showTypingMessage(),e.abrupt("return",!0);case 19:return e.prev=19,e.t0=e.catch(0),Ci.warn("Failed to send message error=".concat(De(e.t0))),Ki.getState().emit("send_failure",e.t0),pi(t,n),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,this,[[0,19]])}))),function(e,n){return t.apply(this,arguments)})},{key:"typing",value:function(){return this._conversation.typing()}},{key:"end",value:(e=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._conversation.end());case 1:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"destroy",value:function(){this._conversation.destroy(),this._client.destroy(),this._bootstrapPromise=null,this._status="deactivated",this.receivedFirstMessageSpan=null,Bi.getState().clear(),Ki.getState().reset(["hasInitialized","credentials","identity","shouldLoadFeedback","feedbackLink","feedbackStatus","formData","interactionId","chatContentScroll","initialScreenScroll"])}},{key:"status",get:function(){return this._status},set:function(e){this._status!==e&&(this._status=e)}},{key:"client",get:function(){return this._client}},{key:"conversation",get:function(){return this._conversation}},{key:"receivedFirstMessageSpan",get:function(){return this._receivedFirstMessageSpan},set:function(e){this._receivedFirstMessageSpan=e}}]);var e,t,n,r}(),Ai=new Ei,xi=function(){return b((function e(){_(this,e),A(this,"_current",null),A(this,"_providerImps",A({},ue,Ai)),this._current=ue}),[{key:"listenerPageEvents",value:function(){var e=this;Ki.getState().on("enter_error",(function(){e.clear()}))}},{key:"listenerTabEvents",value:function(){var e=this;Ar.getState().on(oe.preloadClient,(function(t){var n=t.credentials,r=t.identity;Ki.getState().setCredentials({accessToken:n.accessToken,region:n.region,createAccessTokenAt:n.createAccessTokenAt}),Ki.getState().createIdentity(!0,r),e.preloadClient("tabEvent")})),Ar.getState().on(oe.conversationCreated,(function(t){var n=t.credentials,r=t.identity;Ki.getState().setCredentials(n),Ki.getState().createIdentity(!0,r),Ki.getState().isNot(ae.Conversation)&&Ki.getState().go(ae.Conversation),e.init("tabEvent")})),Ar.getState().on(oe.conversationEnded,(function(){Ki.getState().enableLoadFeedback(),Ki.getState().isNot(ae.End)&&Ki.getState().go(ae.End)})),Ar.getState().on(oe.conversationEndedByError,(function(){Ki.getState().isNot(ae.Error)&&Ki.getState().go(ae.Error)})),Ar.getState().on(oe.resetFrame,(function(){var t=Ki.getState().getInitialPage();Ki.getState().isNot(t)&&(Ki.getState().go(t),e.clear())})),Ar.getState().on(oe.enableScreenLoading,(function(e){Ki.getState().enableScreenLoading(e,!1)}))}},{key:"preloadClient",value:function(e){var t;if(null!==(t=Wi.getState().config)&&void 0!==t&&t.enableSplitTwilioBootstrap&&this.connection)return this.connection.preloadClient(e)}},{key:"init",value:(n=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}return e.abrupt("return",this.connection.init(t));case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"clear",value:function(){if(this.connection)return this.connection.destroy()}},{key:"sendMessage",value:(t=D(g().mark((function e(t){var n,r,u,a,o,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=10;break}if(!Ki.getState().isNot("conversation")){e.next=3;break}return e.abrupt("return",!1);case 3:return Ki.getState().hasInitialized||this.init("sendMessage"),n=t.data,r=t.type,u=n instanceof FormData,a=te(),o=u&&Object.values(Be).indexOf(r)>-1,u&&!o||(i=u?Lr(a,n,r,{role:"contact"}):Mr(a,n,{role:"contact"}),Bi.getState().add(i)),e.abrupt("return",this.connection.send(t,a));case 10:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"typing",value:function(){if(this.connection)return this.connection.typing()}},{key:"end",value:(e=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.connection){e.next=2;break}return e.abrupt("return",this.connection.end());case 2:return e.abrupt("return",!1);case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"status",get:function(){return this.connection?this.connection.status:"deactivated"}},{key:"connection",get:function(){return this._current?this._providerImps[this._current]:null}}]);var e,t,n}(),Fi=s("g",new xi),wi=null,ki="td-message-".concat(br()||"unknown-touchpoint-id"),Bi=x()(B(j((function(e,t){return{lastReadIndexByConversationSid:{},assigneeNamesByConversationSid:{},messages:[],add:function(n){var r=t(),u=r.messages,a=r.lastReadIndexByConversationSid,o=Ki.getState().credentials.roomId,i=n.sid,s=n.tid,c=n.alignment,l=n.index;if(!(""!==i&&u.find((function(e){return e.sid===i}))||""!==s&&u.find((function(e){return e.tid===s})))){var d={lastReadIndexByConversationSid:a,messages:u};o&&void 0!==l&&"received"===c&&Ki.getState().isFrameOpened&&(d.lastReadIndexByConversationSid[o]=l),d.messages=[].concat(F(u),[n]),e(d)}},set:function(n){var r=t(),u=r.messages,a=r.lastReadIndexByConversationSid,o=Ki.getState().credentials.roomId;if(o){var i=-1,s=n.map((function(e){var t=e.sid,n=e.tid,r=e.alignment,a=e.index;if(!(""!==t&&u.find((function(e){return e.sid===t}))||""!==n&&u.find((function(e){return e.tid===n}))))return o&&void 0!==a&&"received"===r&&Ki.getState().isFrameOpened&&(i=a),e})).filter(Boolean),c={lastReadIndexByConversationSid:a,messages:u};i>-1&&(c.lastReadIndexByConversationSid[o]=i),s.length&&(c.messages=[].concat(F(u),F(s))),e(c)}},clear:function(){var n=t(),r=n.lastReadIndexByConversationSid,u=n.assigneeNamesByConversationSid,a=Ki.getState().credentials.roomId;e({messages:[],lastReadIndexByConversationSid:Nn(r,a),assigneeNamesByConversationSid:Nn(u,a)})},update:function(n,r){if(""===n)return!1;var u=F(t().messages),a=u.findIndex((function(e){return e.tid===n}));return a>-1&&(u[a]=Object.assign(E({},u[a]),r),e({messages:u}),!0)},batchUpdate:function(n,r){var u=t().messages.map((function(e){return n(e)?Object.assign(e,r):e}));e({messages:u})},remove:function(n){if(""===n)return!1;var r=F(t().messages),u=r.findIndex((function(e){return e.tid===n}));return u>-1&&(r.splice(u,1),e({messages:r}),!0)},send:(u=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi.sendMessage(t);case 2:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)}),end:(r=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi.end();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)}),updateLastReadIndex:function(){var n=t(),r=n.messages,u=n.lastReadIndexByConversationSid,a=Ki.getState().credentials.roomId;if(a){var o=r.filter((function(e){return"received"===e.alignment})).flatMap((function(e){return e.items.map((function(t){return E(E({},t),{},{index:e.index})}))})),i=o[o.length-1]||{index:-1};void 0!==(null==i?void 0:i.index)&&e({lastReadIndexByConversationSid:E(E({},u),{},A({},a,i.index))})}},typing:(n=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fi.typing();case 2:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),showTypingMessage:function(){if(Hi(Wi.getState()).showTypingIndicatorButton){var e=t(),n=e.messages,r=e.add,u=e.hideTypingMessage,a=Ki.getState().typingMode,o=n.find((function(e){return Ir(e.tid)}));if("va"===a)return wi&&clearTimeout(wi),o&&u(),r(Nr({role:"va"})),void(wi=setTimeout((function(){u(),wi=null}),5e3));"agent"===a&&o&&(u(),r(Nr({role:"agent"})))}},hideTypingMessage:function(){var e,n=t().remove;null==(e=function(e){return n(e)})||e(Tr)},setAssigneeName:function(n,r){if(!n)return"";var u=Ki.getState().credentials.roomId,a=t().assigneeNamesByConversationSid;u&&(a[u]||(a[u]={}),a[u][n]=r,e({assigneeNamesByConversationSid:a}))},getAssigneeName:function(e){var n;return e&&(null===(n=t().assigneeNamesByConversationSid[Ki.getState().credentials.roomId])||void 0===n?void 0:n[e])||""}};var n,r,u}),{name:ki,partialize:function(e){return{assigneeNamesByConversationSid:e.assigneeNamesByConversationSid,lastReadIndexByConversationSid:e.lastReadIndexByConversationSid}}}))),ji=function(e){return e.messages},Si=function(e){return{set:e.set,add:e.add,send:e.send,clear:e.clear,update:e.update,remove:e.remove,batchUpdate:e.batchUpdate,end:e.end,updateLastReadIndex:e.updateLastReadIndex,typing:e.typing,showTypingMessage:e.showTypingMessage,hideTypingMessage:e.hideTypingMessage,getAssigneeName:e.getAssigneeName,setAssigneeName:e.setAssigneeName}},Ti=(s("A",(function(){return Bi(k(ji))})),s("t",(function(){return Bi(k(Si))})));Bi.subscribe((function(e){var t=e.messages;if(!t.length)return"agent";var n=t.reduce((function(e,t){return"received"!==t.alignment||Ir(t.tid)?e:t}),{});return"va"!==n.role?"agent":"va"}),function(){var e=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ki.setState({typingMode:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Oi=s("M",x((function(){var e=new pr({name:"Widget",sender:window.parent,topic:ke.Topic,debug:!1});e.register(ke.Methods.FrameOpened,(function(){Ki.getState().setIsFrameOpened(!0)})),e.register(ke.Methods.UpdateAppConfigs,(function(e){Mi.getState().update(e)})),e.register(ke.Methods.UpdateContext,(function(e){Mi.getState().updateContext(e)})),e.register(ke.Methods.UpdateMessage,(function(e){console.log(e),Bi.getState().clear(),e.length&&e.forEach((function(e){return Bi.getState().add(e)}))}));var t,n,r,u=function(){var t=D(g().mark((function t(){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(ke.Methods.GetTdAccessToken);case 2:if(null==(n=t.sent)||!n.data){t.next=6;break}return Ki.getState().setCredentials({tdAccessToken:n.data}),t.abrupt("return",n.data);case 6:return t.abrupt("return","");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{frameReady:function(){return e.trigger(ke.Methods.FrameReady)},frameResize:function(t){return e.trigger(ke.Methods.FrameResize,t)},maximize:function(){return e.trigger(ke.Methods.Maximize)},minimize:(r=D(g().mark((function t(){var n;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(ke.Methods.Minimize);case 2:return n=t.sent,Ki.getState().setIsFrameOpened(!1),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),getAllConfig:function(){return e.trigger(ke.Methods.GetAllConfig)},getCredentials:function(t){return e.trigger(ke.Methods.GetCredentials,t)},setBadge:function(t){return e.trigger(ke.Methods.SetBadge,t)},downloadTranscript:(n=D(g().mark((function t(n){var r,a,o;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(t){var r="".concat(d.t("downloadTranscriptFileName"),"-").concat(yr(new Date,"YYYY-MM-DD-HH-mm"),".txt"),u=Intl.DateTimeFormat().resolvedOptions().timeZone;return e.trigger(ke.Methods.DownloadTranscript,{token:t,interactionId:n,fileName:r,timezone:u})},a=Ki.getState().credentials.tdAccessToken){t.next=6;break}return t.next=5,u();case 5:a=t.sent;case 6:return t.next=8,r(a);case 8:if(null!=(o=t.sent)&&o.data){t.next=14;break}return t.next=12,u();case 12:return a=t.sent,t.abrupt("return",r(a));case 14:return t.abrupt("return",o);case 15:case"end":return t.stop()}}),t)}))),function(e){return n.apply(this,arguments)}),previewReady:(t=D(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.trigger(ke.Methods.PreviewReady);case 2:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),onPreviewConfigChange:function(t){e.register(ke.Methods.UpdatePreviewConfig,(function(e){t(e)}))},conversationStart:function(){return e.trigger(ke.Methods.ConversationStart)},onSend:function(t){e.trigger(ke.Methods.OnSend,t)},onComposer:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.trigger.apply(e,[ke.Methods.OnComposer].concat(n))}}}))),Ii=s("c",(function(){return Oi(k((function(e){return{maximize:e.maximize,frameResize:e.frameResize,onSend:e.onSend,onComposer:e.onComposer}})))})),Ni=x((function(e,t){return{page:"Conversation",config:new je,reset:function(){e({config:new je})},init:(n=D(g().mark((function n(){var r,u,a,o,i,s,c,l,d;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Oi.getState().onPreviewConfigChange((function(n){var r,u,a=(null==n||null===(r=n.widgetSettings)||void 0===r?void 0:r.appearance)||{},o=a.title,i=a.description,s=a.logoUrl,c=(new je).options;e((function(e){return{page:n.page,config:E(E({},e.config),{},{appearanceConfig:E(E({},e.config.appearanceConfig),n.widgetSettings),options:E(E(E({},(new je).options),t().config.options),{},{chatTitle:o||(null==c?void 0:c.chatTitle),chatSubtitle:i||c.chatSubtitle,chatTitleIcon:s||c.chatTitleIcon}),participantName:n.userName})}}));var l=or(sr(null==n||null===(u=n.widgetSettings)||void 0===u?void 0:u.appearance));ye(document.documentElement,l)})),n.next=3,Oi.getState().getAllConfig();case 3:if(null==(r=n.sent)||!r.data){n.next=21;break}return u=r.data,a=u.appProps,o=u.appConfig,i=u.context,s=u.touchpoint,c=u.participantName,l=new je,n.next=9,Re.changeLanguage(null==o?void 0:o.languageCode);case 9:l.appConfig=E(E({},t().config.appConfig),o),l.appProps=a,l.context=i,l.participantName=c;try{s.config&&(l.appearanceConfig=JSON.parse(s.config))}catch(xc){console.log("Error parsing appearance config, using default appearance config")}return l.options=E(E({},t().config.options),ir(null==o?void 0:o.styles)),l.styles=(null==o?void 0:o.styles)||{},e({config:l}),d=or(null==o?void 0:o.styles),ye(document.documentElement,d),n.next=21,Oi.getState().previewReady();case 21:case"end":return n.stop()}}),n)}))),function(){return n.apply(this,arguments)}),update:function(){return Promise.resolve()},updateContext:function(){}};var n})),Li=(s("N",(function(){return Ni(k((function(e){return{page:e.page,chatTitle:e.config.options.chatTitle,chatSubtitle:e.config.options.chatSubtitle,enableEmoji:e.config.appConfig.enableEmoji,enableAttachments:e.config.appConfig.enableAttachments,enableValidation:e.config.appConfig.enableValidation,welcomeMessage:e.config.appearanceConfig.initialScreen.welcomeMessage,showInitialScreen:e.config.appearanceConfig.initialScreen.showInitialScreen,controls:e.config.appearanceConfig.initialScreen.controls,showCloseConversationButton:e.config.appearanceConfig.generalSettings.showCloseConversationButton,showDownloadTranscriptButton:e.config.appearanceConfig.generalSettings.showChatTranscriptsDownloadButton,showTypingIndicatorButton:e.config.appearanceConfig.generalSettings.showTypingIndicatorButton,context:e.config.context,isDisabled:"InitialScreen"===e.page&&!e.config.appearanceConfig.initialScreen.showInitialScreen}})))})),wt.getSubLogger({name:"useConfig"})),Mi=x((function(e,t){var n,r,u=!1;return{config:new je,reset:function(){e({config:new je}),u=!1},init:(r=D(g().mark((function n(){var r,a,o,i,s,c,l,d,f,p,h,v;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!u){n.next=2;break}return n.abrupt("return");case 2:return u=!0,n.next=5,Oi.getState().getAllConfig();case 5:if(null==(r=n.sent)||!r.data){n.next=28;break}return At.init(r.data),i=r.data,s=i.appProps,c=i.appConfig,l=i.touchpoint,d=i.context,f=i.injectorWindowHostname,p=new je,n.next=12,Re.changeLanguage(null==c?void 0:c.languageCode);case 12:h=n.sent,p.injectorWindowHostname=f,p.enableSplitTwilioBootstrap=l.enable_split_twilio_bootstrap,p.feedbackFlowId=l.feedback_flow_id,p.appConfig=E(E(E({},t().config.appConfig),c),{},{languageCode:h}),p.appProps=s,p.context=d,p.appearanceConfig=Ce(l.config,p.appearanceConfig,(function(e){Li.error("Error parsing touchpoint appearance config",e)})),p.styles=or(c.styles),p.options=E(E({},t().config.options),Object.assign(cr(null==p||null===(a=p.appearanceConfig)||void 0===a?void 0:a.appearance),ir(c.styles))),e({config:p}),v=sr(null==p||null===(o=p.appearanceConfig)||void 0===o?void 0:o.appearance,or(c.styles)),ye(document.documentElement,v),Li.info("Received configuration: touchpointId=".concat(null==s?void 0:s.touchpointId," appConfig=").concat(be(c)," appProps=").concat(be(s)," touchpoint=").concat(be(l))),Ki.setState({enableInitialForm:p.appearanceConfig.initialScreen.showInitialScreen}),Ki.getState().setLayoutDirection(h);case 28:case"end":return n.stop()}}),n)}))),function(){return r.apply(this,arguments)}),update:(n=D(g().mark((function n(r){var a,o,i,s,c;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.appConfig,u){n.next=4;break}return Li.warn("Update app configs failed because the config is not initialized yet."),n.abrupt("return");case 4:return i=t(),s=i.config,n.next=7,Re.changeLanguage(null==o?void 0:o.languageCode);case 7:c=n.sent,s.appConfig=E(E(E({},s.appConfig),o),{},{languageCode:c}),s.options=E(E({},s.options),Object.assign(cr(null==s||null===(a=s.appearanceConfig)||void 0===a?void 0:a.appearance),ir(o.styles))),e({config:s}),Ki.getState().setLayoutDirection(c);case 12:case"end":return n.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),updateContext:function(n){u||Li.warn("Update context failed because the config is not initialized yet.");var r=t().config;r.context=E({},n),e({config:r})}}})),Pi=s("r",(function(){return Mi(k((function(e){return{chatTitle:e.config.options.chatTitle,chatSubtitle:e.config.options.chatSubtitle,enableEmoji:e.config.appConfig.enableEmoji,enableAttachments:e.config.appConfig.enableAttachments,enableValidation:e.config.appConfig.enableValidation,enableUserInput:e.config.appConfig.enableUserInput,showInitialScreen:e.config.appearanceConfig.initialScreen.showInitialScreen,welcomeMessage:e.config.appearanceConfig.initialScreen.welcomeMessage,controls:e.config.appearanceConfig.initialScreen.controls,showCloseConversationButton:e.config.appearanceConfig.generalSettings.showCloseConversationButton,showDownloadTranscriptButton:e.config.appearanceConfig.generalSettings.showChatTranscriptsDownloadButton,showTypingIndicatorButton:e.config.appearanceConfig.generalSettings.showTypingIndicatorButton,context:e.config.context,languageCode:e.config.appConfig.languageCode}})))})),zi=function(e){return e.config.appProps},Ri=function(e){return e.config.styles},Zi=function(e){return e.config.options},Ui=function(e){return e.config.appearanceConfig.initialScreen},Vi=function(e){return e.config.appearanceConfig.chat},Hi=function(e){return e.config.appearanceConfig.generalSettings},Wi=s("h",/preview.html/gi.test(window.location.href)?Ni:Mi);s("u",(function(){return Wi(Ui)})),s("b",(function(){return Wi(zi)})),s("a",(function(){return Wi(Ri)}));function qi(){return{showScreenLoading:!1,layoutDirection:ie,page:ae.Start,events:{},enableInitialForm:!1,formData:null,hasInitialized:!1,userInputAreaRef:null,interactionId:"",shouldLoadFeedback:!1,feedbackLink:"",feedbackStatus:{status:"init",message:"",height:0},typingMode:"agent",isFrameOpened:!1,identity:"",credentials:{accessToken:"",roomId:"",region:"",tdAccessToken:""},chatContentScroll:{top:0,percent:0,scrollOffset:0},initialScreenScroll:{top:0,percent:0,scrollOffset:0},initialScreenHeight:de}}var Yi=wt.getSubLogger({name:"useApp"}),Gi="td-app-".concat(br()||"unknown-touchpoint-id"),$i=null,Ki=s("o",x()(B(j((function(e,t){return E(E({},qi()),{},{go:function(n,r){var u=t(),a=u.page,o=u.events;if(a!==n){var i,s,c,l="leave_".concat(a),d="enter_".concat(n),f="".concat(a,"_to_").concat(n);null===(i=o[l])||void 0===i||i.forEach((function(e){return e(r)})),e({page:n}),null===(s=o[d])||void 0===s||s.forEach((function(e){return e(r)})),null===(c=o[f])||void 0===c||c.forEach((function(e){return e(r)})),Yi.debug("Going from ".concat(a," to ").concat(n," with params=").concat(be(null!=r?r:{})))}else Yi.debug("Going to same ".concat(n," with params=").concat(be(null!=r?r:{})))},getInitialPage:function(){return t().enableInitialForm?ae.InitialScreen:ae.Conversation},is:function(e){return(Array.isArray(e)?e:[e]).includes(t().page)},isNot:function(e){return!(Array.isArray(e)?e:[e]).includes(t().page)},on:function(t,n){e((function(e){var r;return e.events[t]||(e.events[t]=[]),null===(r=e.events[t])||void 0===r||r.push(n),e}))},off:function(n,r){var u=t().events;u[n]&&e((function(e){var t;return e.events[n]=null===(t=u[n])||void 0===t?void 0:t.filter((function(e){return e!==r})),e}))},reset:function(t){if(t){var n=Array.isArray(t)?t:[t],r=qi(),u=n.reduce((function(e,t){return E(E({},e),{},A({},t,r[t]))}),{});e(u)}else e(qi())},emit:function(e,n){var r,u=t().events;u[e]&&(null===(r=u[e])||void 0===r||r.forEach((function(e){return e(n)})))},focusUserInputArea:function(){var e=t().userInputAreaRef;null==e||e.focus()},setIsFrameOpened:function(t){e({isFrameOpened:t})},createIdentity:function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t().identity;!r&&a||(a=r&&u?u:"widget.".concat(null===(n=Wi.getState().config)||void 0===n?void 0:n.injectorWindowHostname,"-").concat(te()),e({identity:a}));return a},setCredentials:function(n){var r=E(E({},t().credentials),n);return e({credentials:r}),r},hasProviderCredentials:function(){var e=t().credentials,n=e.accessToken,r=e.roomId;return!(!n||!r)},setFormData:function(t){e({formData:t})},setLayoutDirection:function(n){var r=t().layoutDirection,u=ce.indexOf(n)>-1?se:ie;r!==u&&e({layoutDirection:u})},hiddenScreenLoading:function(){$i&&(clearTimeout($i),$i=null),t().showScreenLoading&&e({showScreenLoading:!1})},enableScreenLoading:function(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t().showScreenLoading||(e({showScreenLoading:!0}),r&&Ar.getState().emit(oe.enableScreenLoading,n),$i=setTimeout((function(){e({showScreenLoading:!1}),$i=null}),n))},updateChatContentScroll:function(t){e({chatContentScroll:t})},updateInitialScreenScroll:function(t){e({initialScreenScroll:t})},updateInitialScreenHeight:function(t){e({initialScreenHeight:t})},updateFeedbackStatus:function(n){Yi.info("Received feedback page message current=".concat(be(n)," prev=").concat(be(t().feedbackStatus))),e({feedbackStatus:n})},enableLoadFeedback:function(){t().shouldLoadFeedback||e({shouldLoadFeedback:!0})}})}),{name:Gi,partialize:function(e){return br()?{isFrameOpened:e.isFrameOpened,credentials:e.credentials,identity:e.identity}:{}}}))));function Ji(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==h(e))if(Array.isArray(e)){var u=e.length;for(t=0;t<u;t++)e[t]&&(n=Ji(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qi(){for(var e,t,n=0,r="",u=arguments.length;n<u;n++)(e=arguments[n])&&(t=Ji(e))&&(r&&(r+=" "),r+=t);return r}var Xi="_AvatarBox_15kim_11",es=S.lazy((function(){return Se((function(){return l.import("./DefaultAgentAvatarIcon-legacy-o1V784de.js")}),void 0,l.meta.url)})),ts=S.lazy((function(){return Se((function(){return l.import("./DefaultAvatarIcon-legacy-Cl_p6d6s.js")}),void 0,l.meta.url)})),ns=function(e){var t=e.url,n=e.className,r=e.type,u=void 0===r?"system":r;return t?T.jsx("div",{className:Qi(Xi,n),"data-testid":"avatar",style:{background:"url(".concat(t,") center center / cover no-repeat")}}):T.jsx("div",{className:Qi(Xi,n),"data-testid":"avatar",children:"agent"===u?T.jsx(S.Suspense,{children:T.jsx(es,{})}):T.jsx(S.Suspense,{children:T.jsx(ts,{})})})},rs=s("Z","static-bottom-area");function us(){return T.jsx("div",{id:rs})}var as=s("S",S.lazy((function(){return Se((function(){return l.import("./Buttons-legacy-BEpIFq4c.js")}),void 0,l.meta.url)}))),os=S.lazy((function(){return Se((function(){return l.import("./Carousel-legacy-RGLo5vkB.js")}),void 0,l.meta.url)})),is=function(e){function t(e){var n;return _(this,t),(n=i(this,t,[e])).state={hasError:!1},n}return f(t,e),b(t,[{key:"componentDidCatch",value:function(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t),this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?this.props.fallback:this.props.children}}])}(S.Component);s("G",is);var ss="_skeleton_nc38p_6",cs=function(e){var t=e.width,n=void 0===t?"240px":t,r=e.height,u=void 0===r?"36px":r,a=e.animation,o=e.className,i=e.children;return T.jsx("div",{className:Qi(ss,o),style:{width:n,height:u,animation:a},children:i})},ls=function(e){var t=e.className;switch(e.type){case"image":case"video":return T.jsx(cs,{width:"240px",height:"214px"});default:return T.jsx(cs,{className:t})}},ds={rounded:"_rounded_tu8ax_11",normal:"_normal_tu8ax_11",noBubble:"_noBubble_tu8ax_11",transparent:"_transparent_tu8ax_17",bubble:"_bubble_tu8ax_21",received:"_received_tu8ax_21",sent:"_sent_tu8ax_42",avatar:"_avatar_tu8ax_77",messageContainer:"_messageContainer_tu8ax_80",message:"_message_tu8ax_80",relative:"_relative_tu8ax_89",status:"_status_tu8ax_93",nameAndTimestamp:"_nameAndTimestamp_tu8ax_98",name:"_name_tu8ax_98",divide:"_divide_tu8ax_112",timestamp:"_timestamp_tu8ax_121",inSeries:"_inSeries_tu8ax_143",lastMessage:"_lastMessage_tu8ax_146",demo:"_demo_tu8ax_176"};function fs(e){var t;switch(e){case"text":case"rich_text":case"buttons":case"quick_replies":case"file":case"error":case"image":case"video":case"audio":case"carousel":case"typing":case"demo_message":return ds.bubble;case"system":return ds.noBubble;default:return t=e,console.warn('Type "'.concat(t,'" is not supported')),ds.bubble}}function ps(e){var t;switch(e){case"text":case"quick_replies":case"file":case"error":case"typing":case"system":case"image":case"video":case"audio":case"rich_text":case"buttons":return ds.rounded;case"carousel":return ds.relative;case"demo_message":return ds.demo;default:return t=e,console.warn('Type "'.concat(t,'" is not supported')),ds.normal}}function hs(e){var t=e.name,n=e.avatar,r=e.status,u=e.timestamp,a=e.children,o=e.alignment,i=e.type,s=e.errorMessage,c=e.onError,l=e.isLastMessage,d=void 0!==l&&l,f=e.isInSeries,p=void 0!==f&&f;return T.jsxs("div",{className:Qi(fs(i),A(A(A(A({},ds.sent,"sent"===o),ds.received,"received"===o),ds.inSeries,p),ds.lastMessage,d)),"data-qa":i,"data-testid":i,children:[n&&T.jsx("div",{className:ds.avatar,children:n}),T.jsxs("div",{className:ds.messageContainer,children:[T.jsx(is,{fallback:T.jsx("div",{className:Qi(ps(i),ds.message),children:T.jsx("span",{children:s||"Failed to load dynamically imported message."})}),onError:c,children:T.jsx(S.Suspense,{fallback:T.jsx(ls,{className:ds.message,type:i}),children:T.jsx("div",{className:Qi(ps(i),ds.message),"data-testid":"message-box",children:a})})}),r&&T.jsx("div",{className:ds.status,children:r})]}),(t||u)&&T.jsxs("div",{className:ds.nameAndTimestamp,children:[t&&T.jsx("div",{className:ds.name,children:t}),t&&u&&T.jsx("div",{className:ds.divide,children:T.jsx("span",{children:"·"})}),u&&T.jsx("div",{className:ds.timestamp,children:u})]})]})}var vs="_bottom_zl3d8_6",gs="_timestamp_zl3d8_10",ms="_name_zl3d8_11";function Ds(e){var t=e.url,n=e.align,r=e.type;return T.jsx(ns,{className:Qi(A({},vs,"bottom"===n)),url:t,type:r})}var _s=function(e){var t=e.name;return T.jsx("span",{className:ms,children:t})};_s.whyDidYouRender=!0;var ys={small:"_small_1ri7f_6",medium:"_medium_1ri7f_11",large:"_large_1ri7f_16",fail:"_fail_1ri7f_21"},bs=function(e){var t=e.size,n=void 0===t?"small":t,r=e.onResend;return T.jsx("button",{onClick:r,"data-testid":"fail","aria-label":"failed to send",className:Qi(ys.fail,ys[n]),children:T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99996 1.66699C5.39996 1.66699 1.66663 5.40033 1.66663 10.0003C1.66663 14.6003 5.39996 18.3337 9.99996 18.3337C14.6 18.3337 18.3333 14.6003 18.3333 10.0003C18.3333 5.40033 14.6 1.66699 9.99996 1.66699ZM9.16663 14.167V12.5003H10.8333V14.167H9.16663ZM9.16663 5.83366V10.8337H10.8333V5.83366H9.16663Z",fill:"#F5222D"}),T.jsx("mask",{id:"mask0_3590_3492",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"1",y:"1",width:"18",height:"18",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.99996 1.66699C5.39996 1.66699 1.66663 5.40033 1.66663 10.0003C1.66663 14.6003 5.39996 18.3337 9.99996 18.3337C14.6 18.3337 18.3333 14.6003 18.3333 10.0003C18.3333 5.40033 14.6 1.66699 9.99996 1.66699ZM9.16663 14.167V12.5003H10.8333V14.167H9.16663ZM9.16663 5.83366V10.8337H10.8333V5.83366H9.16663Z",fill:"white"})}),T.jsx("g",{mask:"url(#mask0_3590_3492)"})]})})},Cs={spinner:"_spinner_13lho_11",rotation:"_rotation_13lho_1",tiny:"_tiny_13lho_22",small:"_small_13lho_27",medium:"_medium_13lho_32"},Es=function(e){var t=e.size,n=void 0===t?"small":t;return T.jsx("div",{className:Qi(Cs.spinner,Cs[n]),"data-testid":"sending"})};function As(e){var t=e.status,n=e.onResend;return"sending"===t?T.jsx(Es,{}):"failure"===t?T.jsx(bs,{onResend:n}):void 0}function xs(e){var t=e.text;return T.jsx("span",{className:gs,children:t})}var Fs=s("p",(function(){return Se((function(){return l.import("./TextMessage-legacy-rZZPZ2na.js")}),void 0,l.meta.url)})),ws=s("$",S.lazy(Fs)),ks=s("O",{buttonsText:"_buttonsText_na049_11",container:"_container_na049_17",button:"_button_na049_11"}),Bs=function(e){var t=e.text,n=e.linkProtocol,r=e.linkTarget,u=e.buttons,a=e.onButtonClick;return T.jsxs("div",{className:ks.vaButtons,children:[T.jsx(ws,{className:ks.buttonsText,text:t,linkProtocol:n,linkTarget:r}),T.jsx(as,{buttons:u,onClick:a})]})},js=S.lazy((function(){return Se((function(){return l.import("./HtmlMessage-legacy-ryycOTOu.js")}),void 0,l.meta.url)})),Ss=new Map;function Ts(e){return Ss.get(e)}function Os(e,t){return function(n){var r=n.identity;Ts(r)||function(e,t){Ss.set(e,t)}(r,new Ee(t(n)));var u=Ts(r).load(),a=E(E({},n),u);return T.jsx(e,E({},a))}}var Is=S.lazy(D(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se((function(){return l.import("./MediaMessage-legacy-BiLFO-tg.js")}),void 0,l.meta.url);case 2:return t=e.sent.default,n=Os(t,function(){var e=D(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.getContentTemporaryUrl)){e.next=7;break}return e.next=4,n();case 4:if(!(r=e.sent)){e.next=7;break}return e.abrupt("return",{url:r});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{default:n});case 5:case"end":return e.stop()}}),e)})))),Ns=S.lazy((function(){return Se((function(){return l.import("./QuickReplyMessage-legacy-brPhoIW-.js")}),void 0,l.meta.url)})),Ls="_system-message_xyb9s_6",Ms=function(e){var t=e.children;return T.jsx("p",{className:Ls,"data-qa":"system message",children:t})},Ps={loading:"_loading_o4oef_1",resWrapper:"_resWrapper_o4oef_8",resItem:"_resItem_o4oef_18",sourceWrapper:"_sourceWrapper_o4oef_47",sourceCount:"_sourceCount_o4oef_55",sourceList:"_sourceList_o4oef_75",sourceItem:"_sourceItem_o4oef_94",sourceItemInfo:"_sourceItemInfo_o4oef_100",button:"_button_o4oef_120",refer:"_refer_o4oef_142",referClose:"_referClose_o4oef_159",referInfo:"_referInfo_o4oef_178",referInfoTitle:"_referInfoTitle_o4oef_185"},zs="_loading_11a6b_11",Rs=function(){return T.jsxs("div",{className:zs,"data-testid":"typing-message",children:[T.jsx("span",{}),T.jsx("span",{}),T.jsx("span",{})]})},Zs={title:"",subTitle:"",text:""},Us=S.createContext({refer:Zs});function Vs(e){var t=e.data,n=e.onComposer,r=v(S.useState(!1),2),u=r[0],a=r[1],o=v(S.useState(Zs),2),i=o[0],s=o[1],c=v(S.useState(!0),2),l=c[0],d=c[1],f=function(){null==n||n()};return S.useEffect((function(){var e=setTimeout((function(){return a(!0)}),t.delay);return function(){clearTimeout(e)}}),[]),T.jsx(Us.Provider,{value:{openRefer:function(e){s(e)},closeRefer:function(){s(Zs)},refer:i,emitComposer:f},children:u?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Ps.resWrapper,children:[t.list.map((function(e,t){return T.jsx(Hs,{item:e,point:t+1},t)})),T.jsx(qs,{onClick:f})]}),T.jsx("div",{style:{width:"100%",height:10}}),T.jsxs("div",{className:Ps.sourceWrapper,children:[T.jsxs("div",{className:Ps.sourceCount,onClick:function(){return d(!l)},children:["".concat(t.source.length," relevant sources found"),T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none","data-arrow":l?"up":"down",children:[T.jsx("path",{d:"M11.06 5.72656L8 8.7799L4.94 5.72656L4 6.66656L8 10.6666L12 6.66656L11.06 5.72656Z",fill:"#1F1F1F"}),T.jsx("mask",{id:"mask0_3681_7294",maskUnits:"userSpaceOnUse",x:"4",y:"5",width:"8",height:"6",style:{maskType:"luminance"},children:T.jsx("path",{d:"M11.06 5.72656L8 8.7799L4.94 5.72656L4 6.66656L8 10.6666L12 6.66656L11.06 5.72656Z",fill:"white"})}),T.jsx("g",{mask:"url(#mask0_3681_7294)"})]})]}),T.jsx("div",{className:Ps.sourceList,"aria-hidden":!l,children:t.source.map((function(e,t){return T.jsx(Ws,{item:e},t)}))})]}),T.jsx(Ys,{})]}):T.jsx("div",{className:Ps.loading,children:T.jsx(Rs,{})})})}function Hs(e){var t=e.item,n=void 0===t?{}:t,r=S.useContext(Us).openRefer;return T.jsxs("div",{className:Ps.resItem,children:[n.text||"",n.refer&&T.jsx("span",{onClick:function(){return r(n.refer)},children:T.jsx(Gs,{type:n.type})})]})}function Ws(e){var t=e.item,n=void 0===t?{}:t;return T.jsx("div",{className:Ps.sourceItem,children:T.jsxs("div",{className:Ps.sourceItemInfo,title:n.text,children:[T.jsx(Gs,{type:n.type}),T.jsx("span",{children:n.text})]})})}function qs(e){return T.jsxs("button",{className:Ps.button,onClick:function(t){var n;t.stopPropagation(),null==e||null===(n=e.onClick)||void 0===n||n.call(e,t)},children:[T.jsxs("svg",{width:"21",height:"20",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.66667 15.8334V4.16676H10.5V2.5001H4.66667C3.74167 2.5001 3 3.2501 3 4.16676V15.8334C3 16.7501 3.74167 17.5001 4.66667 17.5001H16.3333C17.25 17.5001 18 16.7501 18 15.8334V10.0001H16.3333V15.8334H4.66667ZM7.1667 10.8334V13.3334H9.66667L15.5 7.50012L13 5.00012L7.1667 10.8334Z",fill:"currentColor"}),T.jsx("path",{d:"M15.2624 2.74115C15.5878 2.41571 16.1155 2.41571 16.4409 2.74115L17.7623 4.06254C18.0877 4.38797 18.0877 4.91561 17.7623 5.24105L16.334 6.66931L13.8341 4.16941L15.2624 2.74115Z",fill:"currentColor"})]}),"Add to composer"]})}function Ys(){var e=S.useContext(Us),t=e.refer,n=e.closeRefer,r=e.emitComposer,u=!!t.text;return O.createPortal(T.jsx("div",{"aria-hidden":!u,className:Ps.refer,style:{left:null==t?void 0:t.left,top:null==t?void 0:t.top},children:T.jsxs("div",{className:Ps.referInfo,children:[T.jsxs("div",{className:Ps.referInfoTitle,children:[T.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:n,children:[T.jsx("path",{d:"M14.5912 3.225L13.1079 1.75L4.86621 10L13.1162 18.25L14.5912 16.775L7.81621 10L14.5912 3.225Z",fill:"#202830"}),T.jsx("mask",{id:"mask0_119_20617",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"4",y:"1",width:"11",height:"18",children:T.jsx("path",{d:"M14.5912 3.225L13.1079 1.75L4.86621 10L13.1162 18.25L14.5912 16.775L7.81621 10L14.5912 3.225Z",fill:"white"})}),T.jsx("g",{mask:"url(#mask0_119_20617)"})]}),T.jsxs("div",{children:[T.jsx("h3",{children:t.title}),T.jsx("h4",{children:t.subTitle})]})]}),T.jsx("p",{children:t.text}),T.jsx(qs,{onClick:function(){r(),n()}})]})}),document.body)}function Gs(e){var t=e.type;switch(void 0===t?"doc":t){case"doc":return T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.33366 1.33301H4.00033C3.26033 1.33301 2.66699 1.92634 2.66699 2.66634V13.333C2.66699 14.0663 3.26033 14.6663 4.00033 14.6663H12.0003C12.7367 14.6663 13.3337 14.0694 13.3337 13.333V5.33301L9.33366 1.33301ZM12.3337 5.99967H8.66699V2.33301L12.3337 5.99967ZM10.0003 11.9997V10.6663H4.00033V11.9997H10.0003ZM12.0003 7.99967V9.33301H4.00033V7.99967H12.0003Z",fill:"currentColor"})});case"link":return T.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:T.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.33333 3.33333V12.6667H12.6667V8H14V12.6667C14 13.4 13.4 14 12.6667 14H3.33333C2.59333 14 2 13.4 2 12.6667V3.33333C2 2.6 2.59333 2 3.33333 2H8V3.33333H3.33333ZM9.33318 3.33333V2H13.9998V6.66667H12.6665V4.27333L6.11318 10.8267L5.17318 9.88667L11.7265 3.33333H9.33318Z",fill:"currentColor"})})}}var $s=function(e){var t,n=e.sid,r=e.tid,u=e.enableRTL,a=e.messageItem,o=e.onButtonClick,i=e.onMediaSourceError,s=e.linkProtocol,c=e.linkTarget,l=e.isLastMessage,d=void 0!==l&&l,f=e.errorMessageText,p=a.type,h={linkProtocol:s,linkTarget:c};switch(p){case"text":return T.jsx(ws,E(E({},a),h));case"quick_replies":return T.jsx(Ns,E(E(E({},a),h),{},{isLastMessage:d,onButtonClick:o}));case"carousel":return T.jsx(os,{enableRTL:u,items:a.cards,onButtonClick:o,onError:i});case"buttons":return T.jsx(Bs,E(E({},h),{},{text:a.text,buttons:a.buttons,onButtonClick:o}));case"rich_text":return T.jsx(js,{html:a.html});case"video":case"audio":case"file":case"image":return T.jsx(Is,{identity:r||n,onError:i,type:a.type,url:a.url||"",getContentTemporaryUrl:a.getContentTemporaryUrl,children:a.children});case"typing":return T.jsx(Rs,{});case"system":return T.jsx(Ms,E({},a));case"demo_message":return T.jsx(Vs,E({},a));case"error":return T.jsx(ws,E({text:f||a.error_message},h));default:return t=p,T.jsx(ws,E({text:'Type "'.concat(t,'" is not supported')},h))}},Ks=function(e){var t=e.sid,r=e.tid,u=e.enableRTL,a=void 0!==u&&u,i=e.hasName,s=void 0!==i&&i,c=e.hasAvatar,l=void 0!==c&&c,d=e.hasTimestamp,f=void 0!==d&&d,p=e.status,h=e.avatarUrl,v=e.avatarType,g=e.avatarVerticalAlign,m=e.formattedTime,D=e.participantName,_=void 0===D?"":D,y=e.alignment,b=e.linkProtocol,C=void 0===b?"https":b,E=e.linkTarget,A=void 0===E?"_blank":E,x=e.isLastMessage,F=void 0!==x&&x,w=e.isInSeries,k=void 0!==w&&w,B=e.onButtonClick,j=e.onResend,S=e.onMediaSourceError,O=e.errorMessageText,I=e.onMessageError,N="success"!==p&&"sent"===y,L=o(e,n);return T.jsx(hs,{status:N&&T.jsx(As,{status:p,onResend:j}),name:s&&T.jsx(_s,{name:_}),avatar:l&&T.jsx(Ds,{align:g,url:h,type:v}),timestamp:f&&T.jsx(xs,{text:m}),alignment:y,type:L.type,errorMessage:O,onError:I,isLastMessage:F,isInSeries:k,children:T.jsx($s,{sid:t,tid:r,enableRTL:a,messageItem:L,alignment:y,linkProtocol:C,linkTarget:A,isLastMessage:F,errorMessageText:O,onButtonClick:B,onMediaSourceError:S})})};Ks.whyDidYouRender=!0;var Js=S.memo(Ks),Qs={error:"_error_2hw0o_11",message:"_message_2hw0o_20",retry:"_retry_2hw0o_27"};var Xs=S.createContext({element:null}),ec=function(){var e=S.useContext(Xs);if(!e.element)throw new Error("You must use a PortalProvider to get a portal.");return e};function tc(e){var t=e.children,n=ec().element;return O.createPortal(t,n)}var nc="tdw-portal-container";var rc=function(e){return{go:e.go,on:e.on,off:e.off,getInitialPage:e.getInitialPage,emit:e.emit,reset:e.reset,is:e.is,isNot:e.isNot,focusUserInputArea:e.focusUserInputArea,setIsFrameOpened:e.setIsFrameOpened,setCredentials:e.setCredentials,hasProviderCredentials:e.hasProviderCredentials,createIdentity:e.createIdentity,setFormData:e.setFormData,setLayoutDirection:e.setLayoutDirection,enableScreenLoading:e.enableScreenLoading,hiddenScreenLoading:e.hiddenScreenLoading,updateFeedbackStatus:e.updateFeedbackStatus,updateChatContentScroll:e.updateChatContentScroll,updateInitialScreenScroll:e.updateInitialScreenScroll,updateInitialScreenHeight:e.updateInitialScreenHeight,enableLoadFeedback:e.enableLoadFeedback}},uc=function(e){return e.page},ac=function(e){return e.hasInitialized&&"conversation"===e.page},oc=function(e){return(e.hasInitialized&&"conversation"===e.page||"end"===e.page)&&!!e.interactionId},ic=function(e){return e.shouldLoadFeedback},sc=function(e){return e.feedbackLink},cc=function(e){var t=e.feedbackStatus.status;return E(E({},e.feedbackStatus),{},{active:"SURVEY_UNSUBMITTED"===t,hidden:"SURVEY_NOT_AVAILABLE"===t,pending:"init"===t,showMessage:-1===["init","SURVEY_UNSUBMITTED"].indexOf(t)})},lc=function(e){return e.isFrameOpened},dc=function(e){return e.layoutDirection===se},fc=function(e){return e.showScreenLoading},pc=function(e){return{top:e.chatContentScroll.top,percent:e.chatContentScroll.percent,scrollOffset:e.chatContentScroll.scrollOffset,isTop:e.chatContentScroll.percent<=0,isBottom:e.chatContentScroll.percent>=100}},hc=function(e){return{top:e.initialScreenScroll.top,percent:e.initialScreenScroll.percent,scrollOffset:e.chatContentScroll.scrollOffset,isTop:e.initialScreenScroll.percent<=0,isBottom:e.initialScreenScroll.percent>=100}},vc=s("w",(function(){return Ki(k(rc))})),gc=(s("e",(function(){return Ki(uc)})),s("B",(function(){return Ki(ic)})),s("i",(function(){return Ki(sc)})),s("j",(function(){return Ki(cc)}))),mc=s("d",(function(){return Ki(lc)})),Dc=s("x",(function(){return Ki(dc)})),_c=(s("z",(function(){return Ki(fc)})),s("k",(function(){return Ki(pc)})));function yc(){var e=v(S.useState(!0),2),t=e[0],n=e[1],r=vc(),u=r.on,a=r.off;return S.useEffect((function(){var e=function(){n(!1)},t=function(){n(!0)};return u("disconnect",e),u("reconnect",t),u("leave_end",t),u("leave_error",t),function(){a("disconnect",e),a("reconnect",t),a("leave_end",t),a("leave_error",t)}}),[u,a]),t}
/*!
       * OverlayScrollbars
       * Version: 2.10.0
       *
       * Copyright (c) Rene Haas | KingSora.
       * https://github.com/KingSora
       *
       * Released under the MIT license.
       */Ki.subscribe(lc,(function(e){e&&Bi.getState().updateLastReadIndex()})),Ki.subscribe(dc,(function(e){var t=document.documentElement;e?t.setAttribute("data-layout-direction",se):t.removeAttribute("data-layout-direction")}));var bc=function(e,t){var n,r=e.o,u=e.i,a=e.u,o=r,i=function(e,t){var r=o,i=e,s=t||(u?!u(r,i):r!==i);return(s||a)&&(o=i,n=r),[o,s,n]};return[t?function(e){return i(t(o,n),e)}:i,function(e){return[o,!!e,n]}]},Cc="undefined"!=typeof window&&"undefined"!=typeof HTMLElement&&!!window.document?window:{},Ec=Math.max,Ac=Math.min,xc=Math.round,Fc=Math.abs,wc=Math.sign,kc=Cc.cancelAnimationFrame,Bc=Cc.requestAnimationFrame,jc=Cc.setTimeout,Sc=Cc.clearTimeout,Tc=function(e){return void 0!==Cc[e]?Cc[e]:void 0},Oc=Tc("MutationObserver"),Ic=Tc("IntersectionObserver"),Nc=Tc("ResizeObserver"),Lc=Tc("ScrollTimeline"),Mc=function(e){return void 0===e},Pc=function(e){return null===e},zc=function(e){return"number"==typeof e},Rc=function(e){return"string"==typeof e},Zc=function(e){return"boolean"==typeof e},Uc=function(e){return"function"==typeof e},Vc=function(e){return Array.isArray(e)},Hc=function(e){return"object"===h(e)&&!Vc(e)&&!Pc(e)},Wc=function(e){var t=!!e&&e.length,n=zc(t)&&t>-1&&t%1==0;return!!(Vc(e)||!Uc(e)&&n)&&(!(t>0&&Hc(e))||t-1 in e)},qc=function(e){return!!e&&e.constructor===Object},Yc=function(e){return e instanceof HTMLElement},Gc=function(e){return e instanceof Element};function $c(e,t){if(Wc(e))for(var n=0;n<e.length&&!1!==t(e[n],n,e);n++);else e&&$c(Object.keys(e),(function(n){return t(e[n],n,e)}));return e}var Kc=function(e,t){return e.indexOf(t)>=0},Jc=function(e,t){return e.concat(t)},Qc=function(e,t,n){return!Rc(t)&&Wc(t)?Array.prototype.push.apply(e,t):e.push(t),e},Xc=function(e){return Array.from(e||[])},el=function(e){return Vc(e)?e:!Rc(e)&&Wc(e)?Xc(e):[e]},tl=function(e){return!!e&&!e.length},nl=function(e){return Xc(new Set(e))},rl=function(e,t,n){$c(e,(function(e){return!e||e.apply(void 0,t||[])})),!n&&(e.length=0)},ul="paddingTop",al="paddingRight",ol="paddingLeft",il="paddingBottom",sl="marginLeft",cl="marginRight",ll="marginBottom",dl="overflowX",fl="overflowY",pl="width",hl="height",vl="visible",gl="hidden",ml="scroll",Dl=function(e,t,n,r){if(e&&t){var u=!0;return $c(n,(function(n){e[n]!==t[n]&&(u=!1)})),u}return!1},_l=function(e,t){return Dl(e,t,["w","h"])},yl=function(e,t){return Dl(e,t,["x","y"])},bl=function(e,t){return Dl(e,t,["t","r","b","l"])},Cl=function(){},El=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.bind.apply(e,[0].concat(n))},Al=function(e){var t,n=e?jc:Bc,r=e?Sc:kc;return[function(u){r(t),t=n((function(){return u()}),Uc(e)?e():e)},function(){return r(t)}]},xl=function(e,t){var n,r,u,a,o=t||{},i=o._,s=o.v,c=o.p,l=o.S,d=Cl,f=function(t){d(),Sc(n),a=n=r=void 0,d=Cl,e.apply(this,t)},p=function(e){return l&&r?l(r,e):e},h=function(){d!==Cl&&f(p(u)||u)},v=function(){var e=Xc(arguments),t=Uc(i)?i():i;if(zc(t)&&t>=0){var o,l=Uc(s)?s():s,v=zc(l)&&l>=0,g=t>0?jc:Bc,m=t>0?Sc:kc,D=p(e)||e,_=f.bind(0,D);d(),c&&!a?(_(),a=!0,o=g((function(){return a=void 0}),t)):(o=g(_,t),v&&!n&&(n=jc(h,l))),d=function(){return m(o)},r=u=D}else f(e)};return v.m=h,v},Fl=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},wl=function(e){return e?Object.keys(e):[]},kl=function(e,t,n,r,u,a,o){var i=[t,n,r,u,a,o];return"object"===h(e)&&!Pc(e)||Uc(e)||(e={}),$c(i,(function(t){$c(t,(function(n,r){var u=t[r];if(e===u)return!0;var a=Vc(u);if(u&&qc(u)){var o=e[r],i=o;a&&!Vc(o)?i=[]:a||qc(o)||(i={}),e[r]=kl(i,u)}else e[r]=a?u.slice():u}))})),e},Bl=function(e,t){return $c(kl({},e),(function(e,t,n){void 0===e?delete n[t]:e&&qc(e)&&(n[t]=Bl(e))}))},jl=function(e){return!wl(e).length},Sl=function(e,t,n){return Ec(e,Ac(t,n))},Tl=function(e){return nl((Vc(e)?e:(e||"").split(" ")).filter((function(e){return e})))},Ol=function(e,t){return e&&e.getAttribute(t)},Il=function(e,t){return e&&e.hasAttribute(t)},Nl=function(e,t,n){$c(Tl(t),(function(t){e&&e.setAttribute(t,String(n||""))}))},Ll=function(e,t){$c(Tl(t),(function(t){return e&&e.removeAttribute(t)}))},Ml=function(e,t){var n=Tl(Ol(e,t)),r=El(Nl,e,t),u=function(e,t){var r=new Set(n);return $c(Tl(e),(function(e){r[t](e)})),Xc(r).join(" ")};return{O:function(e){return r(u(e,"delete"))},$:function(e){return r(u(e,"add"))},C:function(e){var t=Tl(e);return t.reduce((function(e,t){return e&&n.includes(t)}),t.length>0)}}},Pl=function(e,t,n){return Ml(e,t).O(n),El(zl,e,t,n)},zl=function(e,t,n){return Ml(e,t).$(n),El(Pl,e,t,n)},Rl=function(e,t,n,r){return(r?zl:Pl)(e,t,n)},Zl=function(e,t,n){return Ml(e,t).C(n)},Ul=function(e){return Ml(e,"class")},Vl=function(e,t){Ul(e).O(t)},Hl=function(e,t){return Ul(e).$(t),El(Vl,e,t)},Wl=function(e,t){var n=t?Gc(t)&&t:document;return n?Xc(n.querySelectorAll(e)):[]},ql=function(e,t){return Gc(e)&&e.matches(t)},Yl=function(e){return ql(e,"body")},Gl=function(e){return e?Xc(e.childNodes):[]},$l=function(e){return e&&e.parentElement},Kl=function(e,t){return Gc(e)&&e.closest(t)},Jl=function(e){return document.activeElement},Ql=function(e,t,n){var r=Kl(e,t),u=e&&function(e,t){var n=t?Gc(t)&&t:document;return n&&n.querySelector(e)}(n,r),a=Kl(u,t)===r;return!(!r||!u)&&(r===e||u===e||a&&Kl(Kl(e,n),t)!==r)},Xl=function(e){$c(el(e),(function(e){var t=$l(e);e&&t&&t.removeChild(e)}))},ed=function(e,t){return El(Xl,e&&t&&$c(el(t),(function(t){t&&e.appendChild(t)})))},td=function(e){var t=document.createElement("div");return Nl(t,"class",e),t},nd=function(e){var t=td();return t.innerHTML=e.trim(),$c(Gl(t),(function(e){return Xl(e)}))},rd=function(e,t){return e.getPropertyValue(t)||e[t]||""},ud=function(e){var t=e||0;return isFinite(t)?t:0},ad=function(e){return ud(parseFloat(e||""))},od=function(e){return Math.round(1e4*e)/1e4},id=function(e){return"".concat(od(ud(e)),"px")};function sd(e,t){e&&t&&$c(t,(function(t,n){try{var r=e.style,u=Pc(t)||Zc(t)?"":zc(t)?id(t):t;0===n.indexOf("--")?r.setProperty(n,u):r[n]=u}catch(Ac){}}))}function cd(e,t,n){var r=Rc(t),u=r?"":{};if(e){var a=Cc.getComputedStyle(e,n)||e.style;u=r?rd(a,t):Xc(t).reduce((function(e,t){return e[t]=rd(a,t),e}),u)}return u}var ld,dd,fd=function(e,t,n){var r=t?"".concat(t,"-"):"",u=n?"-".concat(n):"",a="".concat(r,"top").concat(u),o="".concat(r,"right").concat(u),i="".concat(r,"bottom").concat(u),s="".concat(r,"left").concat(u),c=cd(e,[a,o,i,s]);return{t:ad(c[a]),r:ad(c[o]),b:ad(c[i]),l:ad(c[s])}},pd=function(e,t){return"translate".concat(Hc(e)?"(".concat(e.x,",").concat(e.y,")"):"Y".concat("(",e,")"))},hd={w:0,h:0},vd=function(e,t){return t?{w:t["".concat(e,"Width")],h:t["".concat(e,"Height")]}:hd},gd=function(e){return vd("inner",e||Cc)},md=El(vd,"offset"),Dd=El(vd,"client"),_d=El(vd,"scroll"),yd=function(e){var t=parseFloat(cd(e,pl))||0,n=parseFloat(cd(e,hl))||0;return{w:t-xc(t),h:n-xc(n)}},bd=function(e){return e.getBoundingClientRect()},Cd=function(e){return!(!e||!e[hl]&&!e[pl])},Ed=function(e,t){var n=Cd(e);return!Cd(t)&&n},Ad=function(e,t,n,r){$c(Tl(t),(function(t){e&&e.removeEventListener(t,n,r)}))},xd=function(e,t,n,r){var u,a=null==(u=r&&r.H)||u,o=r&&r.I||!1,i=r&&r.A||!1,s={passive:a,capture:o};return El(rl,Tl(t).map((function(t){var r=i?function(u){Ad(e,t,r,o),n&&n(u)}:n;return e&&e.addEventListener(t,r,s),El(Ad,e,t,r,o)})))},Fd=function(e){return e.stopPropagation()},wd=function(e){return e.preventDefault()},kd=function(e){return Fd(e)||wd(e)},Bd=function(e,t){var n=zc(t)?{x:t,y:t}:t||{},r=n.x,u=n.y;zc(r)&&(e.scrollLeft=r),zc(u)&&(e.scrollTop=u)},jd=function(e){return{x:e.scrollLeft,y:e.scrollTop}},Sd=function(e,t){var n=e.D,r=e.M,u=t.w,a=t.h,o=function(e,t,n){var r=wc(e)*n,u=wc(t)*n;if(r===u){var a=Fc(e),o=Fc(t);u=a>o?0:u,r=a<o?0:r}return[(r=r===u?0:r)+0,u+0]},i=v(o(n.x,r.x,u),2),s=i[0],c=i[1],l=v(o(n.y,r.y,a),2);return{D:{x:s,y:l[0]},M:{x:c,y:l[1]}}},Td=function(e){var t=e.D,n=e.M,r=function(e,t){return 0===e&&e<=t};return{x:r(t.x,n.x),y:r(t.y,n.y)}},Od=function(e,t){var n=e.D,r=e.M,u=function(e,t,n){return Sl(0,1,(e-n)/(e-t)||0)};return{x:u(n.x,r.x,t.x),y:u(n.y,r.y,t.y)}},Id=function(e){e&&e.focus&&e.focus({preventScroll:!0})},Nd=function(e,t){$c(el(t),e)},Ld=function(e){var t=new Map,n=function(e,n){if(e){var r=t.get(e);Nd((function(e){r&&r[e?"delete":"clear"](e)}),n)}else t.forEach((function(e){e.clear()})),t.clear()},r=function(e,u){if(Rc(e)){var a=t.get(e)||new Set;return t.set(e,a),Nd((function(e){Uc(e)&&a.add(e)}),u),El(n,e,u)}Zc(u)&&u&&n();var o=wl(e),i=[];return $c(o,(function(t){var n=e[t];n&&Qc(i,r(t,n))})),El(rl,i)};return r(e||{}),[r,n,function(e,n){$c(Xc(t.get(e)),(function(e){n&&!tl(n)?e.apply(0,n):e()}))}]},Md=function(e){return JSON.stringify(e,(function(e,t){if(Uc(t))throw 0;return t}))},Pd=function(e,t){return e?"".concat(t).split(".").reduce((function(e,t){return e&&Fl(e,t)?e[t]:void 0}),e):void 0},zd={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Rd=function(e,t){var n={};return $c(Jc(wl(t),wl(e)),(function(r){var u=e[r],a=t[r];if(Hc(u)&&Hc(a))kl(n[r]={},Rd(u,a)),jl(n[r])&&delete n[r];else if(Fl(t,r)&&a!==u){var o=!0;if(Vc(u)||Vc(a))try{Md(u)===Md(a)&&(o=!1)}catch(wc){}o&&(n[r]=a)}})),n},Zd=function(e,t,n){return function(r){return[Pd(e,r),n||void 0!==Pd(t,r)]}},Ud="data-overlayscrollbars",Vd="os-environment",Hd="".concat(Vd,"-scrollbar-hidden"),Wd="".concat(Ud,"-initialize"),qd="noClipping",Yd="".concat(Ud,"-body"),Gd=Ud,$d="".concat(Ud,"-viewport"),Kd=dl,Jd=fl,Qd="measuring",Xd="scrollbarHidden",ef="".concat(Ud,"-padding"),tf="".concat(Ud,"-content"),nf="os-size-observer",rf="".concat(nf,"-appear"),uf="".concat(nf,"-listener"),af="os-scrollbar",of="".concat(af,"-rtl"),sf="".concat(af,"-horizontal"),cf="".concat(af,"-vertical"),lf="".concat(af,"-track"),df="".concat(af,"-handle"),ff="".concat(af,"-visible"),pf="".concat(af,"-cornerless"),hf="".concat(af,"-interaction"),vf="".concat(af,"-unusable"),gf="".concat(af,"-auto-hide"),mf="".concat(gf,"-hidden"),Df="".concat(af,"-wheel"),_f="".concat(lf,"-interactive"),yf="".concat(df,"-interactive"),bf=function(){var e=function(e,t,n){ed(document.body,e),ed(document.body,e);var r=Dd(e),u=md(e),a=yd(t);return n&&Xl(e),{x:u.h-r.h+a.h,y:u.w-r.w+a.w}},t=".".concat(Vd,"{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.").concat(Vd," div{width:200%;height:200%;margin:10px 0}.").concat(Hd,"{scrollbar-width:none!important}.").concat(Hd,"::-webkit-scrollbar,.").concat(Hd,"::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}"),n=nd('<div class="'.concat(Vd,'"><div></div><style>').concat(t,"</style></div>"))[0],r=n.firstChild,u=n.lastChild,a=ld;a&&(u.nonce=a);var o=v(Ld(),3),i=o[0],s=o[2],c=v(bc({o:e(n,r),i:yl},El(e,n,r,!0)),2),l=c[0],d=v((0,c[1])(),1)[0],f=function(e){var t=!1,r=Hl(e,Hd);try{t="none"===cd(e,"scrollbar-width")||"none"===cd(e,"display","::-webkit-scrollbar")}catch(n){}return r(),t}(n),p={x:0===d.x,y:0===d.y},h={elements:{host:null,padding:!f,viewport:function(e){return f&&Yl(e)&&e},content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},g=kl({},zd),m=El(kl,{},g),D=El(kl,{},h),_={T:d,k:p,R:f,V:!!Lc,L:El(i,"r"),U:D,P:function(e){return kl(h,e)&&D()},N:m,q:function(e){return kl(g,e)&&m()},B:kl({},h),F:kl({},g)};if(Ll(n,"style"),Xl(n),xd(Cc,"resize",(function(){s("r",[])})),Uc(Cc.matchMedia)&&!f&&(!p.x||!p.y)){var y=function(e){var t=Cc.matchMedia("(resolution: ".concat(Cc.devicePixelRatio,"dppx)"));xd(t,"change",(function(){e(),y(e)}),{A:!0})};y((function(){var e=v(l(),2),t=e[0],n=e[1];kl(_.T,t),s("r",[n])}))}return _},Cf=function(){return dd||(dd=bf()),dd},Ef=function(e,t){return Uc(t)?t.apply(0,e):t},Af=function(e,t,n,r){var u=Mc(r)?n:r;return Ef(e,u)||t.apply(0,e)},xf=function(e,t,n,r){var u=Mc(r)?n:r,a=Ef(e,u);return!!a&&(Yc(a)?a:t.apply(0,e))},Ff=new WeakMap,wf=function(e){return Ff.get(e)},kf=function(e,t,n,r){var u=!1,a=r||{},o=a.j,i=a.X,s=a.Y,c=a.W,l=a.J,d=a.G,f=xl((function(){return u&&n(!0)}),{_:33,v:99}),p=function(e,t,n){var r=!1,u=!!n&&new WeakMap,a=function(a){if(u&&n){var o=n.map((function(t){var n=v(t||[],2),r=n[0],u=n[1];return[u&&r?(a||Wl)(r,e):[],u]}));$c(o,(function(n){return $c(n[0],(function(a){var o=n[1],i=u.get(a)||[];if(e.contains(a)&&o){var s=xd(a,o,(function(e){r?(s(),u.delete(a)):t(e)}));u.set(a,Qc(i,s))}else rl(i),u.delete(a)}))}))}};return a(),[function(){r=!0},a]}(e,f,s),h=v(p,2),g=h[0],m=h[1],D=i||[],_=Jc(o||[],D),y=function(u,a){if(!tl(a)){var o=l||Cl,i=d||Cl,s=[],f=[],p=!1,h=!1;if($c(a,(function(n){var u=n.attributeName,a=n.target,l=n.type,d=n.oldValue,v=n.addedNodes,g=n.removedNodes,m="attributes"===l,_="childList"===l,y=e===a,b=m&&u,C=b&&Ol(a,u||""),E=Rc(C)?C:null,A=b&&d!==E,x=Kc(D,u)&&A;if(t&&(_||!y)){var F=m&&A,w=F&&c&&ql(a,c),k=(w?!o(a,u,d,E):!m||F)&&!i(n,!!w,e,r);$c(v,(function(e){return Qc(s,e)})),$c(g,(function(e){return Qc(s,e)})),h=h||k}!t&&y&&A&&!o(a,u,d,E)&&(Qc(f,u),p=p||x)})),m((function(e){return nl(s).reduce((function(t,n){return Qc(t,Wl(e,n)),ql(n,e)?Qc(t,n):t}),[])})),t)return!u&&h&&n(!1),[!1];if(!tl(f)||p){var v=[nl(f),p];return!u&&n.apply(0,v),v}}},b=new Oc(El(y,!1));return[function(){return b.observe(e,{attributes:!0,attributeOldValue:!0,attributeFilter:_,subtree:t,childList:t,characterData:t}),u=!0,function(){u&&(g(),b.disconnect(),u=!1)}},function(){if(u)return f.m(),y(!0,b.takeRecords())}]},Bf={},jf={},Sf=function(e,t,n){return wl(e).map((function(r){var u=e[r],a=u.static,o=u.instance,i=v(n||[],3),s=i[0],c=i[1],l=i[2],d=n?o:a;if(d){var f=n?d(s,c,t):d(t);return(l||jf)[r]=f}}))},Tf=function(e){return jf[e]},Of=function(e){return 0===e.indexOf(vl)},If=function(e,t){var n=function(e,t,n,r){var u=e===vl?gl:e.replace("".concat(vl,"-"),""),a=Of(e),o=Of(n);return t||r?a&&o?vl:a?t&&r?u:t?vl:gl:t?u:o&&r?vl:gl:gl},r={x:n(t.x,e.x,t.y,e.y),y:n(t.y,e.y,t.x,e.x)};return{K:r,Z:{x:r.x===ml,y:r.y===ml}}},Nf="__osScrollbarsHidingPlugin",Lf=function(e,t,n){var r=(n||{}).dt,u=Tf("__osSizeObserverPlugin"),a=v(bc({o:!1,u:!0}),1)[0];return function(){var n=[],o=nd('<div class="'.concat(nf,'"><div class="').concat(uf,'"></div></div>'))[0],i=o.firstChild,s=function(e){var n=!1,r=!1;if(e instanceof ResizeObserverEntry){var u=v(a(e.contentRect),3),o=u[0],i=u[2],s=Cd(o);n=!(r=Ed(o,i))&&!s}else r=!0===e;n||t({ft:!0,dt:r})};if(Nc){var c=new Nc((function(e){return s(e.pop())}));c.observe(i),Qc(n,(function(){c.disconnect()}))}else{if(!u)return Cl;var l=v(u(i,s,r),2),d=l[0],f=l[1];Qc(n,Jc([Hl(o,rf),xd(o,"animationstart",d)],f))}return El(rl,Qc(n,ed(e,o)))}},Mf=function(e,t){var n,r=td("os-trinsic-observer"),u=v(bc({o:!1}),1)[0],a=function(e,n){if(e){var r=u(function(e){return 0===e.h||e.isIntersecting||e.intersectionRatio>0}(e));return v(r,2)[1]&&!n&&t(r)&&[r]}},o=function(e,t){return a(t.pop(),e)};return[function(){var t=[];if(Ic)(n=new Ic(El(o,!1),{root:e})).observe(r),Qc(t,(function(){n.disconnect()}));else{var u=function(){var e=md(r);a(e)};Qc(t,Lf(r,u)()),u()}return El(rl,Qc(t,ed(e,r)))},function(){return n&&o(!0,n.takeRecords())}]},Pf=function(e,t,n,r){var u,a,o,i,s,c,l="[".concat(Gd,"]"),d="[".concat($d,"]"),f=["id","class","style","open","wrap","cols","rows"],p=e.vt,h=e.ht,g=e.ot,m=e.gt,D=e.bt,_=e.nt,y=e.wt,b=e.yt,C=e.St,E=e.Ot,A=function(e){return"rtl"===cd(e,"direction")},x={$t:!1,ct:A(p)},F=Cf(),w=Tf(Nf),k=bc({i:_l,o:{w:0,h:0}},(function(){var r=w&&w.tt(e,t,x,F,n).ut,u=!(y&&_)&&Zl(h,Gd,qd),a=!_&&b("arrange"),o=a&&jd(m),i=o&&E(),s=C(Qd,u),c=a&&r&&r()[0],l=_d(g),d=yd(g);return c&&c(),Bd(m,o),i&&i(),u&&s(),{w:l.w+d.w,h:l.h+d.h}})),B=v(k,1)[0],j=xl(r,{_:function(){return u},v:function(){return a},S:function(e,t){var n=v(e,1)[0],r=v(t,1)[0];return[Jc(wl(n),wl(r)).reduce((function(e,t){return e[t]=n[t]||r[t],e}),{})]}}),S=function(e){var t=A(p);kl(e,{Ct:c!==t}),kl(x,{ct:t}),c=t},T=function(e,t){var n=v(e,2),u=n[0],a={xt:n[1]};return kl(x,{$t:u}),!t&&r(a),a},O=function(e){var t=e.ft,n=e.dt,u=!(t&&!n)&&F.R?j:r,a={ft:t||n,dt:n};S(a),u(a)},I=function(e,t){var n=v(B(),2)[1],u={Ht:n};return S(u),n&&!t&&(e?r:j)(u),u},N=function(e,t,n){var r={Et:t};return S(r),t&&!n&&j(r),r},L=v(D?Mf(h,T):[],2),M=L[0],P=L[1],z=!_&&Lf(h,O,{dt:!0}),R=v(kf(h,!1,N,{X:f,j:f}),2),Z=R[0],U=R[1],V=_&&Nc&&new Nc((function(e){var t=e[e.length-1].contentRect;O({ft:!0,dt:Ed(t,s)}),s=t})),H=xl((function(){var e=v(B(),2)[1];r({Ht:e})}),{_:222,p:!0});return[function(){V&&V.observe(h);var e=z&&z(),t=M&&M(),n=Z(),r=F.L((function(e){e?j({zt:e}):H()}));return function(){V&&V.disconnect(),e&&e(),t&&t(),i&&i(),n(),r()}},function(e){var t=e.It,n=e.At,r=e.Dt,s={},c=v(t("update.ignoreMutation"),1)[0],p=v(t("update.attributes"),2),h=p[0],m=p[1],y=v(t("update.elementEvents"),2),b=y[0],C=y[1],E=v(t("update.debounce"),2),A=E[0],x=E[1],F=n||r;if(C||m){o&&o(),i&&i();var w=kf(D||g,!0,I,{j:Jc(f,h||[]),Y:b,W:l,G:function(e,t){var n=e.target,r=e.attributeName;return!(t||!r||_)&&Ql(n,l,d)||!!Kl(n,".".concat(af))||!!function(e){return Uc(c)&&c(e)}(e)}}),k=v(w,2),B=k[0],O=k[1];i=B(),o=O}if(x)if(j.m(),Vc(A)){var L=A[0],M=A[1];u=zc(L)&&L,a=zc(M)&&M}else zc(A)?(u=A,a=!1):(u=!1,a=!1);if(F){var z=U(),R=P&&P(),Z=o&&o();z&&kl(s,N(z[0],z[1],F)),R&&kl(s,T(R[0],F)),Z&&kl(s,I(Z[0],F))}return S(s),s},x]},zf=function(e,t,n,r){var u="--os-scroll-percent",a=(0,Cf().U)().scrollbars.slot,o=t.vt,i=t.ht,s=t.ot,c=t.Mt,l=t.gt,d=t.wt,f=t.nt,p=((c?{}:e).scrollbars||{}).slot,h=[],g=[],m=[],D=xf([o,i,s],(function(){return f&&d?o:i}),a,p),_=function(e){if(Lc){var t=new Lc({source:l,axis:e});return{kt:function(e){var n=e.Tt.animate(A({clear:["left"]},u,[0,1]),{timeline:t});return function(){return n.cancel()}}}}},y={x:_("x"),y:_("y")},b=function(e,t,n){var r=n?Hl:Vl;$c(e,(function(e){r(e.Tt,t)}))},C=function(e,t){$c(e,(function(e){var n=v(t(e),2);sd(n[0],n[1])}))},E=function(e,t,n){var r=Zc(n),u=!r||!n;(!r||n)&&b(g,e,t),u&&b(m,e,t)},x=function(e){var t=e?"x":"y",n=e?sf:cf,u=td("".concat(af," ").concat(n)),a=td(lf),o=td(df),i={Tt:u,Ut:a,Pt:o},s=y[t];return Qc(e?g:m,i),Qc(h,[ed(u,a),ed(a,o),El(Xl,u),s&&s.kt(i),r(i,E,e)]),i},F=El(x,!0),w=El(x,!1);return F(),w(),[{Nt:function(){var e=function(){var e=n.Rt,t=n.Vt,r=function(e,t){return Sl(0,1,e/(e+t)||0)};return{x:r(t.x,e.x),y:r(t.y,e.y)}}(),t=function(e){return function(t){return[t.Tt,A({},"--os-viewport-percent",od(e)+"")]}};C(g,t(e.x)),C(m,t(e.y))},qt:function(){if(!Lc){var e=n.Lt,t=Od(e,jd(l)),r=function(e){return function(t){return[t.Tt,A({},u,od(e)+"")]}};C(g,r(t.x)),C(m,r(t.y))}},Bt:function(){var e=n.Lt,t=Td(e),r=function(e){return function(t){return[t.Tt,A({},"--os-scroll-direction",e?"0":"1")]}};C(g,r(t.x)),C(m,r(t.y))},Ft:function(){if(f&&!d){var e=n.Rt,t=n.Lt,r=Td(t),u=Od(t,jd(l)),a=function(t){var n=t.Tt,a=$l(n)===s&&n,o=function(e,t,n){var r=t*e;return id(n?r:-r)};return[a,a&&{transform:pd({x:o(u.x,e.x,r.x),y:o(u.y,e.y,r.y)})}]};C(g,a),C(m,a)}},jt:E,Xt:{Yt:g,Wt:F,Jt:El(C,g)},Gt:{Yt:m,Wt:w,Jt:El(C,m)}},function(){return ed(D,g[0].Tt),ed(D,m[0].Tt),El(rl,h)}]},Rf=function(e,t,n,r){return function(u,a,o){var i=t.ht,s=t.ot,c=t.nt,l=t.gt,d=t.Kt,f=t.Ot,p=u.Tt,h=u.Ut,g=u.Pt,m=v(Al(333),2),D=m[0],_=m[1],y=v(Al(444),2),b=y[0],C=y[1],E=function(e){Uc(l.scrollBy)&&l.scrollBy({behavior:"smooth",left:e.x,top:e.y})},x=!0;return El(rl,[xd(g,"pointermove pointerleave",r),xd(p,"pointerenter",(function(){a(hf,!0)})),xd(p,"pointerleave pointercancel",(function(){a(hf,!1)})),!c&&xd(p,"mousedown",(function(){var e=Jl();(Il(e,$d)||Il(e,Gd)||e===document.body)&&jc(El(Id,s),25)})),xd(p,"wheel",(function(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;x&&0===r&&$l(p)===i&&E({x:t,y:n}),x=!1,a(Df,!0),D((function(){x=!0,a(Df)})),wd(e)}),{H:!1,I:!0}),xd(p,"pointerdown",El(xd,d,"click",kd,{A:!0,I:!0,H:!1}),{I:!0}),function(){var t="pointerup pointercancel lostpointercapture",r="client".concat(o?"X":"Y"),u=o?pl:hl,a=o?"left":"top",i=o?"w":"h",s=o?"x":"y",c=function(e,t){return function(r){var u=n.Rt,a=md(h)[i]-md(g)[i],o=t*r/a*u[s];Bd(l,A({},s,e+o))}},p=[];return xd(h,"pointerdown",(function(n){var o=Kl(n.target,".".concat(df))===g,v=o?g:h,m=e.scrollbars,D=m[o?"dragScroll":"clickScroll"],_=n.button,y=n.isPrimary,A=n.pointerType,x=m.pointers;if(0===_&&y&&D&&(x||[]).includes(A)){rl(p),C();var F=!o&&(n.shiftKey||"instant"===D),w=El(bd,g),k=El(bd,h),B=xc(bd(l)[u])/md(l)[i]||1,j=c(jd(l)[s],1/B),S=n[r],T=w(),O=k(),I=T[u],N=function(e,t){return(e||w())[a]-(t||k())[a]}(T,O)+I/2,L=S-O[a],M=o?0:L-N,P=function(e){rl(Z),v.releasePointerCapture(e.pointerId)},z=o||F,R=f(),Z=[xd(d,t,P),xd(d,"selectstart",(function(e){return wd(e)}),{H:!1}),xd(h,t,P),z&&xd(h,"pointermove",(function(e){return j(M+(e[r]-S))})),z&&function(){var e=jd(l);R();var t=jd(l),n={x:t.x-e.x,y:t.y-e.y};(Fc(n.x)>3||Fc(n.y)>3)&&(f(),Bd(l,e),E(n),b(R))}];if(v.setPointerCapture(n.pointerId),F)j(M);else if(!o){var U=Tf("__osClickScrollPlugin");if(U){var V=U(j,M,I,(function(e){e?R():Qc(Z,R)}));Qc(Z,V),Qc(p,El(V,!0))}}}}))}(),_,C])}},Zf=function(e){var t=Cf(),n=t.U,r=t.R,u=n().elements,a=u.padding,o=u.viewport,i=u.content,s=Yc(e),c=s?{}:e,l=c.elements||{},d=l.padding,f=l.viewport,p=l.content,h=s?e:c.target,v=Yl(h),g=h.ownerDocument,m=g.documentElement,D=function(){return g.defaultView||Cc},_=El(Af,[h]),y=El(xf,[h]),b=El(td,""),C=El(_,b,o),E=El(y,b,i),A=C(f),x=A===h,F=x&&v,w=!x&&E(p),k=!x&&A===w,B=F?m:A,j=F?B:h,S=!x&&y(b,a,d),T=!k&&w,O=[T,B,S,j].map((function(e){return Yc(e)&&!$l(e)&&e})),I=function(e){return e&&Kc(O,e)},N=!I(B)&&function(e){var t=md(e),n=_d(e),r=cd(e,dl),u=cd(e,fl);return n.w-t.w>0&&!Of(r)||n.h-t.h>0&&!Of(u)}(B)?B:h,L=F?m:B,M={vt:h,ht:j,ot:B,ln:S,bt:T,gt:L,Qt:F?g:B,an:v?m:N,Kt:g,wt:v,Mt:s,nt:x,un:D,yt:function(e){return Zl(B,$d,e)},St:function(e,t){return Rl(B,$d,e,t)},Ot:function(){return Rl(L,$d,"scrolling",!0)}},P=M.vt,z=M.ht,R=M.ln,Z=M.ot,U=M.bt,V=[function(){Ll(z,[Gd,Wd]),Ll(P,Wd),v&&Ll(m,[Wd,Gd])}],H=Gl([U,Z,R,z,P].find((function(e){return e&&!I(e)}))),W=F?P:U||Z,q=El(rl,V);return[M,function(){var e=D(),t=Jl(),n=function(e){ed($l(e),Gl(e)),Xl(e)},u=function(e){return xd(e,"focusin focusout focus blur",kd,{I:!0,H:!1})},a="tabindex",o=Ol(Z,a),i=u(t);return Nl(z,Gd,x?"":"host"),Nl(R,ef,""),Nl(Z,$d,""),Nl(U,tf,""),x||(Nl(Z,a,o||"-1"),v&&Nl(m,Yd,"")),ed(W,H),ed(z,R),ed(R||z,!x&&Z),ed(Z,U),Qc(V,[i,function(){var e=Jl(),t=I(Z),r=t&&e===Z?P:e,i=u(r);Ll(R,ef),Ll(U,tf),Ll(Z,$d),v&&Ll(m,Yd),o?Nl(Z,a,o):Ll(Z,a),I(U)&&n(U),t&&n(Z),I(R)&&n(R),Id(r),i()}]),r&&!x&&(zl(Z,$d,Xd),Qc(V,El(Ll,Z,$d))),Id(!x&&v&&t===P&&e.top===e?Z:t),i(),H=0,q},q]},Uf=function(e){var t=e.bt;return function(e){var n=e.Zt,r=e._n,u=e.Dt,a=(n||{}).xt,o=r.$t;t&&(a||u)&&sd(t,A({},hl,o&&"100%"))}},Vf=function(e,t){var n=e.ht,r=e.ln,u=e.ot,a=e.nt,o=v(bc({i:bl,o:fd()},El(fd,n,"padding","")),2),i=o[0],s=o[1];return function(e){var n=e.It,o=e.Zt,c=e._n,l=e.Dt,d=v(s(l),2),f=d[0],p=d[1],h=Cf().R,g=o||{},m=g.ft,D=g.Ht,_=g.Ct,y=c.ct,b=v(n("paddingAbsolute"),2),C=b[0],E=b[1];if(m||p||(l||D)){var x=v(i(l),2);f=x[0],p=x[1]}var F=!a&&(E||_||p);if(F){var w=!C||!r&&!h,k=f.r+f.l,B=f.t+f.b,j=A(A(A(A(A(A(A({},cl,w&&!y?-k:0),ll,w?-B:0),sl,w&&y?-k:0),"top",w?-f.t:0),"right",w?y?-f.r:"auto":0),"left",w?y?"auto":-f.l:0),pl,w&&"calc(100% + ".concat(k,"px)")),S=A(A(A(A({},ul,w?f.t:0),al,w?f.r:0),il,w?f.b:0),ol,w?f.l:0);sd(r||u,j),sd(u,S),kl(t,{ln:f,dn:!w,rt:r?S:kl({},j,S)})}return{fn:F}}},Hf=function(e,t){var n=Cf(),r=e.ht,u=e.ln,a=e.ot,o=e.nt,i=e.Qt,s=e.gt,c=e.wt,l=e.St,d=e.un,f=n.R,p=c&&o,h=El(Ec,0),g={display:function(){return!1},direction:function(e){return"ltr"!==e},flexDirection:function(e){return e.endsWith("-reverse")},writingMode:function(e){return"horizontal-tb"!==e}},m=wl(g),D={i:_l,o:{w:0,h:0}},_={i:yl,o:{}},y=function(e){l(Qd,!p&&e)},b=function(e){var t=m.some((function(t){var n=e[t];return n&&g[t](n)}));if(!t)return{D:{x:0,y:0},M:{x:1,y:1}};y(!0);var n=jd(s),r=l("noContent",!0),u=xd(i,ml,(function(e){var t=jd(s);e.isTrusted&&t.x===n.x&&t.y===n.y&&Fd(e)}),{I:!0,A:!0});Bd(s,{x:0,y:0}),r();var a=jd(s),o=_d(s);Bd(s,{x:o.w,y:o.h});var c=jd(s);Bd(s,{x:c.x-a.x<1&&-o.w,y:c.y-a.y<1&&-o.h});var d=jd(s);return Bd(s,n),Bc((function(){return u()})),{D:a,M:d}},C=function(e,t){var n=Cc.devicePixelRatio%1!=0?1:0,r={w:h(e.w-t.w),h:h(e.h-t.h)};return{w:r.w>n?r.w:0,h:r.h>n?r.h:0}},E=v(bc(D,El(yd,a)),2),A=E[0],x=E[1],F=v(bc(D,El(_d,a)),2),w=F[0],k=F[1],B=v(bc(D),2),j=B[0],S=B[1],T=v(bc(_),1)[0],O=v(bc(D),2),I=O[0],N=O[1],L=v(bc(_),1)[0],M=bc({i:function(e,t){return Dl(e,t,m)},o:{}},(function(){return function(e){return!!e&&function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}(e)}(a)?cd(a,m):{}})),P=v(M,1)[0],z=bc({i:function(e,t){return yl(e.D,t.D)&&yl(e.M,t.M)},o:{D:{x:0,y:0},M:{x:0,y:0}}}),R=v(z,2),Z=R[0],U=R[1],V=Tf(Nf),H=function(e,t){return"".concat(t?Kd:Jd).concat(function(e){var t=String(e||"");return t?t[0].toUpperCase()+t.slice(1):""}(e))},W=function(e){var t=function(e){return[vl,gl,ml].map((function(t){return H(t,e)}))},n=t(!0).concat(t()).join(" ");l(n),l(wl(e).map((function(t){return H(e[t],"x"===t)})).join(" "),!0)};return function(o,i){var s=o.It,c=o.Zt,g=o._n,m=o.Dt,D=i.fn,_=c||{},E=(_.ft,_.Ht,_.Ct),F=_.dt,B=_.zt,O=V&&V.tt(e,t,g,n,s)||{},M=O.it,z=O.ut,R=O._t,H=function(e,t){var n=t.k,r=v(e("showNativeOverlaidScrollbars"),2),u=r[0],a=r[1];return[u&&n.x&&n.y,a]}(s,n),q=v(H,2),Y=q[0],G=q[1],$=v(s("overflow"),2),K=$[0],J=$[1],Q=Of(K.x),X=Of(K.y),ee=x(m),te=k(m),ne=S(m),re=N(m);G&&f&&l(Xd,!Y),Zl(r,Gd,qd)&&y(!0);var ue=v(z?z():[],1)[0],ae=v(ee=A(m),1)[0],oe=v(te=w(m),1)[0],ie=Dd(a),se=p&&gd(d()),ce={w:h(oe.w+ae.w),h:h(oe.h+ae.h)},le={w:h((se?se.w:ie.w+h(ie.w-oe.w))+ae.w),h:h((se?se.h:ie.h+h(ie.h-oe.h))+ae.h)};ue&&ue(),re=I(le),ne=j(C(ce,le),m);var de=v(re,2),fe=de[0],pe=de[1],he=v(ne,2),ve=he[0],ge=he[1],me=v(te,2),De=me[0],_e=me[1],ye=v(ee,2),be=ye[0],Ce=ye[1],Ee=v(T({x:ve.w>0,y:ve.h>0}),2),Ae=Ee[0],xe=Ee[1],Fe=Q&&X&&(Ae.x||Ae.y)||Q&&Ae.x&&!Ae.y||X&&Ae.y&&!Ae.x,we=D||E||B||Ce||_e||pe||ge||J||G||!0,ke=If(Ae,K),Be=v(L(ke.K),2),je=Be[0],Se=Be[1],Te=v(P(m),2),Oe=Te[0],Ie=Te[1],Ne=E||F||Ie||xe||m,Le=v(Ne?Z(b(Oe),m):U(),2),Me=Le[0],Pe=Le[1];return we&&(Se&&W(ke.K),R&&M&&sd(a,R(ke,g,M(ke,De,be)))),y(!1),Rl(r,Gd,qd,Fe),Rl(u,ef,qd,Fe),kl(t,{K:je,Vt:{x:fe.w,y:fe.h},Rt:{x:ve.w,y:ve.h},rn:Ae,Lt:Sd(Me,ve)}),{en:Se,nn:pe,sn:ge,cn:Pe||ge,vn:Ne}}},Wf=function(e){var t=v(Zf(e),3),n=t[0],r=t[1],u=t[2],a={ln:{t:0,r:0,b:0,l:0},dn:!1,rt:A(A(A(A(A(A(A({},cl,0),ll,0),sl,0),ul,0),al,0),il,0),ol,0),Vt:{x:0,y:0},Rt:{x:0,y:0},K:{x:gl,y:gl},rn:{x:!1,y:!1},Lt:{D:{x:0,y:0},M:{x:0,y:0}}},o=n.vt,i=n.gt,s=n.nt,c=n.Ot,l=Cf(),d=l.R,f=l.k,p=!d&&(f.x||f.y),h=[Uf(n),Vf(n,a),Hf(n,a)];return[r,function(e){var t={},n=p&&jd(i),r=n&&c();return $c(h,(function(n){kl(t,n(e,t)||{})})),Bd(i,n),r&&r(),!s&&Bd(o,0),t},a,n,u]},qf=function(e,t,n,r,u){var a=!1,o=Zd(t,{}),i=v(Wf(e),5),s=i[0],c=i[1],l=i[2],d=i[3],f=i[4],p=Pf(d,l,o,(function(e){x({},e)})),h=v(p,3),g=h[0],m=h[1],D=h[2],_=function(e,t,n,r,u,a){var o,i,s,c,l,d=Cl,f=0,p=function(e){return"mouse"===e.pointerType},h=v(Al(),2),g=h[0],m=h[1],D=v(Al(100),2),_=D[0],y=D[1],b=v(Al(100),2),C=b[0],E=b[1],A=v(Al((function(){return f})),2),x=A[0],F=A[1],w=zf(e,u,r,Rf(t,u,r,(function(e){return p(e)&&R()}))),k=v(w,2),B=k[0],j=k[1],S=u.ht,T=u.Qt,O=u.wt,I=B.jt,N=B.Nt,L=B.qt,M=B.Bt,P=B.Ft,z=function(e,t){if(F(),e)I(mf);else{var n=El(I,mf,!0);f>0&&!t?x(n):n()}},R=function(){(s?o:c)||(z(!0),_((function(){z(!1)})))},Z=function(e){I(gf,e,!0),I(gf,e,!1)},U=function(e){p(e)&&(o=s,s&&z(!0))},V=[F,y,E,m,function(){return d()},xd(S,"pointerover",U,{A:!0}),xd(S,"pointerenter",U),xd(S,"pointerleave",(function(e){p(e)&&(o=!1,s&&z(!1))})),xd(S,"pointermove",(function(e){p(e)&&i&&R()})),xd(T,"scroll",(function(e){g((function(){L(),R()})),a(e),P()}))];return[function(){return El(rl,Qc(V,j()))},function(e){var t=e.It,u=e.Dt,a=e.Zt,o=e.tn||{},p=o.nn,h=o.sn,g=o.en,m=o.cn,D=a||{},_=D.Ct,y=D.dt,b=n.ct,E=Cf().k,A=r.K,x=r.rn,F=v(t("showNativeOverlaidScrollbars"),2),w=F[0],k=F[1],B=v(t("scrollbars.theme"),2),j=B[0],S=B[1],R=v(t("scrollbars.visibility"),2),U=R[0],V=R[1],H=v(t("scrollbars.autoHide"),2),W=H[0],q=H[1],Y=v(t("scrollbars.autoHideSuspend"),2),G=Y[0],$=Y[1],K=v(t("scrollbars.autoHideDelay"),1)[0],J=v(t("scrollbars.dragScroll"),2),Q=J[0],X=J[1],ee=v(t("scrollbars.clickScroll"),2),te=ee[0],ne=ee[1],re=v(t("overflow"),2),ue=re[0],ae=re[1],oe=y&&!u,ie=x.x||x.y,se=p||h||m||_||u,ce=g||V||ae,le=w&&E.x&&E.y,de=function(e,t,n){var r=e.includes(ml)&&(U===vl||"auto"===U&&t===ml);return I(ff,r,n),r};if(f=K,oe&&(G&&ie?(Z(!1),d(),C((function(){d=xd(T,"scroll",El(Z,!0),{A:!0})}))):Z(!0)),k&&I("os-theme-none",le),S&&(I(l),I(j,!0),l=j),$&&!G&&Z(!0),q&&(i="move"===W,s="leave"===W,z(c="never"===W,!0)),X&&I(yf,Q),ne&&I(_f,!!te),ce){var fe=de(ue.x,A.x,!0),pe=de(ue.y,A.y,!1);I(pf,!(fe&&pe))}se&&(L(),N(),P(),m&&M(),I(vf,!x.x,!0),I(vf,!x.y,!1),I(of,b&&!O))},{},B]}(e,t,D,l,d,u),y=v(_,4),b=y[0],C=y[1],E=y[3],A=function(e){return wl(e).some((function(t){return!!e[t]}))},x=function(e,u){if(n())return!1;var o=e.pn,i=e.Dt,s=e.At,l=e.hn,d=o||{},f=!!i||!a,p={It:Zd(t,d,f),pn:d,Dt:f};if(l)return C(p),!1;var h=u||m(kl({},p,{At:s})),v=c(kl({},p,{_n:D,Zt:h}));C(kl({},p,{Zt:h,tn:v}));var g=A(h),_=A(v),y=g||_||!jl(d)||f;return a=!0,y&&r(e,{Zt:h,tn:v}),y};return[function(){var e=d.an,t=d.gt,n=d.Ot,r=jd(e),u=[g(),s(),b()],a=n();return Bd(t,r),a(),El(rl,u)},x,function(){return{gn:D,bn:l}},{wn:d,yn:E},f]},Yf=function(e,t,n){var r=Cf().N,u=Yc(e),a=u?e:e.target,o=wf(a);if(t&&!o){var i=!1,s=[],c={},l=function(e){var t=Bl(e),n=Tf("__osOptionsValidationPlugin");return n?n(t,!0):t},d=kl({},r(),l(t)),f=v(Ld(),3),p=f[0],h=f[1],g=f[2],m=v(Ld(n),3),D=m[0],_=m[1],y=m[2],b=function(e,t){y(e,t),g(e,t)},C=qf(e,d,(function(){return i}),(function(e,t){var n=e.pn,r=e.Dt,u=t.Zt,a=t.tn,o=u.ft,i=u.Ct,s=u.xt,c=u.Ht,l=u.Et,d=u.dt,f=a.nn,p=a.sn,h=a.en,v=a.cn;b("updated",[j,{updateHints:{sizeChanged:!!o,directionChanged:!!i,heightIntrinsicChanged:!!s,overflowEdgeChanged:!!f,overflowAmountChanged:!!p,overflowStyleChanged:!!h,scrollCoordinatesChanged:!!v,contentMutation:!!c,hostMutation:!!l,appear:!!d},changedOptions:n||{},force:!!r}])}),(function(e){return b("scroll",[j,e])})),E=v(C,5),A=E[0],x=E[1],F=E[2],w=E[3],k=E[4],B=function(e){!function(e){Ff.delete(e)}(a),rl(s),i=!0,b("destroyed",[j,e]),h(),_()},j={options:function(e,t){if(e){var n=t?r():{},u=Rd(d,kl(n,l(e)));jl(u)||(kl(d,u),x({pn:u}))}return kl({},d)},on:D,off:function(e,t){e&&t&&_(e,t)},state:function(){var e=F(),t=e.gn,n=e.bn,r=t.ct,u=n.Vt,a=n.Rt,o=n.K,s=n.rn,c=n.ln,l=n.dn,d=n.Lt;return kl({},{overflowEdge:u,overflowAmount:a,overflowStyle:o,hasOverflow:s,scrollCoordinates:{start:d.D,end:d.M},padding:c,paddingAbsolute:l,directionRTL:r,destroyed:i})},elements:function(){var e=w.wn,t=e.vt,n=e.ht,r=e.ln,u=e.ot,a=e.bt,o=e.gt,i=e.Qt,s=w.yn,c=s.Xt,l=s.Gt,d=function(e){var t=e.Pt,n=e.Ut;return{scrollbar:e.Tt,track:n,handle:t}},f=function(e){var t=e.Yt,n=e.Wt,r=d(t[0]);return kl({},r,{clone:function(){var e=d(n());return x({hn:!0}),e}})};return kl({},{target:t,host:n,padding:r||u,viewport:u,content:a||u,scrollOffsetElement:o,scrollEventElement:i,scrollbarHorizontal:f(c),scrollbarVertical:f(l)})},update:function(e){return x({Dt:e,At:!0})},destroy:El(B,!1),plugin:function(e){return c[wl(e)[0]]}};return Qc(s,[k]),function(e,t){Ff.set(e,t)}(a,j),Sf(Bf,Yf,[j,p,c]),function(e,t){var n=t||{},r=n.nativeScrollbarsOverlaid,u=n.body,a=Cf(),o=a.k,i=a.R,s=(0,a.U)().cancel,c=s.nativeScrollbarsOverlaid,l=s.body,d=null!=r?r:c,f=Mc(u)?l:u,p=(o.x||o.y)&&d,h=e&&(Pc(f)?!i:f);return!!p||!!h}(w.wn.wt,!u&&e.cancel)?(B(!0),j):(Qc(s,A()),b("initialized",[j]),j.update(),j)}return o};Yf.plugin=function(e){var t=Vc(e),n=t?e:[e],r=n.map((function(e){return Sf(e,Yf)[0]}));return function(e){$c(e,(function(e){return $c(e,(function(t,n){Bf[n]=e[n]}))}))}(n),t?r:r[0]},Yf.valid=function(e){var t=e&&e.elements,n=Uc(t)&&t();return qc(n)&&!!wf(n.target)},Yf.env=function(){var e=Cf(),t=e.T,n=e.k,r=e.R,u=e.V,a=e.B,o=e.F,i=e.U,s=e.P,c=e.N,l=e.q;return kl({},{scrollbarsSize:t,scrollbarsOverlaid:n,scrollbarsHiding:r,scrollTimeline:u,staticDefaultInitialization:a,staticDefaultOptions:o,getDefaultInitialization:i,setDefaultInitialization:s,getDefaultOptions:c,setDefaultOptions:l})},Yf.nonce=function(e){ld=e};var Gf=function(){if(("undefined"==typeof window?"undefined":h(window))>"u"){var e=function(){};return[e,e]}var t,n,r=window,u="function"==typeof r.requestIdleCallback,a=r.requestAnimationFrame,o=r.cancelAnimationFrame,i=u?r.requestIdleCallback:a,s=u?r.cancelIdleCallback:o,c=function(){s(t),o(n)};return[function(e,r){c(),t=i(u?function(){c(),n=a(e)}:e,"object"==h(r)?r:{timeout:2233})},c]},$f=S.forwardRef((function(e,t){var n=e.element,u=void 0===n?"div":n,a=e.options,i=e.events,s=e.defer,c=e.children,l=o(e,r),d=u,f=S.useRef(null),p=S.useRef(null),h=function(e){var t=e||{},n=t.options,r=t.events,u=t.defer,a=v(S.useMemo(Gf,[]),2),o=a[0],i=a[1],s=S.useRef(null),c=S.useRef(u),l=S.useRef(n),d=S.useRef(r);return S.useEffect((function(){c.current=u}),[u]),S.useEffect((function(){var e=s.current;l.current=n,Yf.valid(e)&&e.options(n||{},!0)}),[n]),S.useEffect((function(){var e=s.current;d.current=r,Yf.valid(e)&&e.on(r||{},!0)}),[r]),S.useEffect((function(){return function(){var e;i(),null==(e=s.current)||e.destroy()}}),[]),S.useMemo((function(){return[function(e){var t=s.current;if(!Yf.valid(t)){var n=c.current,r=l.current||{},u=d.current||{},a=function(){return s.current=Yf(e,r,u)};n?o(a,n):a()}},function(){return s.current}]}),[])}({options:a,events:i,defer:s}),g=v(h,2),m=g[0],D=g[1];return S.useEffect((function(){var e=f.current,t=p.current;if(e){return m("body"===u?{target:e,cancel:{body:null}}:{target:e,elements:{viewport:t,content:t}}),function(){var e;return null==(e=D())?void 0:e.destroy()}}}),[m,u]),S.useImperativeHandle(t,(function(){return{osInstance:D,getElement:function(){return f.current}}}),[]),I.createElement(d,E({"data-overlayscrollbars-initialize":"",ref:f},l),"body"===u?c:I.createElement("div",{"data-overlayscrollbars-contents":"",ref:p},c))})),Kf=function(e){var t=e.scene,n=S.useRef(null),r=S.useRef(null),u=mc(),a=vc(),o=a.updateChatContentScroll,i=a.updateInitialScreenScroll,s="ChatContent"===t,c=S.useCallback((function(){if(s){var e,t=null===(e=n.current)||void 0===e?void 0:e.getElement();t&&t.setAttribute("data-loaded",Date.now()+"")}}),[s]),l=S.useCallback((function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.osInstance();if(t){var r=t.elements().scrollOffsetElement,u=Math.ceil(r.scrollHeight);r.scrollTo({behavior:"smooth",top:u})}}),[]),d=S.useCallback((function(){var e,r=null===(e=n.current)||void 0===e?void 0:e.osInstance();if(r){var u=r.elements().scrollOffsetElement,a=u.scrollTop||0,s=u.offsetHeight||0,c=u.scrollHeight||0,l=c-s||0,d=l<=0?{top:a,percent:0,scrollOffset:l}:{top:a,scrollOffset:l,percent:Math.ceil(a/(c-s)*100)};({ChatContent:function(){o(d)},InitialScreen:function(){i(d)}})[t]()}}),[t,o,i]);return S.useEffect((function(){var e=null,t=function(){r.current&&(clearTimeout(r.current),r.current=null)};if(s){var u,a=null===(u=n.current)||void 0===u?void 0:u.getElement();a&&(e=new MutationObserver((function(e){var n=function(e,t){var n=e.length,r="";if(n<=0)return r;for(var u=0;u<n;u++)e[u].addedNodes.forEach((function(e){var n,u=(null==e||null===(n=e.getAttribute)||void 0===n?void 0:n.call(e,t))||"";!r&&u&&(r=u)}));return r}(e,"data-ignore-mutation-observer");n||(t(),r.current=setTimeout(l,0))}))).observe(a,{childList:!0,attributes:!0,subtree:!0,attributeFilter:["data-loaded"]})}return function(){var n;t(),null===(n=e)||void 0===n||n.disconnect(),e=null}}),[s,l]),S.useEffect((function(){u&&s&&l()}),[s,u,l]),{osRef:n,updateScrollValue:c,scrollToBottom:l,onScroll:d}};function Jf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"===h(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Jf(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Qf(){for(var e,t,n=0,r="";n<arguments.length;){var u;(e=(u=n++)<0||arguments.length<=u?void 0:arguments[u])&&(t=Jf(e))&&(r&&(r+=" "),r+=t)}return r}var Xf="_bottomFixedArea_12mgx_6",ep="_paddingBottom_12mgx_15",tp=function(e){var t=e.page,n=Pi().enableUserInput;return t!==ae.Conversation?null:T.jsx($f,{className:Qf(Xf,A({},ep,!n)),options:{scrollbars:{autoHide:"scroll"}},children:T.jsx(us,{})})};function np(e){return e.flatMap((function(e){return e.items.map((function(t){return E(E({},e),t)}))}))}var rp=wt.getSubLogger({name:"ErrorBoundary"}),up=wt.getSubLogger({name:"GlobalErrorHandler"}),ap=wt.getSubLogger({name:"MediaSourceErrorBoundary"});function op(e,t,n){n.error(e),t.componentStack&&n.error("Component stack: ".concat(t.componentStack))}function ip(e,t){op(e,t,rp)}function sp(e){op(e,{},ap)}function cp(e){return"system"===e.type}function lp(e,t){return!!t&&(e.alignment===t.alignment&&e.formattedTime===t.formattedTime&&e.role===t.role&&e.rid===t.rid)}function dp(e,t){return void 0===t||(!!cp(t)||!lp(e,t))}function fp(e,t){return void 0===t||(!!cp(t)||!lp(e,t))}function pp(){}function hp(e){var t,n,r=e.message,u=e.messageArray,a=e.index,o=e.onButtonClick,i=Wi(Zi),s=i.linkProtocol,c=i.linkTarget,l=i.botIconVerticalAlign,d=r.type,f=r.alignment,p=r.formattedTime,h=r.participantName,g=void 0===h?"":h,m=r.avatar,D=r.resend,_=v(N(),1)[0],y=Ii().onComposer,b=Dc(),C={avatarVerticalAlign:l,linkProtocol:s,linkTarget:c,errorMessageText:_("invalidRichMedia"),onButtonClick:o,onMediaSourceError:sp,onMessageError:ip},A="system"===d,x=A||"file"===d,F=a===u.length-1,w=lp(r,u[a-1]),k=dp(r,u[a-1]),B=fp(r,u[a+1]),j=!A&&k&&"received"===f,O=!A&&B&&!!g,I=!A&&B&&!!p,L=S.useMemo((function(){return I?p.replace(/AM/gi,_("AM")).replace(/PM/gi,_("PM")):""}),[_,I,p]);x&&null!=r&&null!==(t=r.smart_text)&&void 0!==t&&t.key&&(r.children=_(r.smart_text.key,(null===(n=r.smart_text)||void 0===n?void 0:n.options)||{}));return T.jsx(Js,E(E(E({},r),C),{},{enableRTL:b,hasAvatar:j,hasName:O,hasTimestamp:I,formattedTime:L,avatarUrl:null==m?void 0:m.url,avatarType:null==m?void 0:m.type,participantName:_(g),isInSeries:w,isLastMessage:F,onResend:D||pp,onComposer:y}))}function vp(e){var t=e.onButtonClick,n=S.useRef(Date.now()),r=Wi(Vi).messages,u=Wi(Zi),a=u.linkProtocol,o=u.linkTarget,i=u.botIcon,s={avatarVerticalAlign:u.botIconVerticalAlign,linkProtocol:a,linkTarget:o,errorMessageText:(0,v(N(),1)[0])("invalidRichMedia"),onButtonClick:t,onMediaSourceError:sp,onMessageError:ip},c=S.useCallback((function(){return!1}),[]);return T.jsx(T.Fragment,{children:r.map((function(e,t){return S.createElement(Js,E(E({},s),{},{key:e.key,sid:e.key,tid:e.key,avatarUrl:i,status:"success",alignment:"received",isInSeries:t>0,hasAvatar:0===t,onResend:c,timestamp:n.current,hasTimestamp:!1,formattedTime:gr(n.current),type:"text",text:e.value}))}))})}var gp=function(e){var t=e.messages,n=Ti().send,r=yc(),u=S.useCallback(function(){var e=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.type,e.next="reply"===e.t0?3:"call"===e.t0||"link"===e.t0?7:9;break;case 3:if(!r){e.next=6;break}return e.next=6,n({data:t.text,type:t.type,payload:t.payload});case 6:return e.abrupt("break",9);case 7:return(u=t.payload)&&window.open(u,"_blank"),e.abrupt("break",9);case 9:case"end":return e.stop()}var u}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,n]);return T.jsxs(T.Fragment,{children:[T.jsx(vp,{onButtonClick:u}),np(t).map((function(e,t,n){return T.jsx(hp,{message:e,index:t,messageArray:n,onButtonClick:u},"".concat(e.tid||e.sid,"-").concat(t))}))]})},mp="_text_1gk1d_6",Dp=function(){var e=Wi((function(e){return e.config.options.endedChatMessage})),t=v(N(),1)[0];return T.jsx("p",{className:mp,"data-qa":"chat ended",children:e||t("endedChatMessage")})},_p="_feedbackMessage_1ke5d_6",yp="_feedbackContainer_1ke5d_14",bp="_iframe_1ke5d_34",Cp="_hidden_1ke5d_49",Ep=function(e){var t=e.feedbackLink,n=e.updateScrollValue,r=v(N(),1)[0],u=S.useRef(null),a=S.useRef(null),o=S.useRef(null),i=gc(),s=i.showMessage,c=i.height,l=i.message,d=i.hidden,f=i.pending,p=vc().updateFeedbackStatus,h=S.useCallback((function(){o.current&&(clearTimeout(o.current),o.current=null)}),[]),g=S.useCallback((function(e){if(h(),e&&"string"==typeof e.status&&"string"==typeof e.message){var t=e.status,r=e.message,u=e.height;p({status:t,message:r,height:void 0===u?300:u}),"SURVEY_UNSUBMITTED"===t&&n()}else p({status:"error",message:"feedbackLoadFailed",height:0,reason:e})}),[h,n,p]),m=S.useCallback((function(){h(),o.current=setTimeout((function(){p({status:"error",message:"feedbackLoadFailed",height:0,reason:"timeout"})}),15e3)}),[h,p]),D=S.useCallback((function(){var e;if(a.current)return!1;var t=u.current;return!!t&&(a.current=new pr({name:"Parent",sender:t.contentWindow,topic:"feedback"}),null===(e=a.current)||void 0===e||e.register("feedbackStatusChange",g),!0)}),[g]),_=S.useCallback((function(){var e,t;null===(e=a.current)||void 0===e||e.unregister("feedbackStatusChange"),null===(t=a.current)||void 0===t||t.destroy(),a.current=null}),[]);return S.useEffect((function(){return u.current&&(m(),D()),function(){h(),_()}}),[m,h,D,_]),S.useEffect((function(){(d||s)&&(h(),_())}),[d,s,h,_]),d?T.jsx("div",{"data-ignore-mutation-observer":"1","aria-hidden":"true",className:Cp}):s?T.jsx("p",{className:_p,"aria-label":r(l),"data-ignore-mutation-observer":"1",children:r(l)}):T.jsx("div",{className:yp,style:{height:f||d?0:c},"data-testid":"feedback-container","aria-hidden":f||d,"aria-label":"Feedback","data-ignore-mutation-observer":"1",children:T.jsx("iframe",{ref:u,src:t,className:bp,onError:function(){p({status:"error",message:"feedbackLoadFailed",height:0,reason:"iframeLoadedError"})},title:"Feedback","data-testid":"feedback-iframe"})})},Ap="_hidden_xxytr_1",xp=function(e){var t=e.message;return t?T.jsx("div",{className:Ap,role:"log","aria-atomic":"true","aria-live":"polite",children:t.items.map((function(e,t){return"text"===e.type?T.jsx("p",{children:e.text},t):null}))}):null},Fp="_wrapper_ivzoz_14",wp="_chatContent_ivzoz_22";s("E",(function(e){var t=e.page,n=e.messages,r=e.feedbackLink,u=void 0===r?"":r,a=e.shouldLoadFeedback,o=Ti().hideTypingMessage,i=Kf({scene:"ChatContent"}),s=i.osRef,c=i.updateScrollValue,l=i.onScroll,d=t===ae.End||t===ae.Error,f=a&&u;return S.useEffect((function(){d&&o()}),[d,o]),T.jsxs("div",{className:Fp,children:[T.jsxs($f,{className:wp,options:{scrollbars:{autoHide:"scroll"},update:{attributes:["data-scroll"]}},events:{scroll:l},ref:s,children:[T.jsx(gp,{messages:n}),d&&T.jsx(Dp,{}),f&&T.jsx(Ep,{feedbackLink:u,updateScrollValue:c})]}),T.jsx(tp,{page:t}),T.jsx(xp,{message:n[n.length-1]||void 0})]})}));function kp(e){return T.jsx(S.Suspense,{children:e.children})}var Bp=I.lazy((function(){return Se((function(){return l.import("./Arrow-legacy-Bu6BjL-2.js")}),void 0,l.meta.url)})),jp=I.lazy((function(){return Se((function(){return l.import("./Attachment-legacy-frM_zH_i.js")}),void 0,l.meta.url)})),Sp=I.lazy((function(){return Se((function(){return l.import("./Close-legacy-S2trY7Fr.js")}),void 0,l.meta.url)})),Tp=I.lazy((function(){return Se((function(){return l.import("./Clear-legacy-BDyA64Jg.js")}),void 0,l.meta.url)})),Op=I.lazy((function(){return Se((function(){return l.import("./Confirm-legacy-DjMC8m4U.js")}),void 0,l.meta.url)})),Ip=I.lazy((function(){return Se((function(){return l.import("./Emoji-legacy-m9wV-Uqd.js")}),void 0,l.meta.url)})),Np=I.lazy((function(){return Se((function(){return l.import("./Minimize-legacy-CxrdjDKd.js")}),void 0,l.meta.url)})),Lp=I.lazy((function(){return Se((function(){return l.import("./MoreVert-legacy-PXg2JhXH.js")}),void 0,l.meta.url)})),Mp=I.lazy((function(){return Se((function(){return l.import("./Retry-legacy-B8T9mNsH.js")}),void 0,l.meta.url)})),Pp=I.lazy((function(){return Se((function(){return l.import("./Send-legacy-B7ecyqfs.js")}),void 0,l.meta.url)})),zp=I.lazy((function(){return Se((function(){return l.import("./Warning-legacy-qqQRb6fq.js")}),void 0,l.meta.url)})),Rp=I.lazy((function(){return Se((function(){return l.import("./Logo-legacy-BkZegxtZ.js")}),void 0,l.meta.url)})),Zp=I.lazy((function(){return Se((function(){return l.import("./Download-legacy-Cvp9wil0.js")}),void 0,l.meta.url)})),Up=I.lazy((function(){return Se((function(){return l.import("./Terminate-legacy-CB4PHgsR.js")}),void 0,l.meta.url)})),Vp=I.lazy((function(){return Se((function(){return l.import("./Refresh-legacy-GqnZu2zw.js")}),void 0,l.meta.url)})),Hp=function(e){return T.jsx(kp,{children:T.jsx(Bp,E({},e))})},Wp=function(){return T.jsx(kp,{children:T.jsx(jp,{})})},qp=function(){return T.jsx(kp,{children:T.jsx(Sp,{})})},Yp=function(){return T.jsx(kp,{children:T.jsx(Tp,{})})},Gp=function(){return T.jsx(kp,{children:T.jsx(Op,{})})},$p=function(){return T.jsx(kp,{children:T.jsx(Ip,{})})},Kp=function(){return T.jsx(kp,{children:T.jsx(Np,{})})},Jp=function(){return T.jsx(kp,{children:T.jsx(Lp,{})})},Qp=function(){return T.jsx(kp,{children:T.jsx(Mp,{})})},Xp=function(){return T.jsx(kp,{children:T.jsx(Pp,{})})},eh=function(){return T.jsx(kp,{children:T.jsx(Up,{})})},th=s("R",(function(){return T.jsx(kp,{children:T.jsx(Vp,{})})})),nh=function(e){return T.jsx(kp,{children:T.jsx(Rp,E({},e))})},rh=Object.freeze(Object.defineProperty({__proto__:null,Arrow:Hp,Attachment:Wp,Clear:Yp,Close:qp,Confirm:Gp,Download:function(){return T.jsx(kp,{children:T.jsx(Zp,{})})},Emoji:$p,Logo:nh,Minimize:Kp,MoreVert:Jp,Refresh:th,Retry:Qp,Send:Xp,Terminate:eh,Warning:function(){return T.jsx(kp,{children:T.jsx(zp,{})})}},Symbol.toStringTag,{value:"Module"})),uh=function(e){return e.LEFT="left",e.RIGHT="right",e}(uh||{}),ah=S.createContext({open:!1,align:"left"}),oh=ah.Provider,ih=function(){return S.useContext(ah)},sh=function(e){var t=e.handler,n=e.isExecuted,r=e.nodes;S.useEffect((function(){if(null!=r&&r[0]&&n){var e=function(e){var n=e.target;n instanceof Node&&function(e){return r.some((function(t){return t===e||(null==t?void 0:t.contains(e))}))}(n)||null==t||t()};return document.addEventListener("click",e),window.addEventListener("blur",e),function(){document.removeEventListener("click",e),window.removeEventListener("blur",e)}}}),[n,r,t])},ch="_dropdown-wrapper_rc6w0_19",lh="_dropdown-input_rc6w0_24",dh="_dropdown-input-placeholder_rc6w0_54",fh="_dropdown-input-arrow_rc6w0_57",ph="_dropdown-popup_rc6w0_65",hh="_dropdown-popup-visible_rc6w0_78",vh="_dropdown-content_rc6w0_84",gh="_dropdown-content-item_rc6w0_99",mh=function(e){var t=e.active,n=e.options,r=e.onClickOption,u=v(N(),1)[0];return T.jsx("ul",{className:vh,children:null==n?void 0:n.map((function(e,n){var a,o;return T.jsx("li",{className:gh,"data-disabled":!!e.disabled,"data-active":e.value===t,title:u(e.label),"aria-label":u(e.label),children:T.jsxs("button",{disabled:e.disabled,"aria-disabled":e.disabled,onClick:function(){return function(e){null==r||r(e)}(e)},children:[null===(a=Object.entries(rh).find((function(t){return v(t,1)[0].toLowerCase()===e.icon})))||void 0===a||null===(o=a[1])||void 0===o?void 0:o.call(a,{}),u(e.label)]})},n)}))})},Dh=function(e){var t=e.forwardedRef,n=e.placeholder,r=void 0===n?"Please input...":n,u=e.disabled,a=e.onClick,o=e.children,i=ih().open;return T.jsxs("button",{ref:t,className:lh,"data-focus":i,disabled:u,"aria-disabled":u,onClick:a,children:[o||T.jsx("span",{className:dh,children:r}),T.jsx(Hp,{className:fh})]})},_h=function(e){var t=e.forwardedRef,n=e.visible,r=e.children,u=ih(),a=u.align,o=u.top,i=S.useMemo((function(){return Qf(ph,A({},hh,!!n))}),[n]),s=S.useMemo((function(){return{top:"".concat(null!=o?o:0,"px"),left:"".concat(a===uh.LEFT?0:"auto"),right:"".concat(a===uh.RIGHT?0:"auto")}}),[o,a]);return T.jsx("div",{ref:t,className:i,style:s,children:r})},yh=function(e){var t=e.children;return T.jsx("div",{className:ch,children:t})},bh=function(e){var t=e.option,n=e.options,r=e.align,u=void 0===r?uh.LEFT:r,a=e.placeholder,o=void 0===a?"Please select...":a,i=e.customInput,s=e.children,c=e.onChange,l=S.useRef(null),d=S.useRef(null),f=v(S.useState(!1),2),p=f[0],h=f[1],g=l.current,m=d.current,D=S.useMemo((function(){var e;return null!==(e=null==g?void 0:g.clientHeight)&&void 0!==e?e:0}),[g]);sh({isExecuted:p,nodes:[g,m],handler:function(){return h(!1)}});var _=function(e){e.stopPropagation(),e.preventDefault(),h((function(e){return!e}))},y=function(e){h(!1),null==c||c(e)};return T.jsx(oh,{value:{open:p,align:u,top:D},children:T.jsxs(yh,{children:[i?I.cloneElement(i,A(A({},"function"==typeof i.type?"forwardedRef":"ref",l),"onClick",_)):T.jsx(Dh,{placeholder:o,forwardedRef:l,onClick:_,children:null==t?void 0:t.label}),T.jsx(_h,{visible:p,forwardedRef:d,children:"function"==typeof s?s({onClick:y}):T.jsx(mh,{active:null==t?void 0:t.value,options:n,onClickOption:y})})]})})};bh.whyDidYouRender=!0;var Ch="_logo_3ajxb_19",Eh="_customizedLogo_3ajxb_29",Ah="_defaultLogo_3ajxb_37",xh=function(){var e=Wi(Zi).chatTitleIcon;return T.jsx("div",{className:Ch,"data-testid":"logo",children:e?T.jsx("div",{className:Eh,style:{backgroundImage:"url(".concat(e,")")}}):T.jsx(nh,{className:Ah})})},Fh="_mask_15l67_106",wh="_start_15l67_117";function kh(e){var t=e.className,n=e.children,r=e.backgroundColor,u=e.align,a=void 0===u?"center":u;return T.jsx("div",{style:{backgroundColor:r},className:Qf(Fh,A({},wh,"start"===a),t),children:n})}var Bh={wrapper:"_wrapper_18ki2_106","slide-in":"_slide-in_18ki2_113","slide-out":"_slide-out_18ki2_117",dialog:"_dialog_18ki2_121",close:"_close_18ki2_126",header:"_header_18ki2_146",icon:"_icon_18ki2_151",content:"_content_18ki2_158",title:"_title_18ki2_172",description:"_description_18ki2_175",footer:"_footer_18ki2_179",confirm:"_confirm_18ki2_184",circle:"_circle_18ki2_1",loading:"_loading_18ki2_1","move-x":"_move-x_18ki2_1","slide-down":"_slide-down_18ki2_1","fade-in":"_fade-in_18ki2_1","fade-out":"_fade-out_18ki2_1"},jh=function(e){var t=e.visible,n=e.icon,r=e.title,u=e.description,a=e.confirmText,o=e.cancelText,i=e.isLoading,s=void 0!==i&&i,c=e.onConfirm,l=e.onCancel,d=S.useRef(null),f=v(S.useState(!1),2),p=f[0],h=f[1];return S.useEffect((function(){if(!t){var e=setTimeout((function(){return h(!1)}),200);return function(){return clearTimeout(e)}}var n;null===(n=d.current)||void 0===n||n.focus(),h(!0)}),[t]),p?T.jsx(tc,{children:T.jsx(kh,{className:Bh["".concat(t?"fade-in":"fade-out")],align:"start",children:T.jsx("div",{className:Qf(Bh.wrapper,Bh["".concat(t?"slide-in":"slide-out")]),children:T.jsxs("div",{className:Bh.dialog,children:[T.jsx("button",{className:Bh.close,"aria-label":o,onClick:l,children:T.jsx(qp,{})}),T.jsx("div",{className:Bh.header,children:T.jsx("div",{className:Bh.icon,children:n})}),T.jsxs("div",{className:Bh.content,children:[T.jsx("p",{className:Bh.title,children:r}),T.jsx("p",{className:Bh.description,children:u})]}),T.jsx("div",{className:Bh.footer,children:T.jsxs("button",{ref:d,className:Bh.confirm,onClick:c,disabled:s,"aria-disabled":s,"aria-label":a,children:[s?T.jsx(Es,{size:"tiny"}):null,T.jsx("span",{children:a})]})})]})})})}):null},Sh=function(e){var t=e.visible,n=e.isLoading,r=void 0!==n&&n,u=e.onConfirm,a=e.onCancel,o=v(N(),1)[0],i=Wi(Zi),s=i.chatDialogBoxEndChat,c=i.chatConfirmButtonEndChat,l=i.chatCancelButtonEndChat,d=S.useMemo((function(){return{chatDialogBoxEndChatTitle:o("chatConfirmButtonEndChat"),chatDialogBoxEndChatDescription:s||o("chatDialogBoxEndChat"),chatConfirmButtonEndChat:c||o("chatConfirmButtonEndChat"),chatCancelButtonEndChat:l||o("chatCancelButtonEndChat")}}),[o,s,c,l]);return T.jsx(jh,{visible:t,title:d.chatDialogBoxEndChatTitle,description:d.chatDialogBoxEndChatDescription,isLoading:r,onConfirm:u,onCancel:a,confirmText:d.chatConfirmButtonEndChat,cancelText:d.chatCancelButtonEndChat,icon:T.jsx(Gp,{})})},Th="_button_1rhpj_19",Oh=function(e){var t=e.forwardedRef,n=e.children,r=e.onClick,a=e.disabled,i=e.className,s=o(e,u);return T.jsx("button",E(E({ref:t,onClick:function(e){a||null==r||r(e)},disabled:a,"aria-disabled":a,className:Qf(Th,i)},s),{},{children:n}))},Ih="_header_bv5to_19",Nh="_withBoxShadow_bv5to_26",Lh="_withSeparator_bv5to_29",Mh="_left_bv5to_33",Ph="_desc_bv5to_47",zh="_title_bv5to_52",Rh="_subtitle_bv5to_62",Zh="_icon_bv5to_78",Uh=function(e){var t=e.disabled,n=e.onClick;return T.jsx(Oh,{onClick:n,disabled:t,"aria-label":"end chat conversation",children:T.jsx("div",{className:Zh,children:T.jsx(eh,{})})})},Vh=function(e){var t=e.onClick;return T.jsx(Oh,{onClick:t,"aria-label":"minimize chat widget",children:T.jsx("div",{className:Zh,children:T.jsx(Kp,{})})})},Hh=function(e){var t=e.forwardedRef,n=e.onClick;return T.jsx(Oh,{forwardedRef:t,onClick:n,"aria-label":"more operations",children:T.jsx("div",{className:Zh,children:T.jsx(Jp,{})})})},Wh=function(e){var t=e.visible,n=e.isLoading,r=void 0!==n&&n,u=e.onConfirm,a=e.onCancel,o=v(N(),1)[0],i=Wi(Zi),s=i.chatDialogBoxRetryEndChat,c=i.chatConfirmButtonRetryEndChat,l=i.chatCancelButtonRetryEndChat,d=S.useMemo((function(){return{chatDialogBoxRetryEndChatTitle:o("chatConfirmButtonRetryEndChat"),chatDialogBoxRetryEndChatDescription:s||o("chatDialogBoxRetryEndChat"),chatConfirmButtonRetryEndChat:c||o("chatConfirmButtonRetryEndChat"),chatCancelButtonRetryEndChat:l||o("chatCancelButtonRetryEndChat")}}),[o,s,c,l]);return T.jsx(jh,{visible:t,title:d.chatDialogBoxRetryEndChatTitle,description:d.chatDialogBoxRetryEndChatDescription,isLoading:r,onConfirm:u,onCancel:a,confirmText:d.chatConfirmButtonRetryEndChat,cancelText:d.chatCancelButtonRetryEndChat,icon:T.jsx(Qp,{})})},qh=function(){var e=!Ki(oc),t=function(){var e=D(g().mark((function e(){var t,n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ki.getState(),n=t.interactionId,e.next=3,Oi.getState().downloadTranscript(n);case 3:null!=(r=e.sent)&&r.error&&wt.error("Failed to download transcript for interactionId=".concat(n," error=").concat(r.error));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{disableDownloadTranscript:e,downloadTranscript:t}},Yh=[{label:"headerDownloadTranscriptButton",value:"headerDownloadTranscriptButton",icon:"download",disabled:!1},{label:"headerEndChatButton",value:"headerEndChatButton",icon:"terminate",disabled:!1}],Gh=function(e){var t=e.endChat,n=e.endApp,r=v(S.useState(!1),2),u=r[0],a=r[1],o=v(S.useState(!1),2),i=o[0],s=o[1],c=v(S.useState(!1),2),l=c[0],d=c[1],f=Ki(ac),p=yc(),h=!f||u||i||!p,m=function(){var e=D(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,t();case 3:r=e.sent,a(!1),d(!1),r?null==n||n():s(!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=D(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,t();case 3:r=e.sent,d(!1),r&&(s(!1),null==n||n());case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{isEndingChat:l,showConfirmEndChat:function(){h||a(!0)},confirmEndVisible:u,retryEndVisible:i,enableEndChat:f,disableEndChat:h,onEndChat:m,onRetryEndChat:_,onCancelRetryEndChat:function(){return s(!1)},onCancelConfirmEndChat:function(){return a(!1)}}},$h=(s("D",(function(e){var t=e.chatSubtitle,n=e.chatTitle,r=e.showCloseConversationButton,u=e.showDownloadTranscriptButton,a=v(N(),1)[0],o=Ti().end,i=vc(),s=i.go,c=i.is,l=i.isNot,d=i.focusUserInputArea,f=Dc(),p=Ki(hc).isTop,h=Gh({endChat:o,endApp:function(){return s("end")}}),g=h.isEndingChat,m=h.confirmEndVisible,D=h.retryEndVisible,_=h.disableEndChat,y=h.onEndChat,b=h.onRetryEndChat,C=h.onCancelRetryEndChat,x=h.onCancelConfirmEndChat,F=h.showConfirmEndChat,w=qh(),k=function(e){var t=e.showEndChatButton,n=e.disableEndChat,r=e.disableDownloadTranscript,u=e.onDownloadTranscript,a=e.onEndChat;return{options:S.useMemo((function(){return Yh.reduce((function(e,u){switch(u.value){case"headerDownloadTranscriptButton":e.push(E(E({},u),{},{label:u.label,disabled:r}));break;case"headerEndChatButton":t&&e.push(E(E({},u),{},{label:u.label,disabled:n}))}return e}),[])}),[t,n,r]),onOptionItemChange:function(e){switch(e.value){case"headerDownloadTranscriptButton":null==u||u();break;case"headerEndChatButton":null==a||a()}}}}({showEndChatButton:r,disableDownloadTranscript:w.disableDownloadTranscript,disableEndChat:_,onDownloadTranscript:w.downloadTranscript,onEndChat:F}),B=k.options,j=k.onOptionItemChange;return S.useEffect((function(){m||d&&d()}),[m,d]),T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:Qf(Ih,A(A({},Nh,l(ae.InitialScreen)),Lh,c(ae.InitialScreen)&&!p)),children:[T.jsxs("div",{className:Mh,children:[T.jsx(xh,{}),T.jsxs("div",{className:Ph,children:[T.jsx("p",{className:zh,title:n||me.chatTitle,children:n||me.chatTitle}),T.jsx("p",{className:Rh,title:t||a("poweredByTalkdesk"),children:t||a("poweredByTalkdesk")})]})]}),T.jsxs("div",{style:{visibility:"hidden"},children:[T.jsx(Vh,{onClick:function(){Oi.getState().minimize()}}),u?T.jsx(bh,{align:f?uh.LEFT:uh.RIGHT,options:B,onChange:j,customInput:T.jsx(Hh,{})}):r?T.jsx(Uh,{onClick:F,disabled:_}):null]})]}),T.jsx(Sh,{visible:m,onCancel:x,onConfirm:y,isLoading:g}),T.jsx(Wh,{visible:D,onCancel:C,onConfirm:b,isLoading:g})]})})),NaN),Kh="[object Symbol]",Jh=/^\s+|\s+$/g,Qh=/^[-+]0x[0-9a-f]+$/i,Xh=/^0b[01]+$/i,ev=/^0o[0-7]+$/i,tv=parseInt,nv="object"==h(m)&&m&&m.Object===Object&&m,rv="object"==("undefined"==typeof self?"undefined":h(self))&&self&&self.Object===Object&&self,uv=nv||rv||Function("return this")(),av=Object.prototype.toString,ov=Math.max,iv=Math.min,sv=function(){return uv.Date.now()};function cv(e){var t=h(e);return!!e&&("object"==t||"function"==t)}function lv(e){return"symbol"==h(e)||function(e){return!!e&&"object"==h(e)}(e)&&av.call(e)==Kh}function dv(e){if("number"==typeof e)return e;if(lv(e))return $h;if(cv(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=cv(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Jh,"");var n=Xh.test(e);return n||ev.test(e)?tv(e.slice(2),n?2:8):Qh.test(e)?$h:+e}var fv=function(e,t,n){var r,u,a,o,i,s,c=0,l=!1,d=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var n=r,a=u;return r=u=void 0,c=t,o=e.apply(a,n)}function h(e){var n=e-s;return void 0===s||n>=t||n<0||d&&e-c>=a}function v(){var e=sv();if(h(e))return g(e);i=setTimeout(v,function(e){var n=t-(e-s);return d?iv(n,a-(e-c)):n}(e))}function g(e){return i=void 0,f&&r?p(e):(r=u=void 0,o)}function m(){var e=sv(),n=h(e);if(r=arguments,u=this,s=e,n){if(void 0===i)return function(e){return c=e,i=setTimeout(v,t),l?p(e):o}(s);if(d)return i=setTimeout(v,t),p(s)}return void 0===i&&(i=setTimeout(v,t)),o}return t=dv(t)||0,cv(n)&&(l=!!n.leading,a=(d="maxWait"in n)?ov(dv(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==i&&clearTimeout(i),c=0,r=s=u=i=void 0},m.flush=function(){return void 0===i?o:g(sv())},m},pv=s("T",y(fv)),hv=function(e){return"string"==typeof e?e.toLocaleLowerCase():""},vv=function(){var e=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe.test(t)||!t){e.next=3;break}return e.abrupt("return",d.t("customFieldEmailInvalidFormatMessage"));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gv=function(){var e=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe.test(t)||!t){e.next=3;break}return e.abrupt("return",d.t("customFieldPhoneInvalidFormatMessage"));case 3:return e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mv="_wrapper_1n0k0_19",Dv="_submitButton_1n0k0_24",_v="_customButton_1n0k0_46",yv=S.forwardRef((function(e,t){var n=e.trigger,r=e.label,u=e.submitHandle;return T.jsx("div",{className:_v,children:T.jsx("div",{className:mv,children:T.jsx("button",{type:"button",className:Dv,ref:t,title:r,onClick:function(e){e.preventDefault(),e.stopPropagation(),"start_the_chat"===n&&u()},children:r})})})})),bv="_ErrorMessage_15cbg_6",Cv=function(e){var t=e.message;return T.jsx("p",{className:bv,"data-qa":"test-error-message","data-testid":"test-error-message",children:t})},Ev="_isError_1rerd_11",Av="_isRequired_1rerd_18",xv="_customDropdown_1dhdt_19",Fv="_wrapper_1dhdt_24",wv="_labelWrapper_1dhdt_32",kv="_label_1dhdt_32",Bv="_selectContainer_1dhdt_49",jv="_menu_1dhdt_53",Sv="_visible_1dhdt_68",Tv="_option_1dhdt_72",Ov="_selected_1dhdt_87",Iv="_dropdown_1dhdt_92",Nv="_placeholder_1dhdt_125",Lv="_text_1dhdt_125",Mv="_arrow_1dhdt_142",Pv="_isActive_1dhdt_147",zv=function(e){var t=e.options,n=e.onChange,r=e.value,u=e.onBlur,a=e.isError,o=e.label,i=e.name,s=S.useRef(null),c=S.useRef(null),l=S.useRef(!1),d=v(S.useState(!1),2),f=d[0],p=d[1],h=Wi(Zi).customDropdownInputPlaceholder,g=v(N(),1)[0],m=g("customDropdownPlaceholder",{select:h||g("customDropdownInputPlaceholder"),label:hv(o),interpolation:{escapeValue:!1}}),D=function(){p(!f)},_=function(e){return function(){n(e.value),D()}},y=S.useCallback((function(){l.current?l.current=!1:p(!1)}),[]),b=S.useCallback((function(){l.current=!0}),[]);return S.useEffect((function(){return document.addEventListener("click",y),function(){document.removeEventListener("click",y)}}),[y]),T.jsxs("div",{ref:s,className:Bv,onClickCapture:b,children:[T.jsxs("button",{className:Qf(Iv,A({},Ev,a)),name:i,onClick:D,onBlur:u,"aria-expanded":f,"aria-labelledby":i,children:[r?T.jsx("span",{className:Lv,title:r,children:r}):T.jsx("span",{className:Nv,title:m,children:m}),T.jsx(Hp,{className:Qf(Mv,A({},Pv,f))})]}),T.jsx("ul",{className:Qf(jv,A({},Sv,f)),role:"listbox","aria-labelledby":i,ref:c,children:null==t?void 0:t.map((function(e){return T.jsx("li",{role:"option","aria-selected":r===e.value,title:e.value,className:Qf(A({},Ov,r===e.value)),children:T.jsx("button",{className:Qf(Tv,A({},Ov,r===e.value)),onClick:_(e),children:e.value})},e.key)}))})]})},Rv=I.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.onChange,a=e.onBlur,o=e.options,i=e.value,s=e.isError,c=e.required,l=v(N(),1)[0];return T.jsx("div",{className:xv,ref:t,children:T.jsxs("div",{className:Fv,children:[T.jsx("div",{className:wv,children:T.jsxs("span",{className:kv,id:n,children:[r,c?T.jsx("span",{"aria-label":"required",className:Av,children:"*"}):null]})}),T.jsx(zv,{label:r,options:o,onChange:u,onBlur:a,value:i,isError:s,name:n}),s&&T.jsx(Cv,{message:l("customFieldRequiredFormatMessage")})]})})})),Zv="_customField_1hlud_19",Uv="_wrapper_1hlud_24",Vv="_labelWrapper_1hlud_33",Hv="_label_1hlud_33",Wv="_inputWrapper_1hlud_49",qv="_input_1hlud_49",Yv="_clear_1hlud_80",Gv=I.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,o=e.onBlur,i=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Wi(Zi),f=d.customFieldInputPlaceholder,p=d.customFieldEmailInvalidFormatMessage,h=v(N(),1)[0];return T.jsx("div",{className:Zv,children:T.jsxs("div",{className:Uv,children:[T.jsx("div",{className:Vv,children:T.jsxs("p",{className:Hv,id:n,children:[r,l?T.jsx("span",{className:Av,"aria-label":"required",children:"*"}):null]})}),T.jsxs("div",{className:Wv,children:[T.jsx("input",{ref:t,value:i||"",autoComplete:"off",className:Qf(qv,A({},Ev,c)),name:n,onChange:a,onBlur:o,placeholder:f?h("customFieldPlaceholder",{type:f,label:hv(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),i&&i!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:Yv,onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Yp,{})})]}),c&&T.jsx(Cv,{message:p||h("customFieldEmailInvalidFormatMessage")})]})})})),$v="_customField_19gzc_19",Kv="_wrapper_19gzc_24",Jv="_labelWrapper_19gzc_33",Qv="_helper_19gzc_39",Xv="_label_19gzc_33",eg="_inputWrapper_19gzc_56",tg="_input_19gzc_56",ng="_clear_19gzc_87",rg=I.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,o=e.onBlur,i=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Wi(Zi),f=d.customFieldPhoneDescription,p=d.customFieldInputPlaceholder,h=d.customFieldPhoneInvalidFormatMessage,g=v(N(),1)[0];return T.jsx("div",{className:$v,children:T.jsxs("div",{className:Kv,children:[T.jsx("div",{className:Jv,children:T.jsxs("div",{className:Xv,id:n,children:[r,l?T.jsx("span",{className:Av,"aria-label":"required",children:"*"}):null,T.jsx("div",{className:Qv,children:f||g("customFieldPhoneDescription")})]})}),T.jsxs("div",{className:eg,children:[T.jsx("input",{ref:t,value:i||"",autoComplete:"off",className:Qf(tg,A({},Ev,c)),name:n,onChange:a,onBlur:o,placeholder:p?g("customFieldPlaceholder",{type:p,label:hv(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),i&&i!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:ng,onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Yp,{})})]}),c&&T.jsx(Cv,{message:h||g("customFieldPhoneInvalidFormatMessage")})]})})})),ug=function(e){var t=e.target,n=e.className,r=void 0===n?"custom-bot":n,u=Wi(Zi),a=u.linkProtocol,o=u.linkTarget;return t?T.jsx(L,{className:r,as:"span",options:{defaultProtocol:a||me.linkProtocol,target:o||me.linkTarget,rel:"noopener noreferrer"},children:t}):null},ag="_customMessage_1bdmg_19",og="_avatarWrapper_1bdmg_26",ig="_avatarWrapperAlign_1bdmg_42",sg="_wrapper_1bdmg_46",cg="_messageContent_1bdmg_51",lg="_isBubble_1bdmg_69",dg=I.forwardRef((function(e,t){var n=e.message,r=e.isBubble,u=Wi(Zi),a=u.botIcon,o=u.botIconVerticalAlign;return T.jsxs("div",{className:ag,ref:t,children:[r?T.jsx("div",{className:Qf(og,A({},ig,"top"===(o||me.botIconVerticalAlign))),children:T.jsx(ns,{url:a})}):null,T.jsx("div",{className:sg,children:T.jsx("div",{className:Qf(cg,A({},lg,r)),children:T.jsx(ug,{target:n})})})]})})),fg="_customField_ns1ou_19",pg="_wrapper_ns1ou_24",hg="_labelWrapper_ns1ou_33",vg="_label_ns1ou_33",gg="_inputWrapper_ns1ou_49",mg="_input_ns1ou_49",Dg="_clear_ns1ou_80",_g=I.forwardRef((function(e,t){var n=e.name,r=e.label,u=e.resetField,a=e.onChange,o=e.onBlur,i=e.value,s=e.defaultValue,c=e.isError,l=e.required,d=Wi(Zi).customFieldInputPlaceholder,f=v(N(),1)[0];return T.jsx("div",{className:fg,children:T.jsxs("div",{className:pg,children:[T.jsx("div",{className:hg,children:T.jsxs("p",{className:vg,id:n,children:[r,l?T.jsx("span",{className:Av,"aria-label":"required",children:"*"}):null]})}),T.jsxs("div",{className:gg,children:[T.jsx("input",{ref:t,value:i||"",autoComplete:"off",className:Qf(mg,A({},Ev,c)),name:n,onChange:a,onBlur:o,placeholder:d?f("customFieldPlaceholder",{type:d,label:hv(r),interpolation:{escapeValue:!1}}):"","aria-labelledby":n}),i&&i!==s&&T.jsx("button",{"aria-label":"reset ".concat(r),className:Dg,onClick:function(){return u(n,{keepError:!0})},children:T.jsx(Yp,{})})]}),c&&T.jsx(Cv,{message:f("customFieldRequiredFormatMessage")})]})})})),yg="_container_1a188_19",bg="_title_1a188_27",Cg="_subTitle_1a188_41",Eg=function(e){var t=e.title,n=e.subTitle;return t||n?T.jsxs("div",{className:yg,children:[t&&T.jsx("p",{className:bg,children:T.jsx(ug,{target:t})}),n&&T.jsx("p",{className:Cg,children:T.jsx(ug,{target:n})})]}):null},Ag="_initialScreen_ced3c_19",xg={field_email:vv,field_number:gv},Fg=(s("I",S.forwardRef((function(e,t){var n=e.controls,r=e.welcomeMessage,u=e.onSubmitInitialScreen,a=e.defaultValues,o=e.enableValidation,i=e.active,s=e.updateChatFrameHeight,c=S.useRef(!1),l=vc().updateInitialScreenHeight,d=Kf({scene:"InitialScreen"}),f=d.osRef,p=d.onScroll,h=M({mode:"onChange",shouldFocusError:!1}),m=h.handleSubmit,_=h.control,y=h.formState.errors,b=h.resetField,C=S.useCallback((function(e){var t,n,r=(n=function(e,t){return!!t},null==(t=e)?t:Object.entries(t).reduce((function(e,r){var u=v(r,2),a=u[0],o=u[1];return n(a,o,t)&&(e[a.toLowerCase()]=o),e}),{})),o=E(E({},a),r);"function"==typeof u&&u(o,c.current)}),[a,u]);return S.useEffect((function(){if(i){var e=n.filter((function(e){return"field"===e.type||"dropdown"===e.type})),t=e.reduce((function(e,t){return e[t.argument]=(null==a?void 0:a[t.argument])||void 0,e}),{});e.length>0&&Object.values(t).every((function(e){return void 0!==e}))?C(a):e.forEach((function(e){return b(e.argument,{defaultValue:null==a?void 0:a[e.argument]})}))}}),[n,b,a,i,C]),S.useEffect((function(){var e,t=null===(e=f.current)||void 0===e?void 0:e.getElement();if(t){var n=new MutationObserver(pv(D(g().mark((function e(){var t;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s();case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)}))),100));return n.observe(t,{childList:!0,subtree:!0,attributeFilter:["data-initial-screen-loaded"]}),function(){n.disconnect()}}}),[f,s,l]),i?T.jsx($f,{ref:f,className:Ag,options:{scrollbars:{autoHide:"scroll"}},events:{scroll:p},children:T.jsxs("div",{ref:t,children:[T.jsx(Eg,{title:null==r?void 0:r.title,subTitle:null==r?void 0:r.subtitle}),T.jsx("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation()},"data-testid":"form",children:n.map((function(e){var t=(null==a?void 0:a[e.argument])||"";if("button"===e.type)return T.jsx("div",{children:T.jsx(yv,{label:e.label,trigger:e.trigger,submitHandle:function(){c.current=!(null==e||!e.enable_start_conversation),m(C)()}},e.key)},e.key);if("message"===e.type)return T.jsx("div",{children:T.jsx(dg,{isBubble:e.isBubble,message:e.value},e.key)},e.key);if("dropdown"===e.type)return T.jsx("div",{children:T.jsx(P,{name:null==e?void 0:e.argument,control:_,rules:{required:null==e?void 0:e.required},defaultValue:t,render:function(t){var n,r=t.field;return T.jsx(Rv,E(E({},r),{},{label:e.label,options:e.options||[],required:e.required,isError:"required"===(null===(n=y[null==e?void 0:e.argument])||void 0===n?void 0:n.type)}))}})},e.key);if("field"===e.type){if(o&&["field_email","field_number"].includes(e.define)){var n="field_email"===e.define?Gv:rg;return T.jsx("div",{children:T.jsx(P,{name:null==e?void 0:e.argument,control:_,rules:{required:null==e?void 0:e.required,validate:["field_email","field_number"].includes(null==e?void 0:e.define)?xg[null==e?void 0:e.define]:void 0},defaultValue:t,render:function(r){var u,a,o=r.field;return T.jsx(n,E(E({},o),{},{defaultValue:t,resetField:b,label:e.label,required:e.required,isError:"required"===(null===(u=y[null==e?void 0:e.argument])||void 0===u?void 0:u.type)||"validate"===(null===(a=y[null==e?void 0:e.argument])||void 0===a?void 0:a.type)}))}})},e.key)}return T.jsx("div",{children:T.jsx(P,{name:null==e?void 0:e.argument,control:_,rules:{required:null==e?void 0:e.required},defaultValue:t,render:function(n){var r,u=n.field;return T.jsx(_g,E(E({},u),{},{defaultValue:t,resetField:b,label:e.label,required:e.required,isError:"required"===(null===(r=y[null==e?void 0:e.argument])||void 0===r?void 0:r.type)}))}})},e.key)}}))})]})}):T.jsx(T.Fragment,{})}))),"_hiddenInput_fp29e_6"),wg=function(e){var t=e.disabled,n=e.onChange,r=S.useRef(null);return T.jsxs(Oh,{onClick:function(){var e;null===(e=r.current)||void 0===e||e.click()},disabled:t,"aria-label":"upload attachment",children:[T.jsx("input",{type:"file","aria-hidden":!0,accept:zo,onChange:function(e){var t=e.target.files;if(t){for(var u=0;u<t.length;u++){if(Po.indexOf(t[u].type)<0)return;var a=new FormData;a.append("file",t[u]);var o=Mo(t[u].type).prefix;if("application/pdf"===t[u].type&&(o="file"),t[u].size>le.FILE_SIZE)return;n(a,o)}r.current&&(r.current.value="")}},ref:r,tabIndex:-1,"data-testid":"file-input",className:Fg}),T.jsx(Wp,{})]})},kg={"emoji-picker":"_emoji-picker_nu187_19","emoji-picker-wrapper":"_emoji-picker-wrapper_nu187_40","emoji-picker-rtl":"_emoji-picker-rtl_nu187_94"},Bg=S.lazy((function(){return Se((function(){return l.import("./emoji-picker-react.esm-legacy-Ccqw_rz9.js")}),void 0,l.meta.url)})),jg=function(e){var t=e.onEmojiClick,n=e.visible,r=e.onTogglePicker,u=e.enableRTL,a=void 0!==u&&u,o=e.bottom,i=v(N(),1)[0],s=S.useRef(null),c=S.useMemo((function(){return{searchPlaceholder:i("emojiSearchPlaceholder"),categories:[{name:i("emojiCategorySuggested"),category:"suggested"},{name:i("emojiCategorySmileysPeople"),category:"smileys_people"},{name:i("emojiCategoryAnimalsNature"),category:"animals_nature"},{name:i("emojiCategoryFoodDrink"),category:"food_drink"},{name:i("emojiCategoryTravelPlaces"),category:"travel_places"},{name:i("emojiCategoryActivities"),category:"activities"},{name:i("emojiCategoryObjects"),category:"objects"},{name:i("emojiCategorySymbols"),category:"symbols"},{name:i("emojiCategoryFlags"),category:"flags"}]}}),[i]);return S.useEffect((function(){function e(e){s.current&&!s.current.contains(e.target)&&n&&r()}return document.addEventListener("click",e,!1),function(){document.removeEventListener("click",e,!1)}}),[r,n]),T.jsx("div",{className:[kg["emoji-picker"],a?kg["emoji-picker-rtl"]:""].filter(Boolean).join(" "),"data-testid":"emoji-picker",ref:s,"aria-hidden":!n,"aria-label":"emoji",style:{bottom:o},children:n&&T.jsx(S.Suspense,{fallback:T.jsx(Es,{size:"medium"}),children:T.jsx(Bg,{width:"100%",height:"100%",className:kg["emoji-picker-wrapper"],previewConfig:{showPreview:!1},emojiStyle:"native",onEmojiClick:t,suggestedEmojisMode:"recent",lazyLoadEmojis:!0,autoFocusSearch:!0,searchPlaceholder:c.searchPlaceholder,categories:c.categories})})})},Sg=function(e){var t=e.visible,n=e.setVisible,r=e.enableRTL,u=void 0!==r&&r,a=e.bottom,o=e.onSelect;return T.jsx(is,{fallback:T.jsx(T.Fragment,{}),onError:ip,children:T.jsx(jg,{visible:t,bottom:a,onTogglePicker:n,onEmojiClick:o,enableRTL:u})})},Tg=function(e){var t=e.disabled,n=e.onClick;return T.jsx(Oh,{onClick:n,disabled:t,"aria-label":"add emoji",children:T.jsx($p,{})})},Og=function(e){var t=e.disabled,n=e.onClick;return T.jsx(Oh,{onClick:function(){t||n()},disabled:t,"aria-label":"send message",children:T.jsx(Xp,{})})},Ig="_user-input-area_rldhy_19",Ng="_withSeparator_rldhy_27",Lg="_textarea-container_rldhy_31",Mg="_action-buttons_rldhy_67";s("U",(function(e){var t=v(S.useState(!1),2),n=t[0],r=t[1],u=e.enableEmoji,a=e.enableAttachments,o=e.send,i=e.typing,s=e.connected,c=e.enableRTL,l=void 0!==c&&c,d=e.showScreenLoading,f=void 0!==d&&d,p=v(S.useState(""),2),h=p[0],m=p[1],_=Wi(Zi),y=_.chatPlaceholder,b=_.chatAriaLabel,C=v(N(),1)[0],E=v(S.useState(null),2),x=E[0],F=E[1],w=mc(),k=_c(),B=k.scrollOffset,j=k.isBottom,O=S.useMemo((function(){return{chatPlaceholder:y||C("chatPlaceholder"),chatAriaLabel:b||C("chatAriaLabel")}}),[C,y,b]);S.useEffect((function(){return Ki.setState({userInputAreaRef:x}),w&&!f&&(null==x||x.focus()),function(){Ki.setState({userInputAreaRef:null})}}),[x,w,f]),S.useEffect((function(){h.length>0&&"va"!==Ki.getState().typingMode&&i()}),[h,i]);var I=function(){var e=D(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.trim()){e.next=2;break}return e.abrupt("return");case 2:r(!1),null==x||x.focus(),o({data:h.trim(),type:"text"}),m("");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=S.useRef(pv((function(){r((function(e){return!e}))}),0)).current,M=function(){var e=D(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.nativeEvent.isComposing){e.next=2;break}return e.abrupt("return");case 2:if("Enter"!==t.key||t.shiftKey){e.next=6;break}return t.preventDefault(),e.next=6,I();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return T.jsx("div",{id:"user-input-area",className:Qf(Ig,A({},Ng,B>0&&!j)),"data-testid":"user-input-area",children:T.jsxs("div",{className:Lg,children:[T.jsx(z,{name:"text",ref:function(e){return F(e)},placeholder:O.chatPlaceholder,maxLength:1e3,wrap:"soft",maxRows:4,onChange:function(e){var t=e.target.value;m(t)},value:h,"aria-label":O.chatAriaLabel,onKeyDown:function(e){return M(e)},enterKeyHint:"send",disabled:!s}),T.jsxs("div",{className:Mg,children:[a?T.jsx(wg,{disabled:!s,onChange:function(e,t){o({data:e,type:t}),null==x||x.focus()}}):null,u?T.jsx(Tg,{disabled:!s,onClick:L}):null,T.jsx(Og,{disabled:!s||!h.trim(),onClick:I})]}),u&&T.jsx(Sg,{bottom:(null==x?void 0:x.offsetHeight)||48,visible:n,setVisible:L,onSelect:function(e){m((function(t){return"".concat(t).concat(e.emoji)})),null==x||x.focus()},enableRTL:l})]})})})),s("C",{chat:"_chat_1oxpe_6",isDisabled:"_isDisabled_1oxpe_15",loadingWrapper:"_loadingWrapper_1oxpe_20"})}}}))}();
